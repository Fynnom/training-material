{"layout":"tutorial_hands_on","subtopic":"datamanipulation","priority":4,"title":"Matrix Exchange Format to ESet | Creating a single-cell RNA-seq reference dataset for deconvolution","questions":["Where can I find good quality scRNA-seq reference datasets?","How can I reformat and manipulate these downloads to create the right format for MuSiC?"],"objectives":["You will retrieve raw data from the EMBL-EBI Single cell expression atlas.","You will manipulate the metadata and matrix files.","You will combine the metadata and matrix files into an ESet object for MuSiC deconvolution.","You will create multiple ESet objects - both combined and separated out by disease phenotype for your single cell reference."],"time_estimation":"1H","key_points":["The EMBL-EBI Single-cell expression atlas contains high quality datasets.","Metadata manipulation is key for generating the correctly formatted resource."],"contributions":{"authorship":["nomadscientist","mtekman"],"testing":["MarisaJL"]},"requirements":[{"type":"internal","topic_name":"single-cell","tutorials":["bulk-music"]}],"follow_up_training":[{"type":"internal","topic_name":"single-cell","tutorials":["bulk-music-3-preparebulk"]}],"tags":["data management"],"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00241","url":"/topics/single-cell/tutorials/bulk-music-2-preparescref/tutorial.html","topic_name":"single-cell","tutorial_name":"bulk-music-2-preparescref","dir":"topics/single-cell/tutorials/bulk-music-2-preparescref","symlink":null,"id":"single-cell/bulk-music-2-preparescref","ref_tutorials":["<p>After completing the <a href=\"https://xuranw.github.io/MuSiC/articles/MuSiC.html\">MuSiC</a> <span class=\"citation\"><a href=\"#wang2019bulk\">Wang <i>et al.</i> 2019</a></span> deconvolution tutorial, you are hopefully excited to apply this analysis to data of your choice. Annoyingly, getting data in the right format is often what prevents us from being able to successfully apply analyses. This tutorial is all about reformatting a raw scRNA-seq dataset pulled from a public resource (the EMBL-EBI single cell expression atlas <span class=\"citation\"><a href=\"#Moreno2021\">Moreno <i>et al.</i> 2021</a></span>. Let’s get started!</p>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n  <p>In this tutorial, we will cover:</p>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#metadata-manipulation\" id=\"markdown-toc-metadata-manipulation\">Metadata Manipulation</a>    <ol>\n      <li><a href=\"#find-the-data\" id=\"markdown-toc-find-the-data\">Find the data</a></li>\n      <li><a href=\"#prepare-the-experimental-design-file\" id=\"markdown-toc-prepare-the-experimental-design-file\">Prepare the experimental design file</a></li>\n      <li><a href=\"#prepare-the-barcodes-file\" id=\"markdown-toc-prepare-the-barcodes-file\">Prepare the barcodes file</a></li>\n      <li><a href=\"#use-the-barcodes-list-to-filter-out-cells-in-the-experimental-design-file\" id=\"markdown-toc-use-the-barcodes-list-to-filter-out-cells-in-the-experimental-design-file\">Use the barcodes list to filter out cells in the experimental design file</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#manipulate-the-expression-matrix\" id=\"markdown-toc-manipulate-the-expression-matrix\">Manipulate the expression matrix</a>    <ol>\n      <li><a href=\"#reformat-the-matrix\" id=\"markdown-toc-reformat-the-matrix\">Reformat the matrix</a></li>\n      <li><a href=\"#collapse-ensemblids\" id=\"markdown-toc-collapse-ensemblids\">Collapse EnsemblIDs</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#construct-expression-set-objects\" id=\"markdown-toc-construct-expression-set-objects\">Construct Expression Set Objects</a></li>\n  <li><a href=\"#conclusion\" id=\"markdown-toc-conclusion\">Conclusion</a></li>\n</ol>\n\n</blockquote>\n\n<h1 id=\"metadata-manipulation\">Metadata Manipulation</h1>\n\n<p>First, we will tackle the metadata. We are roughly following the same concept as in the previous bulk deconvolution tutorial, by comparing human pancreas data across a disease variable (type II diabetes vs healthy), but using public datasets to do it.</p>\n\n<h2 id=\"find-the-data\">Find the data</h2>\n<p>We explored the <a href=\"https://www.ebi.ac.uk/gxa/sc/experiments\">single cell expression atlas</a>, browsing experiments in order to find a pancreas dataset (<span class=\"citation\"><a href=\"#segerstolpe2016single\">Segerstolpe <i>et al.</i> 2016</a></span>). You can <a href=\"https://www.ebi.ac.uk/gxa/sc/experiments/E-MTAB-5061/results/tsne\">explore this dataset</a> using their browser. These cells come from 6 healthy individuals and 4 individuals with Type II diabetes, so we will create reference Expression Set objects for the total as well as separating out by phenotype, as you may have reason to do this in your analysis (or you may not!).</p>\n\n<!--SNIPPET-->\n<blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-using-tutorial-mode\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-using-tutorial-mode\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Using tutorial mode</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <p>Tools are frequently updated to new versions. Your Galaxy may have multiple versions of the same tool available. By default, you will be shown the latest version of the tool. This may NOT be the same tool used in the tutorial you are accessing. Furthermore, if you use a newer tool in one step, and try using an older tool in the next step… this may fail! To ensure you use the same tool versions of a given tutorial, use the <strong>Tutorial mode</strong> feature.</p>   <ul>   <li>Open your Galaxy server</li>   <li>Click on the <i class=\"fas fa-graduation-cap\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">curriculum</span> icon on the top menu, this will open the GTN inside Galaxy.</li>   <li>Navigate to your tutorial</li>   <li>Tool names in tutorials will be blue buttons that open the correct tool for you</li>   <li><strong>Note:</strong> this does not work for all tutorials (yet)   <img src=\"/training-material/topics/contributing/images/88277962-ddda4a80-cce1-11ea-92cd-41b1df063db0.gif\" alt=\"gif showing how GTN-in-Galaxy works\" /></li>   <li>You can click anywhere in the grey-ed out area outside of the tutorial box to return back to the Galaxy analytical interface</li> </ul>   <blockquote class=\"warning\">   <warning-title>Not all browsers work!</warning-title>   <ul>     <li>We’ve had some issues with Tutorial mode on Safari for Mac users.</li>     <li>Try a <strong>different browser</strong> if you aren’t seeing the button.</li>   </ul> </blockquote> </blockquote>\n<p><!--END_SNIPPET--></p>\n\n<p>Galaxy has a specific tool for ingesting data from the Single cell expression atlas, so there are no uploads for this tutorial.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Data retrieval</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ebi-gxa/retrieve_scxa/retrieve_scxa/v0.0.2+galaxy2\" title=\"EBI SCXA Data Retrieval tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>EBI SCXA Data Retrieval</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version v0.0.2+galaxy2)</span> with the following parameters:\n      <ul>\n        <li><em>“SC-Atlas experiment accession”</em>: <code class=\"language-plaintext highlighter-rouge\">E-MTAB-5061</code></li>\n      </ul>\n    </li>\n  </ol>\n\n  <p>Data management is going to be key in this analysis, so trust me now to start adding tags.</p>\n  <ol>\n    <li>\n      <p>Add to the <strong>EBI SCXA Data Retrieval on E-MTAB-5061 exp_design.tsv</strong> file the following tags: <code class=\"language-plaintext highlighter-rouge\">#ebi #metadata #singlecell</code></p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-adding-a-tag\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-adding-a-tag\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Adding a tag</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ol>   <li>Click on the dataset to expand it</li>   <li>Click on <strong>Add Tags</strong> <i class=\"fas fa-tags\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-tags</span></li>   <li>Add a tag  starting with <code class=\"language-plaintext highlighter-rouge\">#</code>     <ul>       <li>Tags starting with <code class=\"language-plaintext highlighter-rouge\">#</code> will be automatically propagated to the outputs of tools using this dataset.</li>     </ul>   </li>   <li>Press <kbd>Enter</kbd></li>   <li>Check that the tag appears below the dataset name</li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n  </ol>\n</blockquote>\n\n<p>This tool will retrieve four files: a barcodes list, a genes list, an experimental design file, and a matrix market format (where columns refer to genes, cells, and quantities). We (mostly) only need the experimental design file, but keep in mind this will have data on all the cells reported by the authors.</p>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n\n  <ol>\n    <li>How many cells are in the sample?</li>\n    <li>How many cells were submitted by the authors?</li>\n  </ol>\n\n  <blockquote class=\"solution\">\n    <div id=\"solution-1\" class=\"box-title\"><button type=\"button\" aria-controls=\"solution-1-contents\" aria-expanded=\"true\" aria-label=\"Toggle solution box: \"><i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\"></span> Solution<span role=\"button\" class=\"fold-unfold fa fa-minus-square\"></span></button></div>\n\n    <ol>\n      <li>If you select the <i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <strong>barcodes.tsv</strong> file, you’ll find that it contains 2914 lines - this corresponds to the 2914 cells, because each cell is given a barcode.</li>\n      <li>The nature of public repositories is that they ingest data from many places, which means they usually apply a uniform analysis to samples. This rarely means they yield the same cell numbers as the original authors. If you check the <i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <strong>exp_design.tsv</strong> file, which refers to the data submitted by the authors, you’ll find it contains 3514 lines - referring to 3514 cells submitted by authors. It’s important to know that (currently) these files differ.</li>\n    </ol>\n\n  </blockquote>\n</blockquote>\n\n<h2 id=\"prepare-the-experimental-design-file\">Prepare the experimental design file</h2>\n\n<p>Let’s get rid of a bunch of repetitive columns in the metadata we don’t need. You can find out what each column is by inspecting the dataset <i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-eye</span> in the history window.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Cutting necessary metadata columns</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"Cut1\" title=\"Cut tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Cut</strong></span> with the following parameters:\n      <ul>\n        <li><em>“Cut columns”</em>: <code class=\"language-plaintext highlighter-rouge\">c1,c4,c6,c8,c10,c14,c20,c24,c26,c30,c32,c34</code></li>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“From”</em>: <code class=\"language-plaintext highlighter-rouge\">design_tsv</code> (output of <strong>EBI SCXA Data Retrieval</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n      </ul>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>You can inspect the dataset <i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-eye</span> to see that it’s full of annoying “” everywhere, and overly long descriptions of each columns.</p>\n\n<figure id=\"figure-1\" style=\"max-width: 90%;\"><img src=\"../../images/bulk-music/annoying_ebimetadata.png\" alt=\"Columns in Galaxy history window contain &quot;Assay&quot; and &quot;&quot; around every word or ID. \" width=\"766\" height=\"448\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/bulk-music/annoying_ebimetadata.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 1</strong>:</span> Annoying metadata</figcaption></figure>\n\n<p>Now, there might be a better way to do this in Galaxy (or you might consider downloading the file locally and changing it in a spreadsheet application or something), but this is what will work to reformat all that annoying text.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Reformatting the metadata</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regex1/1.0.2\" title=\"Regex Find And Replace tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Regex Find And Replace</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.0.2)</span> with the following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Select lines from”</em>: <code class=\"language-plaintext highlighter-rouge\">out_file1</code> (output of <strong>Cut</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li>In <em>“Check”</em>:\n          <ul>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Sample Characteristic\\[individual\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">Individual</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Sample Characteristic\\[sex\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">Sex</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Sample Characteristic\\[age\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">Age</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Sample Characteristic\\[body mass index\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">BMI</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">kilogram per square meter</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">HbA1c </code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Sample Characteristic\\[clinical information\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">HbA1c</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">%</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Sample Characteristic\\[disease\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">Disease</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Sample Characteristic\\[single cell quality\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">Single cell quality</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Sample Characteristic\\[submitted single cell quality\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Submitted single cell quality\"</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Factor Value\\[inferred cell type - ontology labels\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">Inferred cell type - ontology label</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"Factor Value\\[inferred cell type - authors labels\\]\"</code></li>\n                <li><em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">Inferred cell type - author labels</code></li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"\"</code></li>\n                <li><em>“Replacement”</em>:</li>\n              </ul>\n            </li>\n            <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Check”</em>\n              <ul>\n                <li><em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">\"</code></li>\n                <li><em>“Replacement”</em>:</li>\n              </ul>\n            </li>\n          </ul>\n        </li>\n      </ul>\n\n      <blockquote class=\"comment\">\n        <comment-title></comment-title>\n\n        <p>What’s with the <code class=\"language-plaintext highlighter-rouge\">\\</code> everywhere? That’s because the <code class=\"language-plaintext highlighter-rouge\">[]</code> symbols usually call the code to do something, rather than just read it as a normal character. the <code class=\"language-plaintext highlighter-rouge\">\\</code> prevents this.</p>\n      </blockquote>\n    </li>\n    <li>\n      <p>Change the datatype to tabular.</p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-changing-the-datatype\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-changing-the-datatype\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Changing the datatype</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Click on the <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> <strong>pencil icon</strong> for the dataset to edit its attributes</li>   <li>In the central panel, click <i class=\"fas fa-database\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-chart-select-data</span> <strong>Datatypes</strong> tab on the top</li>   <li>In the <i class=\"fas fa-database\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-chart-select-data</span> <strong>Assign Datatype</strong>, select <code class=\"language-plaintext highlighter-rouge\">tabular</code> from “<em>New type</em>” dropdown     <ul>       <li>Tip: you can start typing the datatype into the field to filter the dropdown menu</li>     </ul>   </li>   <li>Click the <strong>Save</strong> button</li> </ul> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>Great, this file is now ready to go! But, it contains all those extra cells that didn’t pass filtration with the EBI pipeline and therefore won’t exist in the matrix. We need to remove them for future steps to work. We can use our barcodes list to remove the extra cells.</p>\n\n<h2 id=\"prepare-the-barcodes-file\">Prepare the barcodes file</h2>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Adding a header</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/add_line_to_file/add_line_to_file/0.1.0\" title=\"Add line to file tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Add line to file</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.1.0)</span> with the following parameters:\n      <ul>\n        <li><em>“text to add”</em>: <code class=\"language-plaintext highlighter-rouge\">Cell</code></li>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“input file”</em>: <code class=\"language-plaintext highlighter-rouge\">barcode_tsv</code> (output of <strong>EBI SCXA Data Retrieval</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n      </ul>\n    </li>\n    <li>\n      <p>Change the datatype to tabular.</p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-changing-the-datatype-1\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-changing-the-datatype-1\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Changing the datatype</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Click on the <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> <strong>pencil icon</strong> for the dataset to edit its attributes</li>   <li>In the central panel, click <i class=\"fas fa-database\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-chart-select-data</span> <strong>Datatypes</strong> tab on the top</li>   <li>In the <i class=\"fas fa-database\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-chart-select-data</span> <strong>Assign Datatype</strong>, select <code class=\"language-plaintext highlighter-rouge\">tabular</code> from “<em>New type</em>” dropdown     <ul>       <li>Tip: you can start typing the datatype into the field to filter the dropdown menu</li>     </ul>   </li>   <li>Click the <strong>Save</strong> button</li> </ul> </blockquote>\n      <p><!--END_SNIPPET--></p>\n\n      <blockquote class=\"comment\">\n        <comment-title></comment-title>\n\n        <p>This is an annoying step we have to do to get the right format, otherwise future steps won’t work.</p>\n      </blockquote>\n    </li>\n  </ol>\n\n</blockquote>\n\n<h2 id=\"use-the-barcodes-list-to-filter-out-cells-in-the-experimental-design-file\">Use the barcodes list to filter out cells in the experimental design file</h2>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Joining datasets</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"join1\" title=\"Join two Datasets tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Join two Datasets</strong></span> with the following parameters:\n      <ul class=\"comment\">\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Join”</em>: <code class=\"language-plaintext highlighter-rouge\">outfile</code> (output of <strong>Add line to file</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><em>“using column”</em>: <code class=\"language-plaintext highlighter-rouge\">c1</code></li>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“with”</em>: <code class=\"language-plaintext highlighter-rouge\">out_file1</code> (output of <strong>Regex Find And Replace</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><em>“and column”</em>: <code class=\"language-plaintext highlighter-rouge\">c1</code></li>\n        <li><em>“Fill empty columns”</em>: <code class=\"language-plaintext highlighter-rouge\">No</code></li>\n        <li><em>“Keep the header lines”</em>: <code class=\"language-plaintext highlighter-rouge\">Yes</code>\n          <blockquote>\n            <comment-title></comment-title>\n\n            <p>Make sure that you join the files in the same order as above - put the output of Add line to file in first - otherwise your columns will be in a different order for the next step. Everything will still work, but you would need to change the number of the column you remove using Advanced Cut.</p>\n          </blockquote>\n        </li>\n      </ul>\n    </li>\n  </ol>\n</blockquote>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n\n  <ol>\n    <li>How many cells are now in your table?</li>\n    <li>Is your table ready to go?</li>\n  </ol>\n\n  <blockquote class=\"solution\">\n    <div id=\"solution-1\" class=\"box-title\"><button type=\"button\" aria-controls=\"solution-1-contents\" aria-expanded=\"true\" aria-label=\"Toggle solution box: \"><i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\"></span> Solution<span role=\"button\" class=\"fold-unfold fa fa-minus-square\"></span></button></div>\n\n    <ol>\n      <li>If you select the output dataset in your history, you will find <code class=\"language-plaintext highlighter-rouge\">2915</code> lines, corresponding to 2914 cells and a header. Success!</li>\n      <li>Not quite - notice how you have two identical columns <code class=\"language-plaintext highlighter-rouge\">Cell</code> and <code class=\"language-plaintext highlighter-rouge\">Assay</code>? Let’s get rid of one.</li>\n    </ol>\n\n  </blockquote>\n</blockquote>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Remove duplicate columns</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0\" title=\"Advanced Cut tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Advanced Cut</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.1.0)</span> with the following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“File to cut”</em>: <code class=\"language-plaintext highlighter-rouge\">out_file1</code> (output of <strong>Join two Datasets</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><em>“Operation”</em>: <code class=\"language-plaintext highlighter-rouge\">Discard</code></li>\n        <li><em>“Cut by”</em>: <code class=\"language-plaintext highlighter-rouge\">fields</code>\n          <ul>\n            <li><em>“List of Fields”</em>: <code class=\"language-plaintext highlighter-rouge\">c1</code></li>\n          </ul>\n        </li>\n      </ul>\n\n      <blockquote class=\"comment\">\n        <comment-title></comment-title>\n\n        <p>Advanced cut works slightly differently in a workflow versus running the tool independently. Independently, there is a list and you can click through the list to note your columns, while in a workflow it appears as a text option and you put each column on a different line. The point is, each number above represents a column, so remove them!</p>\n      </blockquote>\n    </li>\n  </ol>\n</blockquote>\n\n<p>Fantastic! You’ve completed part 1 - making the single cell metadata file. It should now look like this:</p>\n\n<figure id=\"figure-2\" style=\"max-width: 90%;\"><img src=\"../../images/bulk-music/corrected_ebimetadata.png\" alt=\"Columns in the history window of a dataset contain words without any extra symbols or &quot;&quot;. \" width=\"786\" height=\"458\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/bulk-music/corrected_ebimetadata.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 2</strong>:</span> Pretty scRNA metadata</figcaption></figure>\n\n<p>You can use the <a href=\"https://usegalaxy.eu/u/wendi.bacon.training/w/music-deconvolution-data-generation--sc--metadata\">workflow for this portion of the tutorial</a>, and access an <a href=\"https://usegalaxy.eu/u/wendi.bacon.training/h/music-deconvolution-data-generation--sc--metadata\">example history</a>.</p>\n\n<h1 id=\"manipulate-the-expression-matrix\">Manipulate the expression matrix</h1>\n\n<p>Currently, the matrix data is in a 3-column format common in 10x outputs, where you need the barcodes and the genes files to interpret the matrix. What you actually need is an expression matrix with cells on one axis and genes on another. While we aren’t running a Scanpy analysis, we can still use our Scanpy tools to get this format.</p>\n\n<h2 id=\"reformat-the-matrix\">Reformat the matrix</h2>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Task description</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ebi-gxa/scanpy_read_10x/scanpy_read_10x/1.8.1+galaxy0\" title=\"Scanpy Read10x tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Scanpy Read10x</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.8.1+galaxy0)</span> with the following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Expression matrix in sparse matrix format (.mtx)”</em>: <code class=\"language-plaintext highlighter-rouge\">matrix_mtx</code> (output of <strong>EBI SCXA Data Retrieval</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Gene table”</em>: <code class=\"language-plaintext highlighter-rouge\">genes_tsv</code> (output of <strong>EBI SCXA Data Retrieval</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Barcode/cell table”</em>: <code class=\"language-plaintext highlighter-rouge\">barcode_tsv</code> (output of <strong>EBI SCXA Data Retrieval</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><em>“Format of output object”</em>: <code class=\"language-plaintext highlighter-rouge\">AnnData format (h5 for older versions)</code></li>\n      </ul>\n    </li>\n    <li>\n      <p>Change the datatype to <code class=\"language-plaintext highlighter-rouge\">h5ad</code></p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-changing-the-datatype-2\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-changing-the-datatype-2\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Changing the datatype</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Click on the <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> <strong>pencil icon</strong> for the dataset to edit its attributes</li>   <li>In the central panel, click <i class=\"fas fa-database\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-chart-select-data</span> <strong>Datatypes</strong> tab on the top</li>   <li>In the <i class=\"fas fa-database\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-chart-select-data</span> <strong>Assign Datatype</strong>, select <code class=\"language-plaintext highlighter-rouge\">h5ad</code> from “<em>New type</em>” dropdown     <ul>       <li>Tip: you can start typing the datatype into the field to filter the dropdown menu</li>     </ul>   </li>   <li>Click the <strong>Save</strong> button</li> </ul> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>Now your precious matrix is stored in the 10x AnnData object. Let’s retrieve it!</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Inspect the matrix</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.7.5+galaxy1\" title=\"Inspect AnnData tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Inspect AnnData</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.7.5+galaxy1)</span> with the following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Annotated data matrix”</em>: <code class=\"language-plaintext highlighter-rouge\">output_h5</code> (output of <strong>Scanpy Read10x</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><em>“What to inspect?”</em>: <code class=\"language-plaintext highlighter-rouge\">The full data matrix</code></li>\n      </ul>\n    </li>\n  </ol>\n\n</blockquote>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n\n  <ol>\n    <li>Which are currently the rows in your matrix, cells or genes?</li>\n  </ol>\n\n  <blockquote class=\"solution\">\n    <div id=\"solution-1\" class=\"box-title\"><button type=\"button\" aria-controls=\"solution-1-contents\" aria-expanded=\"true\" aria-label=\"Toggle solution box: \"><i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\"></span> Solution<span role=\"button\" class=\"fold-unfold fa fa-minus-square\"></span></button></div>\n\n    <ol>\n      <li>You may remember from earlier that the sample should have <code class=\"language-plaintext highlighter-rouge\">2914 cells</code> in it. If you inspect the dataset in your history, you will find that it contains <code class=\"language-plaintext highlighter-rouge\">2915</code> lines (1 for the header), which means that rows correspond to cells. Unfortunately… that’s not what you need.</li>\n    </ol>\n\n  </blockquote>\n</blockquote>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Transpose the matrix</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/iuc/datamash_transpose/datamash_transpose/1.1.0+galaxy2\" title=\"Transpose tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Transpose</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.1.0+galaxy2)</span> with the following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Input tabular dataset”</em>: <code class=\"language-plaintext highlighter-rouge\">X</code> (output of <strong>Inspect AnnData</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n      </ul>\n    </li>\n  </ol>\n\n</blockquote>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n\n  <ol>\n    <li>How many genes are in your sample?</li>\n  </ol>\n\n  <blockquote class=\"solution\">\n    <div id=\"solution-1\" class=\"box-title\"><button type=\"button\" aria-controls=\"solution-1-contents\" aria-expanded=\"true\" aria-label=\"Toggle solution box: \"><i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\"></span> Solution<span role=\"button\" class=\"fold-unfold fa fa-minus-square\"></span></button></div>\n\n    <ol>\n      <li>You should have <code class=\"language-plaintext highlighter-rouge\">30,416</code> lines in it, meaning your sample has <code class=\"language-plaintext highlighter-rouge\">30,415</code> genes.</li>\n    </ol>\n\n  </blockquote>\n</blockquote>\n\n<h2 id=\"collapse-ensemblids\">Collapse EnsemblIDs</h2>\n\n<p>Ok, real talk here. Technically, the best way of analysing anything is by using the EnsemblIDs for any given RNA transcript, because they are more specific than gene names and also cover more of the transcriptome than our gene names…\nBut…\nAs biologists, it’s very difficult to interpret ENSIDs. And it’s an awful shame to get to the end of the MuSiC deconvolution and have all our plots show sad ENS IDs. So, courtesy of the excellent @mtekman, we steal his workflow to collapse the ENS IDs into gene names.</p>\n\n<figure id=\"figure-3\" style=\"max-width: 90%;\"><img src=\"../../images/bulk-music/ensid_collapse.png\" alt=\"First table shows 4 rows with different ENS IDs and a second column with geney symbols and some overlap. Arrow pointing to second table shows 3 rows having collapsed the overlap.\" width=\"1597\" height=\"431\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/bulk-music/ensid_collapse.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 3</strong>:</span> Collapsing ENS IDs</figcaption></figure>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Convert from Ensembl to GeneSymbol using workflow</hands-on-title>\n\n  <ol>\n    <li>\n      <p>Import this <a href=\"https://usegalaxy.eu/u/wendi.bacon.training/w/convert-from-ensembl-to-genesymbol-summing-duplicate-genes\">workflow</a>.</p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-importing-a-workflow\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-importing-a-workflow\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Importing a workflow</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Click on <em>Workflow</em> on the top menu bar of Galaxy. You will see a list of all your workflows.</li>   <li>Click on <i class=\"fas fa-upload\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-upload</span> <strong>Import</strong> at the top-right of the screen</li>   <li>Provide your workflow     <ul>       <li>Option 1: Paste the URL of the workflow into the box labelled <em>“Archived Workflow URL”</em></li>       <li>Option 2: Upload the workflow file in the box labelled <em>“Archived Workflow File”</em></li>     </ul>   </li>   <li>Click the <strong>Import workflow</strong> button</li> </ul>   <p>Below is a short video demonstrating how to import a workflow from GitHub using this procedure:</p>   <figure> <iframe credentialless=\"\" allowfullscreen=\"\" referrerpolicy=\"no-referrer\" sandbox=\"allow-scripts allow-same-origin\" allow=\"accelerometer 'none'; ambient-light-sensor 'none'; autoplay 'none'; battery 'none'; bluetooth 'none'; browsing-topics 'none'; camera 'none'; ch-ua 'none'; display-capture 'none'; domain-agent 'none'; document-domain 'none'; encrypted-media 'none'; execution-while-not-rendered 'none'; execution-while-out-of-viewport 'none'; gamepad 'none'; geolocation 'none'; gyroscope 'none'; hid 'none'; identity-credentials-get 'none'; idle-detection 'none'; keyboard-map 'none'; local-fonts 'none'; magnetometer 'none'; microphone 'none'; midi 'none'; navigation-override 'none'; otp-credentials 'none'; payment 'none'; picture-in-picture 'none'; publickey-credentials-create 'none'; publickey-credentials-get 'none'; screen-wake-lock 'none'; serial 'none'; speaker-selection 'none'; sync-xhr 'none'; usb 'none'; web-share 'none'; window-management 'none'; xr-spatial-tracking 'none'\" csp=\"sandbox allow-scripts allow-same-origin;\" width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/hoP36Te5wko\" title=\"Importing a workflow from URL\" frameborder=\"0\" loading=\"lazy\"></iframe> <figcaption>   <span class=\"figcaption-prefix\"><strong>Video</strong>:</span> Importing a workflow from URL</figcaption> </figure> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n    <li>\n      <p>Run the workflow on your sample with the following parameters:</p>\n      <ul>\n        <li><em>“Organism”</em>: <code class=\"language-plaintext highlighter-rouge\">Human</code></li>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Expression Matrix (Gene Rows)”</em>: <code class=\"language-plaintext highlighter-rouge\">output_h5</code> (output of <strong>Transpose</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n      </ul>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-running-a-workflow\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-running-a-workflow\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Running a workflow</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Click on <em>Workflow</em> on the top menu bar of Galaxy. You will see a list of all your workflows.</li>   <li>Click on the <i class=\"fas fa-play\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">workflow-run</span> (<em>Run workflow</em>) button next to your workflow</li>   <li>Configure the workflow as needed</li>   <li>Click the <strong>Run Workflow</strong> button at the top-right of the screen</li>   <li>You may have to refresh your history to see the queued jobs</li> </ul> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>The output will likely be called <strong>Text transformation</strong> and will look like this:</p>\n\n<figure id=\"figure-4\" style=\"max-width: 90%;\"><img src=\"../../images/bulk-music/ensid_output.png\" alt=\"Alphabetised gene symbols appear in column one with decimal pointed integers in the following columns corresponding to cells. \" width=\"792\" height=\"480\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/bulk-music/ensid_output.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 4</strong>:</span> Output of the ENS ID collapsing workflow</figcaption></figure>\n\n<h1 id=\"construct-expression-set-objects\">Construct Expression Set Objects</h1>\n\n<p>We’re nearly there! We have three more tasks to do: first, we need to create the expression set object with all the phenotypes combined. Then, we also want to create two separate objects - one for healthy and one for diseased as references.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Creating the combined object</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/music_construct_eset/music_construct_eset/0.1.1+galaxy4\" title=\"Construct Expression Set Object tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Construct Expression Set Object</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.1.1+galaxy4)</span> with the following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Assay Data”</em>: <code class=\"language-plaintext highlighter-rouge\">out_file</code> #matrix (output of <strong>Text transformation</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Phenotype Data”</em>: <code class=\"language-plaintext highlighter-rouge\">output</code> (output of <strong>Advanced Cut</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n      </ul>\n    </li>\n    <li>\n      <p>Remove the <code class=\"language-plaintext highlighter-rouge\">#metadata #matrix</code> tags from the output <strong>RData ESet Object</strong></p>\n    </li>\n    <li>Add the tag <code class=\"language-plaintext highlighter-rouge\">#combined</code> to the output <strong>RData ESet Object</strong></li>\n  </ol>\n\n</blockquote>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n\n  <ol>\n    <li>How many genes are in your sample now?</li>\n  </ol>\n\n  <blockquote class=\"solution\">\n    <div id=\"solution-1\" class=\"box-title\"><button type=\"button\" aria-controls=\"solution-1-contents\" aria-expanded=\"true\" aria-label=\"Toggle solution box: \"><i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\"></span> Solution<span role=\"button\" class=\"fold-unfold fa fa-minus-square\"></span></button></div>\n\n    <ol>\n      <li>If you select the <i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-eye</span> of the output <strong>General Info</strong> dataset in the history, you will find it contains 21671 features and 2914 samples, or rather, <code class=\"language-plaintext highlighter-rouge\">21671</code> genes and <code class=\"language-plaintext highlighter-rouge\">2914</code> cells. That’s a huge reduction in genes thanks to the ENS ID collapsing!</li>\n    </ol>\n\n  </blockquote>\n</blockquote>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Creating the disease-only object</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/music_manipulate_eset/music_manipulate_eset/0.1.1+galaxy4\" title=\"Manipulate Expression Set Object tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Manipulate Expression Set Object</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.1.1+galaxy4)</span> with the following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Expression Set Dataset”</em>: <code class=\"language-plaintext highlighter-rouge\">out_rds</code> (output of <strong>Construct Expression Set Object</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><em>“Concatenate other Expression Set objects?”</em>: <code class=\"language-plaintext highlighter-rouge\">No</code></li>\n        <li><em>“Subset the dataset?”</em>: <code class=\"language-plaintext highlighter-rouge\">Yes</code>\n          <ul>\n            <li><em>“By”</em>: <code class=\"language-plaintext highlighter-rouge\">Filter Samples and Genes by Phenotype Values</code>\n              <ul>\n                <li>In <em>“Filter Samples by Condition”</em>:\n                  <ul>\n                    <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Filter Samples by Condition”</em>\n                      <ul>\n                        <li><em>“Name of phenotype column”</em>: <code class=\"language-plaintext highlighter-rouge\">Disease</code></li>\n                        <li><em>“List of values in this column to filter for, comma-delimited”</em>: <code class=\"language-plaintext highlighter-rouge\">type II diabetes mellitus</code></li>\n                      </ul>\n                    </li>\n                  </ul>\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </li>\n    <li>\n      <p>Remove the <code class=\"language-plaintext highlighter-rouge\">#combined</code> tag from the output <strong>RData ESet Object</strong></p>\n    </li>\n    <li>Add the tag <code class=\"language-plaintext highlighter-rouge\">#T2D</code> to the output <strong>RData ESet Object</strong></li>\n  </ol>\n\n</blockquote>\n\n<p>You can either re-run this tool or set it up again to create the healthy-only object.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Creating the healthy-only object</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/music_manipulate_eset/music_manipulate_eset/0.1.1+galaxy4\" title=\"Manipulate Expression Set Object tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Manipulate Expression Set Object</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.1.1+galaxy4)</span> with the following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Expression Set Dataset”</em>: <code class=\"language-plaintext highlighter-rouge\">out_rds</code> (output of <strong>Construct Expression Set Object</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span>)</li>\n        <li><em>“Concatenate other Expression Set objects?”</em>: <code class=\"language-plaintext highlighter-rouge\">No</code></li>\n        <li><em>“Subset the dataset?”</em>: <code class=\"language-plaintext highlighter-rouge\">Yes</code>\n          <ul>\n            <li><em>“By”</em>: <code class=\"language-plaintext highlighter-rouge\">Filter Samples and Genes by Phenotype Values</code>\n              <ul>\n                <li>In <em>“Filter Samples by Condition”</em>:\n                  <ul>\n                    <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> <em>“Insert Filter Samples by Condition”</em>\n                      <ul>\n                        <li><em>“Name of phenotype column”</em>: <code class=\"language-plaintext highlighter-rouge\">Disease</code></li>\n                        <li><em>“List of values in this column to filter for, comma-delimited”</em>: <code class=\"language-plaintext highlighter-rouge\">normal</code></li>\n                      </ul>\n                    </li>\n                  </ul>\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </li>\n    <li>\n      <p>Remove the <code class=\"language-plaintext highlighter-rouge\">#combined</code> tag from the output <strong>RData ESet Object</strong></p>\n    </li>\n    <li>Add the tag <code class=\"language-plaintext highlighter-rouge\">#healthy</code> to the output <strong>RData ESet Object</strong></li>\n  </ol>\n\n</blockquote>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n\n  <ol>\n    <li>Why are you making a healthy-only and diseased-only reference objects?</li>\n  </ol>\n\n  <blockquote class=\"solution\">\n    <div id=\"solution-1\" class=\"box-title\"><button type=\"button\" aria-controls=\"solution-1-contents\" aria-expanded=\"true\" aria-label=\"Toggle solution box: \"><i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\"></span> Solution<span role=\"button\" class=\"fold-unfold fa fa-minus-square\"></span></button></div>\n\n    <ol>\n      <li>We could imagine that the cells will express different transcript levels, but that the deconvolution tools will have to take some sort of average. Perhaps it might be more accurate to infer like from like, i.e. healthy from healthy? Or perhaps that is skewing the data through a more ‘supervised’ approach. We’re not   quite sure, and it likely depends on the biology, so we’re covering all our bases by making sure you can do this every way. (We’ve tested it on our dataset in all the ways and got the same results, so it doesn’t make much of a difference as far as we can tell!)</li>\n    </ol>\n\n  </blockquote>\n</blockquote>\n\n<h1 id=\"conclusion\">Conclusion</h1>\n\n<p>You have successfully performed, essentially, three workflows. You can find the <a href=\"https://usegalaxy.eu/u/wendi.bacon.training/w/music-deconvolution-data-generation--sc--matrix--eset\">workflows for generating the ESet object</a> and the <a href=\"https://usegalaxy.eu/u/wendi.bacon.training/h/music-deconvolution-data-generation--sc--matrix--eset\">answer key history for this entire tutorial</a>.</p>\n\n<figure id=\"figure-5\" style=\"max-width: 90%;\"><img src=\"../../images/bulk-music/scref-metadata.png\" alt=\"6 boxes in the workflow editor. \" width=\"1358\" height=\"354\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/bulk-music/scref-metadata.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 5</strong>:</span> Workflow: Manipulating metadata</figcaption></figure>\n\n<figure id=\"figure-6\" style=\"max-width: 90%;\"><img src=\"../../images/bulk-music/scref-eset.png\" alt=\"9 boxes including a subworkflow in the workflow editor. \" width=\"1090\" height=\"252\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/bulk-music/scref-eset.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 6</strong>:</span> Workflow: Creating the ESet single-cell object</figcaption></figure>\n\n<figure id=\"figure-7\" style=\"max-width: 90%;\"><img src=\"../../images/bulk-music/ens-id-collapse.png\" alt=\"8 boxes in the workflow editor. \" width=\"984\" height=\"632\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/bulk-music/ens-id-collapse.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 7</strong>:</span> Subworkflow: Collapsing the Ensembl IDs into gene names</figcaption></figure>\n\n<p>With these workflows, you’ve created three Expression Set objects, capable of running in the MuSiC Compare tutorial. Now you just need the bulk RNA-seq Expression Set objects!</p>\n\n<p>This tutorial is part of the <a href=\"https://singlecell.usegalaxy.eu\">https://singlecell.usegalaxy.eu</a> portal (<span class=\"citation\"><a href=\"#tekman2020single\">Tekman <i>et al.</i> 2020</a></span>).</p>\n\n<!--SNIPPET-->\n<blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-how-can-i-talk-with-other-users\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-how-can-i-talk-with-other-users\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: How can I talk with other users?</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <p><i class=\"far fa-comments\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">feedback</span> To discuss with like-minded scientists, join our <a href=\"http://gxy.io/gtn-slack\">Galaxy Training Network chatspace in Slack</a> and discuss with fellow users of Galaxy single cell analysis tools on <a href=\"https://gtnsmrgsbord.slack.com/archives/C06PBRR40D7\">#single-cell-users</a></p>   <p>We also post new tutorials / workflows there from time to time, as well as any other news.</p>   <p><i class=\"far fa-hand-point-right\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">point-right</span> If you’d like to contribute ideas, requests or feedback as part of the wider community building single-cell and spatial resources within Galaxy, you can also join our <a href=\"https://galaxyproject.org/community/sig/singlecell/\">Single cell &amp; sPatial Omics Community of Practice</a>.</p>   <p><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span> You can request tools here on our <a href=\"https://docs.google.com/spreadsheets/d/15hqgqA-RMDhXR-ylKhRF-Dab9Ij2arYSKiEVoPl2df4/edit?usp=sharing\">Single Cell and Spatial Omics Community Tool Request Spreadsheet</a></p> </blockquote>\n<p><!--END_SNIPPET--></p>\n"],"ref_slides":[],"hands_on":true,"slides":false,"mod_date":"2023-12-14 17:19:21 +0000","pub_date":"2023-01-20 10:58:39 +0000","version":35,"workflows":[{"workflow":"sc_matrix.ga","tests":false,"url":"https://training.galaxyproject.org/training-material/topics/single-cell/tutorials/bulk-music-2-preparescref/workflows/sc_matrix.ga","path":"topics/single-cell/tutorials/bulk-music-2-preparescref/workflows/sc_matrix.ga","wfid":"single-cell-bulk-music-2-preparescref","wfname":"sc_matrix","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/single-cell-bulk-music-2-preparescref/versions/sc_matrix","license":null,"creators":[{"class":"Person","identifier":"0000-0002-8170-8806","name":"Wendi Bacon"},{"class":"Person","identifier":"0000-0002-4181-2676","name":"Mehmet Tekman"}],"name":"MuSiC-Deconvolution: Data generation | sc | matrix + ESet","title":"MuSiC-Deconvolution: Data generation | sc | matrix + ESet","test_results":null,"modified":"2024-06-19 00:05:33 +0000","mermaid":"flowchart TD\n  0[\"EBI SCXA Data Retrieval\"];\n  1[\"ℹ️ Input Dataset\\nSingle cell metadata\"];\n  style 1 stroke:#2c3143,stroke-width:4px;\n  2[\"Scanpy Read10x\"];\n  0 -->|barcode_tsv| 2;\n  0 -->|genes_tsv| 2;\n  0 -->|matrix_mtx| 2;\n  6bd01730-f0b5-4824-8cfc-d563cc9c7f7d[\"Output\\nScanpy Read10x on input dataset(s): anndata\"];\n  2 --> 6bd01730-f0b5-4824-8cfc-d563cc9c7f7d;\n  style 6bd01730-f0b5-4824-8cfc-d563cc9c7f7d stroke:#2c3143,stroke-width:4px;\n  3[\"Inspect AnnData\"];\n  2 -->|output_h5| 3;\n  4[\"Transpose\"];\n  3 -->|X| 4;\n  5[\"annotateMyIDs\"];\n  4 -->|out_file| 5;\n  c39c7d69-550e-4b54-a412-317b599c5e55[\"Output\\nannotateMyIDs on input dataset(s): Annotated IDs\"];\n  5 --> c39c7d69-550e-4b54-a412-317b599c5e55;\n  style c39c7d69-550e-4b54-a412-317b599c5e55 stroke:#2c3143,stroke-width:4px;\n  6[\"🛠️ Subworkflow\\n1st step removed - Convert from Ensembl to GeneSymbol, summing duplicate genes\"];\n  style 6 fill:#edd,stroke:#900,stroke-width:4px;\n  5 -->|out_tab| 6;\n  4 -->|out_file| 6;\n  7[\"Construct Expression Set Object\"];\n  6 -->|Gene Symbol Count Matrix| 7;\n  1 -->|output| 7;\n  e8c91df0-4e6c-4eb2-9807-c2679b494958[\"Output\\nConstruct Expression Set Object on input dataset(s): RData ESet Object\"];\n  7 --> e8c91df0-4e6c-4eb2-9807-c2679b494958;\n  style e8c91df0-4e6c-4eb2-9807-c2679b494958 stroke:#2c3143,stroke-width:4px;\n  2912d09b-b178-4035-b7c8-7038392e2bf2[\"Output\\nConstruct Expression Set Object on input dataset(s): General Info\"];\n  7 --> 2912d09b-b178-4035-b7c8-7038392e2bf2;\n  style 2912d09b-b178-4035-b7c8-7038392e2bf2 stroke:#2c3143,stroke-width:4px;\n  8[\"Manipulate Expression Set Object\"];\n  7 -->|out_rds| 8;\n  08de92d8-32fe-4b47-9038-298cdd13fac5[\"Output\\nManipulate Expression Set Object on input dataset(s): ExpressionSet Object\"];\n  8 --> 08de92d8-32fe-4b47-9038-298cdd13fac5;\n  style 08de92d8-32fe-4b47-9038-298cdd13fac5 stroke:#2c3143,stroke-width:4px;\n  9[\"Manipulate Expression Set Object\"];\n  7 -->|out_rds| 9;"},{"workflow":"sc_metadata.ga","tests":false,"url":"https://training.galaxyproject.org/training-material/topics/single-cell/tutorials/bulk-music-2-preparescref/workflows/sc_metadata.ga","path":"topics/single-cell/tutorials/bulk-music-2-preparescref/workflows/sc_metadata.ga","wfid":"single-cell-bulk-music-2-preparescref","wfname":"sc_metadata","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/single-cell-bulk-music-2-preparescref/versions/sc_metadata","license":null,"creators":[{"class":"Person","identifier":"0000-0002-8170-8806","name":"Wendi Bacon"},{"class":"Person","identifier":"0000-0002-4181-2676","name":"Mehmet Tekman"}],"name":"MuSiC-Deconvolution: Data generation | sc | metadata","title":"MuSiC-Deconvolution: Data generation | sc | metadata","test_results":null,"modified":"2024-06-19 00:05:33 +0000","mermaid":"flowchart TD\n  0[\"EBI SCXA Data Retrieval\"];\n  1[\"Cut\"];\n  0 -->|design_tsv| 1;\n  2[\"Add line to file\"];\n  0 -->|barcode_tsv| 2;\n  3[\"Reformatting metadata columns\"];\n  1 -->|out_file1| 3;\n  4[\"Join two Datasets\"];\n  2 -->|outfile| 4;\n  3 -->|out_file1| 4;\n  5[\"Advanced Cut\"];\n  4 -->|out_file1| 5;"}],"api":"https://training.galaxyproject.org/training-material/api/topics/single-cell/tutorials/bulk-music-2-preparescref/tutorial.json","tools":["Cut1","join1","sort1","toolshed.g2.bx.psu.edu/repos/bgruening/add_line_to_file/add_line_to_file/0.1.0","toolshed.g2.bx.psu.edu/repos/bgruening/music_construct_eset/music_construct_eset/0.1.1+galaxy4","toolshed.g2.bx.psu.edu/repos/bgruening/music_manipulate_eset/music_manipulate_eset/0.1.1+galaxy4","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.2","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_easyjoin_tool/1.1.2","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1","toolshed.g2.bx.psu.edu/repos/ebi-gxa/retrieve_scxa/retrieve_scxa/v0.0.1+galaxy1","toolshed.g2.bx.psu.edu/repos/ebi-gxa/retrieve_scxa/retrieve_scxa/v0.0.2+galaxy2","toolshed.g2.bx.psu.edu/repos/ebi-gxa/scanpy_read_10x/scanpy_read_10x/1.8.1+galaxy0","toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regex1/1.0.2","toolshed.g2.bx.psu.edu/repos/iuc/anndata_inspect/anndata_inspect/0.7.5+galaxy1","toolshed.g2.bx.psu.edu/repos/iuc/annotatemyids/annotatemyids/3.14.0+galaxy1","toolshed.g2.bx.psu.edu/repos/iuc/datamash_transpose/datamash_transpose/1.1.0+galaxy2","toolshed.g2.bx.psu.edu/repos/iuc/table_compute/table_compute/1.2.4+galaxy0"],"supported_servers":{"exact":[],"inexact":[{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.org.au","name":"UseGalaxy.org.au","usegalaxy":true}]},"topic_name_human":"Single Cell","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"add_line_to_file","owner":"bgruening","revisions":"8e251055b1a9","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"music_construct_eset","owner":"bgruening","revisions":"282819d09a4f","tool_panel_section_label":"Single-cell","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"music_manipulate_eset","owner":"bgruening","revisions":"22232092be53","tool_panel_section_label":"Single-cell","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"retrieve_scxa","owner":"ebi-gxa","revisions":"cd6b80f62fcc","tool_panel_section_label":"Single-cell","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"retrieve_scxa","owner":"ebi-gxa","revisions":"72b6e1747e37","tool_panel_section_label":"Single-cell","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"scanpy_read_10x","owner":"ebi-gxa","revisions":"d253d69ff19f","tool_panel_section_label":"Single-cell","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"regex_find_replace","owner":"galaxyp","revisions":"399da6b5ec21","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"anndata_inspect","owner":"iuc","revisions":"ee98d611afc6","tool_panel_section_label":"Single-cell","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"annotatemyids","owner":"iuc","revisions":"fe3ca740a485","tool_panel_section_label":"Annotation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"datamash_transpose","owner":"iuc","revisions":"ac092723240d","tool_panel_section_label":"Join, Subtract and Group","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"table_compute","owner":"iuc","revisions":"3bf5661c0280","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: add_line_to_file\n  owner: bgruening\n  revisions: 8e251055b1a9\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: music_construct_eset\n  owner: bgruening\n  revisions: 282819d09a4f\n  tool_panel_section_label: Single-cell\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: music_manipulate_eset\n  owner: bgruening\n  revisions: 22232092be53\n  tool_panel_section_label: Single-cell\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: retrieve_scxa\n  owner: ebi-gxa\n  revisions: cd6b80f62fcc\n  tool_panel_section_label: Single-cell\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: retrieve_scxa\n  owner: ebi-gxa\n  revisions: 72b6e1747e37\n  tool_panel_section_label: Single-cell\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: scanpy_read_10x\n  owner: ebi-gxa\n  revisions: d253d69ff19f\n  tool_panel_section_label: Single-cell\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: regex_find_replace\n  owner: galaxyp\n  revisions: 399da6b5ec21\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: anndata_inspect\n  owner: iuc\n  revisions: ee98d611afc6\n  tool_panel_section_label: Single-cell\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: annotatemyids\n  owner: iuc\n  revisions: fe3ca740a485\n  tool_panel_section_label: Annotation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: datamash_transpose\n  owner: iuc\n  revisions: ac092723240d\n  tool_panel_section_label: Join, Subtract and Group\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: table_compute\n  owner: iuc\n  revisions: 3bf5661c0280\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Wendi Bacon","email":"wendi.bacon@open.ac.uk","twitter":"WendiBacon1","matrix":"nomadscientist:matrix.org","joined":"2020-03","elixir_node":"uk","orcid":"0000-0002-8170-8806","bio":"Lecturer at The Open University","fediverse":"https://mstdn.science/@wendibacon1","fediverse_flavor":"mastodon","affiliations":["elixir-europe"],"id":"nomadscientist","url":"https://training.galaxyproject.org/training-material/api/contributors/nomadscientist.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/nomadscientist/"},{"name":"Mehmet Tekman","email":"mtekman89@gmail.com","joined":"2018-11","elixir_node":"de","affiliations":["uni-freiburg"],"former_affiliations":["elixir-europe"],"id":"mtekman","url":"https://training.galaxyproject.org/training-material/api/contributors/mtekman.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/mtekman/"},{"name":"Marisa Loach","orcid":"0000-0001-6979-6930","twitter":"Marisa_Loach","email":"marisa.loach@open.ac.uk","joined":"2022-10","id":"MarisaJL","url":"https://training.galaxyproject.org/training-material/api/contributors/MarisaJL.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/MarisaJL/"}]}