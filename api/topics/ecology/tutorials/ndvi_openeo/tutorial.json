{"layout":"tutorial_hands_on","title":"From NDVI data with OpenEO to time series visualisation with Holoviews","questions":["What's the NDVI ?","How to evaluate the NDVI through out time ?"],"objectives":["Use OpenEo technologies and learn how to download data with them","Learn to use Holoviz environment to process csv data","Create timeseries and visualisation of the NDVI","Handle going form one interactive tool to another"],"time_estimation":"1H","key_points":["Manage NDVI data","Handle jupyterlab tools"],"tags":["earth-system","land degradation","NDVI","copernicus","holoviews"],"contributions":{"authorship":["Marie59"],"funding":["fairease","eurosciencegateway"]},"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00400","url":"/topics/ecology/tutorials/ndvi_openeo/tutorial.html","topic_name":"ecology","tutorial_name":"ndvi_openeo","dir":"topics/ecology/tutorials/ndvi_openeo","symlink":null,"id":"ecology/ndvi_openeo","ref_tutorials":["<p>Through this tutorial you will learn here how to access and download Copernicus Data Space Ecosystem (CDSE) data through a jupyterlab Galaxy interactive tool :</p>\n\n<p>This tool enables you to leverage the Copernicus Data Space Ecosystem services and access data effortlessly.\nThe JupyterLab service allows you to dive into data exploration, visualization, and analysis without the hassle of installing dependencies or downloading large data sets.</p>\n\n<p>You will also apprehend how to use the Holoviz ecosysytem by plotting and visualising NDVI (from the CDSE) timeseries :\nHoloViz provides high-level Python tools that are designed to work together to solve the entire problem of visualization, from conducting exploratory data analysis to deploying complex dashboards.</p>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n  <p>In this tutorial, we will cover:</p>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#context-on-galaxy\" id=\"markdown-toc-context-on-galaxy\">Context on Galaxy</a></li>\n  <li><a href=\"#copernicus-data-space-ecosystem\" id=\"markdown-toc-copernicus-data-space-ecosystem\">Copernicus Data Space Ecosystem</a></li>\n  <li><a href=\"#holoviz\" id=\"markdown-toc-holoviz\">Holoviz</a></li>\n  <li><a href=\"#conclusion\" id=\"markdown-toc-conclusion\">Conclusion</a></li>\n</ol>\n\n</blockquote>\n\n<h2 id=\"context-on-galaxy\">Context on Galaxy</h2>\n<p>Interactive tools work differently than classical tools as it allows the user to interact with a dedicated graphical interface. This kind of tools is used to give access to Jupyter notebooks, RStudio or R Shiny apps for example.</p>\n\n<blockquote class=\"details\">\n  <details-title>Short introduction on how Galaxy works</details-title>\n\n  <p>You can come back to where you left off the tutorial anytime by clicking <i class=\"fas fa-graduation-cap\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">level</span>.</p>\n\n  <blockquote class=\"hands_on\">\n    <hands-on-title>Log in to Galaxy</hands-on-title>\n    <ol>\n      <li>Open your favorite browser (Chrome, Safari or Firefox as your browser, not Internet Explorer!)</li>\n      <li>Browse to your <a href=\"https://earth-system.usegalaxy.eu/\">Galaxy instance</a></li>\n      <li>On the top pannel go to <strong>Login or Register</strong></li>\n    </ol>\n\n  </blockquote>\n\n  <p>The Galaxy homepage is divided into three panels:</p>\n  <ul>\n    <li>Tools on the left</li>\n    <li>Viewing panel in the middle</li>\n    <li>History of analysis and files on the right</li>\n  </ul>\n\n  <figure id=\"figure-1\" style=\"max-width: 90%;\"><img src=\"/training-material/shared/images/galaxy_interface.png\" alt=\"Screenshot of the Galaxy interface, the tools panel is on the left, the main panel is in the center, and the history is on the right.\" width=\"2009\" height=\"969\" loading=\"lazy\" /><a target=\"_blank\" href=\"/training-material/shared/images/galaxy_interface.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 1</strong>:</span> Galaxy interface explanation</figcaption></figure>\n\n  <p>The first time you use Galaxy, there will be no files in your history panel.</p>\n</blockquote>\n\n<h1 id=\"copernicus-data-space-ecosystem\">Copernicus Data Space Ecosystem</h1>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title> Launch the interactive tool </hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"interactive_tool_copernicus\" title=\"Copernicus Data Space Ecosystem tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Copernicus Data Space Ecosystem</strong></span> with the following parameters:\n      <ul>\n        <li><em>“Do you already have a notebook?”</em>: <code class=\"language-plaintext highlighter-rouge\">Start with a fresh notebook</code></li>\n        <li><em>“Include data into the environment - optional “</em>: You don’t need anything</li>\n      </ul>\n    </li>\n    <li>\n      <p>Click on <strong>Run Tool</strong></p>\n    </li>\n    <li>\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-open-interactive-tool\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-open-interactive-tool\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Open interactive tool</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ol>   <li>Go to User &gt; Active InteractiveTools</li>   <li>Wait for the Copernicus Data Space Ecosystem to be running (Job Info)</li>   <li>Click on Copernicus Data Space Ecosystem</li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n  </ol>\n</blockquote>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title> Navigate the jupyterlab </hands-on-title>\n  <ol>\n    <li>Once you are in the jupyterlab go to :\n      <ul>\n        <li><strong>notebooks</strong></li>\n        <li>Then, <strong>openeo</strong></li>\n        <li>Open the notebook <strong>NDVI_Timeseries.ipynb</strong></li>\n      </ul>\n    </li>\n    <li>You can start running your notebook. To do so you can go on the pannel displaying button right above the notebook and click on the <i class=\"fas fa-play\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">workflow-run</span>. \nEverytime you press this button you can excecute a one by one the cells.</li>\n    <li>In the <strong>Setup</strong> section when you execute the connection cell you’ll have some actions to conduct.</li>\n    <li>First click ont the link appearing, you’re notebook should look like the following :\n<a href=\"../../images/ndvi_openeo_holoviz/ndvi_notebook.png\" rel=\"noopener noreferrer\"><img src=\"../../images/ndvi_openeo_holoviz/ndvi_notebook.png\" alt=\"Begining of the NDVI notebook  with the connection link visible. \" width=\"1920\" height=\"1080\" loading=\"lazy\" /></a></li>\n    <li>Once you clicked a new window opens. If you don’t have a copernicus account please create one and follow the instructions given.</li>\n    <li>If you have an account sign in and then press the green <strong>YES</strong>\n<a href=\"../../images/ndvi_openeo_holoviz/connection.png\" rel=\"noopener noreferrer\"><img src=\"../../images/ndvi_openeo_holoviz/connection.png\" alt=\"Image of how does the connection page looks like. \" width=\"1920\" height=\"1080\" loading=\"lazy\" /></a></li>\n    <li>You’ll be redirected to a page letting you know the connection was a success\n<a href=\"../../images/ndvi_openeo_holoviz/connection_ok.png\" rel=\"noopener noreferrer\"><img src=\"../../images/ndvi_openeo_holoviz/connection_ok.png\" alt=\"Image of the successful connection. \" width=\"1920\" height=\"1080\" loading=\"lazy\" /></a></li>\n    <li>Now, you can go back on your jupyterlab and execute the rest of the notebook.</li>\n    <li>Once you executed the entire notebook you should have a new folder in the left pannel named <strong>ndvi-results</strong> go in it.</li>\n    <li>Select the 3 files there and click right, and then copy\n<a href=\"../../images/ndvi_openeo_holoviz/copy_paste.png\" rel=\"noopener noreferrer\"><img src=\"../../images/ndvi_openeo_holoviz/copy_paste.png\" alt=\"The copy command on the 3 files in the ndvi-results folder. \" width=\"484\" height=\"562\" loading=\"lazy\" /></a></li>\n    <li>Then go back to the root of your path and go in the <strong>ouputs</strong> folder. There you can click right and paste the 3 NDVI files. \n<a href=\"../../images/ndvi_openeo_holoviz/outputs.png\" rel=\"noopener noreferrer\"><img src=\"../../images/ndvi_openeo_holoviz/outputs.png\" alt=\"The resulting 3 files in the outputs folder. \" width=\"290\" height=\"562\" loading=\"lazy\" /></a></li>\n    <li>This part is now finished you just have to correctly close this notebook. On the top left click on <strong>files</strong> and then on <strong>Shut down</strong>.\n<a href=\"../../images/ndvi_openeo_holoviz/shut_down.png\" rel=\"noopener noreferrer\"><img src=\"../../images/ndvi_openeo_holoviz/shut_down.png\" alt=\"The shut down button to correctly close the jupyterlab. \" width=\"420\" height=\"690\" loading=\"lazy\" /></a></li>\n  </ol>\n</blockquote>\n\n<p>Go back on your Galaxy window. After a couple minutes you should see your outputs turning green in your history.</p>\n\n<p>Check that your data are in csv format.</p>\n\n<blockquote class=\"tip\">\n  <tip-title> Check datatype </tip-title>\n\n  <p><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span>, it should be <code class=\"language-plaintext highlighter-rouge\">csv</code></p>\n\n  <!--SNIPPET-->\n  <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-changing-the-datatype\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-changing-the-datatype\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Changing the datatype</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Click on the <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> <strong>pencil icon</strong> for the dataset to edit its attributes</li>   <li>In the central panel, click <i class=\"fas fa-database\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-chart-select-data</span> <strong>Datatypes</strong> tab on the top</li>   <li>In the <i class=\"fas fa-database\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-chart-select-data</span> <strong>Assign Datatype</strong>, select <code class=\"language-plaintext highlighter-rouge\">csv</code> from “<em>New type</em>” dropdown     <ul>       <li>Tip: you can start typing the datatype into the field to filter the dropdown menu</li>     </ul>   </li>   <li>Click the <strong>Save</strong> button</li> </ul> </blockquote>\n  <p><!--END_SNIPPET--></p>\n</blockquote>\n\n<h1 id=\"holoviz\">Holoviz</h1>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title> Launch Holoviz </hands-on-title>\n\n  <ol class=\"code-in\">\n    <li><span class=\"tool\" data-tool=\"interactive_tool_holoviz\" title=\"Holoviz tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Holoviz</strong></span> with the following parameters:\n      <ul>\n        <li><em>“Do you already have a notebook?”</em>: <code class=\"language-plaintext highlighter-rouge\">Start with a fresh notebook</code></li>\n        <li><em>“Include data into the environment - optional “</em>: Select <code class=\"language-plaintext highlighter-rouge\">timeseries-basic</code>, <code class=\"language-plaintext highlighter-rouge\">timeseries-masked</code> and <code class=\"language-plaintext highlighter-rouge\">timeseries-smoothed</code></li>\n      </ul>\n    </li>\n    <li>\n      <p>Click on <strong>Run Tool</strong></p>\n    </li>\n    <li>\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-open-interactive-tool-1\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-open-interactive-tool-1\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Open interactive tool</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ol>   <li>Go to User &gt; Active InteractiveTools</li>   <li>Wait for the Holoviz to be running (Job Info)</li>   <li>Click on Holoviz</li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n    <li>Once, you are in the jupyterlab go in the the <strong>notebooks</strong> folder</li>\n    <li>Open a terminal in bash and write the following\n      <blockquote>\n        <code-in-title>Download the notebook</code-in-title>\n        <div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>wget https://raw.githubusercontent.com/fair-ease/Holoviz/main/Tabular_Datasets_NDVI.ipynb\n</code></pre></div>        </div>\n      </blockquote>\n    </li>\n  </ol>\n  <p>Now that you have your notebook you can just follow the instructions.</p>\n</blockquote>\n\n<p>Enjoy discovering the rest of the notebook.</p>\n\n<h1 id=\"conclusion\">Conclusion</h1>\n<p>The tutorial ends there and with that you have the basis on how to use jupyterlab tools and more particularly the copernicus and holoviz ones.</p>\n"],"ref_slides":[],"hands_on":true,"slides":false,"mod_date":"2024-01-24 08:43:07 +0000","pub_date":"2024-01-24 19:43:59 +0000","version":5,"workflows":[{"workflow":"NDVI-with-OpenEO.ga","tests":true,"url":"https://training.galaxyproject.org/training-material/topics/ecology/tutorials/ndvi_openeo/workflows/NDVI-with-OpenEO.ga","path":"topics/ecology/tutorials/ndvi_openeo/workflows/NDVI-with-OpenEO.ga","wfid":"ecology-ndvi_openeo","wfname":"ndvi-with-openeo","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/ecology-ndvi_openeo/versions/ndvi-with-openeo","license":"CC-BY-4.0","creators":[{"class":"Person","identifier":"0009-0008-0622-604X","name":"Marie Jossé","url":"https://github.com/Marie59"}],"name":"NDVI with OpenEO","title":"NDVI with OpenEO","test_results":null,"modified":"2024-06-17 12:19:35 +0000","mermaid":"flowchart TD\n  0[\"Copernicus Data Space Ecosystem\"];\n  1[\"Holoviz\"];\n  0 -->|output_collection| 1;"},{"workflow":"main_workflow.ga","tests":false,"url":"https://training.galaxyproject.org/training-material/topics/ecology/tutorials/ndvi_openeo/workflows/main_workflow.ga","path":"topics/ecology/tutorials/ndvi_openeo/workflows/main_workflow.ga","wfid":"ecology-ndvi_openeo","wfname":"main_workflow","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/ecology-ndvi_openeo/versions/main_workflow","license":"CC-BY-4.0","creators":[{"class":"Person","identifier":"0009-0008-0622-604X","name":"Marie Jossé","url":"https://github.com/Marie59"}],"name":"NDVI with OpenEO","title":"NDVI with OpenEO","test_results":null,"modified":"2024-06-17 12:19:35 +0000","mermaid":"flowchart TD\n  0[\"Copernicus Data Space Ecosystem\"];\n  1[\"Holoviz\"];\n  0 -->|output_collection| 1;"}],"api":"https://training.galaxyproject.org/training-material/api/topics/ecology/tutorials/ndvi_openeo/tutorial.json","tools":["interactive_tool_copernicus","interactive_tool_copernicus_notebook","interactive_tool_holoviz"],"supported_servers":{"exact":[],"inexact":[]},"topic_name_human":"Ecology","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools: []\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Marie Josse","joined":"2022-03","email":"marie.josse@ifremer.fr","affiliations":["pndb","fairease"],"id":"Marie59","url":"https://training.galaxyproject.org/training-material/api/contributors/Marie59.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/Marie59/"},{"name":"Fair-Ease","github":false,"joined":"2023-10","avatar":"/training-material/assets/images/fair_ease_colour.png","url":"https://training.galaxyproject.org/training-material/api/funders/fairease.json","funder":true,"funding_id":"101058785","funding_system":"cordis","funding_statement":"FAIR-EASE is a RIA project funded under HORIZON-INFRA-2021-EOSC-01-04, and it involves a consortium of 25 partners from all over Europe.","members":["Marie59","yvanlebras"],"id":"fairease","page":"https://training.galaxyproject.org/training-material/hall-of-fame/fairease/"},{"name":"EuroScienceGateway","github":false,"joined":"2023-10","avatar":"/training-material/assets/images/eurosciencegateway.png","url":"https://training.galaxyproject.org/training-material/api/funders/eurosciencegateway.json","funder":true,"funding_id":"101057388","funding_system":"cordis","funding_statement":"EuroScienceGateway was funded by the European Union programme Horizon Europe (HORIZON-INFRA-2021-EOSC-01-04) under grant agreement number 101057388 and by UK Research and Innovation (UKRI) under the UK government’s Horizon Europe funding guarantee grant number 10038963.","members":["abretaud","anuprulez","bgruening","erxleben","pauldg","rlibouba"],"id":"eurosciencegateway","page":"https://training.galaxyproject.org/training-material/hall-of-fame/eurosciencegateway/"}]}