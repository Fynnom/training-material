{"layout":"tutorial_hands_on","title":"Compute and analyze biodiversity metrics with PAMPA toolsuite","zenodo_link":"https://doi.org/10.5281/zenodo.4264936","questions":["How to evaluate properly populations and communities biological state with abundance data?","How does trawl exploited populations of Baltic sea, Southern Atlantic and Scotland are doing over time?","How to compute and analyze biodiversity metrics from abundance data?"],"objectives":["Upload data from DATRAS portal of ICES","Pre-process population data with Galaxy","Learning how to use an ecological analysis workflow from raw data to graphical representations","Learning how to construct a Generalized Linear (Mixed) Model from a usual ecological question","Learning how to interpret a Generalized Linear (Mixed) Model"],"time_estimation":"2H","key_points":["Pre-process abundance data","Compute Community and Population metrics","Construct a GL(M)M with common biodiversity metrics","Interpret (and correct if needed) GL(M)M results","Learn about and interpret common tests to evaluate the quality of your GL(M)M","Use an Essential Biodiversity Variables workflow"],"tags":["Species population EBV class","Community composition EBV class","EBV dataset","EBV workflow","modeling"],"contributions":{"authorship":["colineroyaux","yvanlebras","dpelletier","jbmihoub"],"funding":["gallantries","pndb"]},"recordings":[{"captioners":["colineroyaux"],"date":"2022-03-03","galaxy_version":"21.09","length":"2H","youtube_id":"leMPC2Ckehc","speakers":["colineroyaux"]}],"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00125","url":"/topics/ecology/tutorials/PAMPA-toolsuite-tutorial/tutorial.html","topic_name":"ecology","tutorial_name":"PAMPA-toolsuite-tutorial","dir":"topics/ecology/tutorials/PAMPA-toolsuite-tutorial","symlink":null,"id":"ecology/PAMPA-toolsuite-tutorial","ref_tutorials":["<p>This tutorial aims to present the PAMPA Galaxy workflow, how to use it to compute common\nbiodiversity metrics from species abundance data and analyse it through generalized\nlinear (mixed) models (GLM and GLMM). This workflow made up of 5 tools will allow you to process\ntemporal series data that include at least year, location and species sampled along with\nabundance value and, finally, generate article-ready data products.</p>\n\n<p>The PAMPA workflow is an ecological analysis workflow, like so, it is divided as to do a Community\nanalysis and a Population analysis separately in accordance with the biodiversity level described.\nOnly the last tool to create a plot from your GLM results is common to the two parts of this workflow.\nThus, in this tutorial, we’ll start by the Community analysis followed by the Population analysis.</p>\n\n<blockquote class=\"details\">\n  <details-title>Ecological definitions of Population and Community</details-title>\n\n  <p>Population: group of individuals of the same species interacting with each other.</p>\n\n  <p>Community: group of several species interacting with each other.</p>\n\n</blockquote>\n\n<figure id=\"figure-1\" style=\"max-width: 90%;\"><img src=\"../../images/PAMPA-toolsuite-tutorial/PAMPA_workflow.png\" alt=\"PAMPA toolsuite workflow. \" width=\"3026\" height=\"900\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/PAMPA-toolsuite-tutorial/PAMPA_workflow.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 1</strong>:</span> PAMPA toolsuite workflow</figcaption></figure>\n\n<p>Each part of this workflow has the same elementary steps :</p>\n<ul>\n  <li><strong>A first tool</strong> to compute metrics:\n    <ul>\n      <li>Community metrics (<span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_communitymetrics/pampa_communitymetrics/0.0.2\" title=\"Calculate community metrics tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Calculate community metrics</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span>):\nTotal abundance, Species richness, Shannon index, Simpson index, Hill index and Pielou index</li>\n      <li>Population metrics (<span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_presabs/pampa_presabs/0.0.2\" title=\"Calculate presence absence table tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Calculate presence absence table</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span>):\nAbundance, Presence-absence</li>\n    </ul>\n  </li>\n  <li><strong>A second tool</strong> to compute Generalized Linear (Mixed) Models, testing the effect of <code class=\"language-plaintext highlighter-rouge\">'site'</code>, <code class=\"language-plaintext highlighter-rouge\">'year'</code> and/or\n<code class=\"language-plaintext highlighter-rouge\">'habitat'</code> on a metric selected by the user:\n    <ul>\n      <li>Community analysis (<span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_glmcomm/pampa_glmcomm/0.0.2\" title=\"Compute GLM on community data tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Compute GLM on community data</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span>):\nThe GLM(M) is computed on the whole dataset and, if a separation factor is selected by the user, GLM(M)s are computed on subsets\nof the dataset (example: one GLM(M) per ecoregion)</li>\n      <li>Population analysis (<span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_glmsp/pampa_glmsp/0.0.2\" title=\"Compute GLM on population data tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Compute GLM on population data</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span>):\nOne GLM(M) is computed on each species separately</li>\n    </ul>\n  </li>\n  <li><strong>A third tool</strong> common for Community and Population analyses with at least <code class=\"language-plaintext highlighter-rouge\">'year'</code> as a fixed effect to\ncreate time-series plots from your GLM(M) results (<span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_plotglm/pampa_plotglm/0.0.2\" title=\"Create a plot from GLM data tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Create a plot from GLM data</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span>).\nTwo plots will be created for each GLM(M): one from the <em>“Estimate”</em> values of the GLM(M) and one from raw values from metrics file.</li>\n</ul>\n\n<blockquote class=\"details\">\n  <details-title>Details about Generalized Linear (Mixed) Models</details-title>\n\n  <p>Generalized Linear Models (GLMs) and Generalized Linear Mixed Models (GLMMs) are two extensions of Linear Models (LMs).\nAs LMs uses only Gaussian distribution (for continuous variables), GLMs permits to analyse a wide spectrum of data\nwith various probability distributions (including Poisson distribution for count data and binomial distribution for\npresence-absence data). To go further, GLMMs permits to handle pseudo-replication generated by non-independant\nrepeated observations by defining one or more random effect in your model.\nHere, GLM(M) tools allows you to define <code class=\"language-plaintext highlighter-rouge\">'year'</code> and/or <code class=\"language-plaintext highlighter-rouge\">'site'</code> as random effects to take account of temporal\nand/or spatial replicas. The other effects taken into account in the model that aren’t random are defined as ‘fixed’.</p>\n\n</blockquote>\n\n<p>In this tutorial, we’ll be working on data extracted from the data portal DATRAS (Database of Trawls Surveys) of the\nInternational Council for the Exploration of the Sea (ICES). After pre-processing to fit the input format of the tools,\nwe’ll see how to calculate biodiversity metrics and construct properly, easily and with good practice, several GLMMs\nto test the effect of <code class=\"language-plaintext highlighter-rouge\">'year'</code> and <code class=\"language-plaintext highlighter-rouge\">'site'</code> on the species richness of each survey studied and on the abundance\nof each species.</p>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n  <p>In this tutorial, we will cover:</p>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#upload-and-pre-processing-of-the-data\" id=\"markdown-toc-upload-and-pre-processing-of-the-data\">Upload and pre-processing of the data</a>    <ol>\n      <li><a href=\"#data-upload\" id=\"markdown-toc-data-upload\">Data upload</a></li>\n      <li><a href=\"#prepare-the-data\" id=\"markdown-toc-prepare-the-data\">Prepare the data</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#compute-community-and-population-metrics\" id=\"markdown-toc-compute-community-and-population-metrics\">Compute Community and Population metrics</a>    <ol>\n      <li><a href=\"#creation-of-the-observation-unit-file\" id=\"markdown-toc-creation-of-the-observation-unit-file\">Creation of the observation unit file</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#glmms-and-plots-on-community-and-population-metrics\" id=\"markdown-toc-glmms-and-plots-on-community-and-population-metrics\">GLMMs and plots on Community and Population metrics</a>    <ol>\n      <li><a href=\"#compute-glmms-and-create-plots-on-community-metrics\" id=\"markdown-toc-compute-glmms-and-create-plots-on-community-metrics\">Compute GLMMs and create plots on Community metrics</a></li>\n      <li><a href=\"#compute-glmms-and-create-plots-on-population-metrics\" id=\"markdown-toc-compute-glmms-and-create-plots-on-population-metrics\">Compute GLMMs and create plots on Population metrics</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#conclusion\" id=\"markdown-toc-conclusion\">Conclusion</a></li>\n</ol>\n\n</blockquote>\n\n<h1 id=\"upload-and-pre-processing-of-the-data\">Upload and pre-processing of the data</h1>\n\n<p>This first step consist of downloading and properly prepare the data to use it in PAMPA toolsuite.</p>\n\n<h2 id=\"data-upload\">Data upload</h2>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Data upload</hands-on-title>\n\n  <ol>\n    <li>\n      <p>Create a new history for this tutorial and give it a name (example: “DATRAS data analysis through PAMPA workflow”)\nfor you to find it again later if needed.</p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-creating-a-new-history\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-creating-a-new-history\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Creating a new history</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <p>Click the <i class=\"fas fa-plus\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">new-history</span> icon at the top of the history panel:</p>   <p><img src=\"/training-material/shared/images/history_create_new.svg\" alt=\"UI for creating new history\" /></p>   <!-- the original drawing can be found here https://docs.google.com/drawings/d/1cCBrLAo4kDGic5QyB70rRiWJAKTenTU8STsKDaLcVU8/edit?usp=sharing --> </blockquote>\n      <p><!--END_SNIPPET--></p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-renaming-a-history\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-renaming-a-history\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Renaming a history</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ol>   <li>Click on <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> (<strong>Edit</strong>) next to the history name (which by default is “Unnamed history”)</li>   <li>Type the new name</li>   <li>Click on <strong>Save</strong></li> </ol>   <p>If you do not have the <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> (<strong>Edit</strong>) next to the history name:</p>   <ol>   <li>Click on <strong>Unnamed history</strong> (or the current name of the history) (<strong>Click to rename history</strong>) at the top of your history panel</li>   <li>Type the new name</li>   <li>Press <kbd>Enter</kbd></li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n    <li>Import the CSV files from <a href=\"https://doi.org/10.5281/zenodo.4264936\">Zenodo</a> via link with the three following links\n      <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>https://zenodo.org/record/4264936/files/CPUE%20per%20length%20per%20area_A.csv?download=1\nhttps://zenodo.org/record/4264936/files/CPUE%20per%20length%20per%20area_B.csv?download=1\nhttps://zenodo.org/record/4264936/files/CPUE%20per%20length%20per%20area_C.csv?download=1\n</code></pre></div>      </div>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-importing-via-links\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-importing-via-links\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Importing via links</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Copy the link location</li>   <li>     <p>Click <i class=\"fas fa-upload\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-upload</span> <strong>Upload Data</strong> at the top of the tool panel</p>   </li>   <li>Select <i class=\"fa fa-edit\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-wf-edit</span> <strong>Paste/Fetch Data</strong></li>   <li>     <p>Paste the link(s) into the text field</p>   </li>   <li>     <p>Press <strong>Start</strong></p>   </li>   <li><strong>Close</strong> the window</li> </ul> </blockquote>\n      <p><!--END_SNIPPET--></p>\n\n      <p>You may as well use the shared data library or directly download the data from the DATRAS data portal but the previous\nmethod is preferred.</p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-importing-data-from-a-data-library\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-importing-data-from-a-data-library\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Importing data from a data library</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <p>As an alternative to uploading the data from a URL or your computer, the files may also have been made available from a <em>shared data library</em>:</p>   <ol>   <li>Go into <strong>Shared data</strong> (top panel) then <strong>Data libraries</strong></li>   <li>Navigate to  the correct folder as indicated by your instructor.     <ul>       <li>On most Galaxies tutorial data will be provided in a folder named <strong>GTN - Material –&gt; Topic Name -&gt; Tutorial Name</strong>.</li>     </ul>   </li>   <li>Select the desired files</li>   <li>Click on <strong>Add to History</strong> <i class=\"fas fa-caret-down\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-dropdown</span> near the top and select <strong>as Datasets</strong> from the dropdown menu</li>   <li>     <p>In the pop-up window, choose</p>     <ul>       <li><em>“Select history”</em>: the history you want to import the data to (or create a new one)</li>     </ul>   </li>   <li>Click on <strong>Import</strong></li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n\n      <p>The files used for this tutorial have been imported from DATRAS data portal in October 2020. Those files are\noften updated on the data portal. So if you choose to download files directly from DATRAS there may be\nsome differences with the files on Zenodo and the final results of this tutorial.</p>\n\n      <blockquote class=\"tip\">\n        <tip-title>Importing data from DATRAS data portal</tip-title>\n\n        <ul>\n          <li>Go to link: https://datras.ices.dk/Data_products/Download/Download_Data_public.aspx</li>\n          <li>In the field ‘Data products’ choose ‘CPUE per length per area’</li>\n          <li>In the field ‘Survey’ choose the survey of interest. Here, we chose to use ‘EVHOE’, ‘BITS’\nand ‘SWC-IBTS’ surveys but you can’t select the three surveys at once in this field.\nSo, you’ll have to select one survey at a time (‘EVHOE’, ‘BITS’ and ‘SWC-IBTS’) and then\nrepeat the six following steps for each of the three surveys.</li>\n          <li>In the field ‘Quarter(s)’ we chose to tick ‘All’</li>\n          <li>In the field ‘Year(s)’ we chose to tick ‘All’</li>\n          <li>In the field ‘Area(s)’ we chose to tick ‘All’</li>\n          <li>In the field ‘Species’ we chose to tick ‘Standard species’ and ‘All’</li>\n          <li>Click on ‘Submit’</li>\n          <li>Tick ‘I accept the documents and their associated restrictions and agree to acknowledge the data source’</li>\n          <li>Open the Galaxy Upload Manager (<i class=\"fas fa-upload\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-upload</span> on the top-right of the tool panel)</li>\n          <li>Drop files on the dedicated area or click ‘Choose local files’</li>\n          <li>Click on ‘Start’</li>\n          <li>Click on ‘Close’ to return to Galaxy tools interface</li>\n        </ul>\n\n      </blockquote>\n    </li>\n    <li>\n      <p>Make sure that each datasets has the following header <code class=\"language-plaintext highlighter-rouge\">\"Survey\",\"Year\",\"Quarter\",\"Area\",\"AphiaID\",\n\"Species\",\"LngtClass\",\"CPUE_number_per_hour\"</code> and that separator are “,”</p>\n    </li>\n    <li>In order to avoid mixing up the data files, we’ll add a tag to each file:\n      <ul>\n        <li>tag <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code> to the tabular data file of the EVHOE survey : “CPUE per length per area_A.csv”</li>\n        <li>tag <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> to the tabular data file of the SWC-IBTS survey : “CPUE per length per area_B.csv”</li>\n        <li>tag <code class=\"language-plaintext highlighter-rouge\">#BITS</code> to the tabular data file of the BITS survey : “CPUE per length per area_C.csv”</li>\n      </ul>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-adding-a-tag\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-adding-a-tag\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Adding a tag</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ol>   <li>Click on the dataset to expand it</li>   <li>Click on <strong>Add Tags</strong> <i class=\"fas fa-tags\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-tags</span></li>   <li>Add a tag  starting with <code class=\"language-plaintext highlighter-rouge\">#</code>     <ul>       <li>Tags starting with <code class=\"language-plaintext highlighter-rouge\">#</code> will be automatically propagated to the outputs of tools using this dataset.</li>     </ul>   </li>   <li>Press <kbd>Enter</kbd></li>   <li>Check that the tag appears below the dataset name</li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n\n      <p>If tags doesn’t display directly on your history, refresh the page.</p>\n    </li>\n    <li>\n      <p>Convert datatype CSV to tabular for each data file</p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-converting-the-file-format\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-converting-the-file-format\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Converting the file format</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Click on the <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> <strong>pencil icon</strong> for the dataset to edit its attributes</li>   <li>In the central panel, click on the <i class=\"fas fa-cog\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-gear</span> <strong>Convert</strong> tab on the top</li>   <li>In the upper part <i class=\"fas fa-cog\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-gear</span> <strong>Convert</strong>, select <code class=\"language-plaintext highlighter-rouge\">Convert CSV to tabular</code></li>   <li>Click the <strong>Create dataset</strong> button to start the conversion.</li> </ul> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>These three data files gather Catch Per Unit Effort (CPUE) observations, a relative abundance measure mostly used\nto assess exploited fish species populations :</p>\n<ul>\n  <li>EVHOE (<span class=\"citation\"><a href=\"#EVHOE\">MAHE Jean-Claude 1987</a></span>) is a French survey on Southern Atlantic Bottom Trawl, the extracted file available on Zenodo goes from\n1997 to 2018 and records CPUE for seven exploited fish species</li>\n  <li>BITS (<span class=\"citation\"><a href=\"#BITS\">“<b>Fish trawl survey: ICES Baltic International Trawl Survey for commercial fish species. ICES Database of trawl surveys (DATRAS)</b>” 2010</a></span>) is an international survey on Trawl in Baltic sea, the extracted file available on Zenodo goes from 1991\nto 2020 and records CPUE for three exploited fish species</li>\n  <li>SWC-IBTS (<span class=\"citation\"><a href=\"#SWCIBTS\">“<b>DATRAS Scottish West Coast Bottom Trawl Survey (SWC-IBTS)</b>” 2013</a></span>) is a Scottish survey on bottom trawl in the west coast, the extracted file available on Zenodo goes\nfrom 1985 to 2010 and records CPUE for six exploited fish species</li>\n</ul>\n\n<h2 id=\"prepare-the-data\">Prepare the data</h2>\n\n<p>Before starting the preparation of the data, we need to identify which inputs we need for the tools and their format\n(same for Community or Population analyses except for a few details):</p>\n<ul>\n  <li>Input for the tools to compute metrics: Observation data file containing at least <code class=\"language-plaintext highlighter-rouge\">'year'</code> and “location” sampled\nthat might be represented in one field “observation.unit”, “species.code” to name the species sampled,\nand <code class=\"language-plaintext highlighter-rouge\">'number'</code> as the abundance value</li>\n  <li>Supplementary input for the tools to compute a GLM(M) analysis: Observation unit data file containing at least\n“observation.unit” and <code class=\"language-plaintext highlighter-rouge\">'year'</code>. It might also contain <code class=\"language-plaintext highlighter-rouge\">'habitat'</code>, <code class=\"language-plaintext highlighter-rouge\">'site'</code> and any other information\nabout the location at a given <code class=\"language-plaintext highlighter-rouge\">'year'</code> that seems useful (examples: “temperature”, “substrate type”, “plant cover”)</li>\n</ul>\n\n<blockquote class=\"details\">\n  <details-title>What is the 'observation.unit' field?</details-title>\n\n  <p>The ‘observation.unit’ field is a primary key linking the observation data file and the metrics data file to an observation\nunit data file. An unique ‘observation.unit’ identifier represents an unique sampling event at a given year and location.\nSuch a file permits to reduce the size of data files, if all informations about the sampling event (examples:\n“temperature”,”substrate type”,”plant cover”) are gathered in the same dataframe as the observations data\n(“species sampled”,”count”) same informations will be unnecessarily repeated in many lines.</p>\n\n</blockquote>\n\n<blockquote class=\"tip\">\n  <tip-title>The 'observation.unit' nomenclature</tip-title>\n\n  <p>For this workflow, two nomenclatures are advised :</p>\n  <ul>\n    <li>\n      <p>The PAMPA file nomenclature:\n<code class=\"language-plaintext highlighter-rouge\">[Two first letters of 'site'][Two last numbers of 'year'][Identifier of the precise sampled location in four numbers]</code></p>\n\n      <p>The fields <code class=\"language-plaintext highlighter-rouge\">'year'</code> and “location” will be automatically infered from this nomenclature in the first tools to\ncompute metrics</p>\n    </li>\n    <li>\n      <p>The automatic nomenclature: <code class=\"language-plaintext highlighter-rouge\">['year' in four numbers]_[Identifier of the precise sampled location in any character chain]</code></p>\n\n      <p>This nomenclature will be automatically constructed in the first tools to compute metrics if the input file doesn’t already\nhave a “observation.unit” field but only <code class=\"language-plaintext highlighter-rouge\">'year'</code> and “location”</p>\n    </li>\n  </ul>\n\n  <p>If you already have your own nomenclature for the primary key linking your files, it will remain untouched by the tools but the\noutput data table from the first tools to compute metrics won’t contain <code class=\"language-plaintext highlighter-rouge\">'year'</code> and “location” fields.\nIn this case and if you want to add such informations to your metrics data file, you can use the tool\n<span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_easyjoin_tool/1.1.2\" title=\"Join tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Join</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.1.2)</span>\nwith the metrics data file and the observation unit data file.</p>\n\n</blockquote>\n\n<blockquote class=\"details\">\n  <details-title>The difference between fields ```'site'``` and \"location\"?</details-title>\n\n  <p>Those two fields both inform a geographical indication.</p>\n\n  <p>“location” is the finest geographical level and <code class=\"language-plaintext highlighter-rouge\">'site'</code> may represent a wider geographical range but can also\nrepresent the same geographical level as “location”. This choice is up to your discretion, depending which geographical\nlevel you want to take into account in your statistical analysis.</p>\n\n</blockquote>\n\n<h3 id=\"concatenation-of-data-files\">Concatenation of data files</h3>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Data files concatenation</hands-on-title>\n\n  <ol>\n    <li>\n      <p><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0\" title=\"Concatenate datasets tail-to-head (cat) tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Concatenate datasets tail-to-head (cat)</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.1.0)</span> select the three <code class=\"language-plaintext highlighter-rouge\">#BITS</code>, <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code>\ndatasets in <i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Datasets to concatenate”</em></p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-select-multiple-datasets\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-select-multiple-datasets\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Select multiple datasets</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ol>   <li>Click on <i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <strong>Multiple datasets</strong></li>   <li>Select several files by keeping the <kbd>Ctrl</kbd> (or <kbd>COMMAND</kbd>) key pressed and clicking on the files of interest</li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n    <li>\n      <p>Suppress the <code class=\"language-plaintext highlighter-rouge\">#BITS</code>, <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> tags and add the <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> tag to the Concatenated data file</p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-adding-a-tag-1\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-adding-a-tag-1\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Adding a tag</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ol>   <li>Click on the dataset to expand it</li>   <li>Click on <strong>Add Tags</strong> <i class=\"fas fa-tags\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-tags</span></li>   <li>Add a tag  starting with <code class=\"language-plaintext highlighter-rouge\">#</code>     <ul>       <li>Tags starting with <code class=\"language-plaintext highlighter-rouge\">#</code> will be automatically propagated to the outputs of tools using this dataset.</li>     </ul>   </li>   <li>Press <kbd>Enter</kbd></li>   <li>Check that the tag appears below the dataset name</li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n    <li>Verify if the three header lines have been included in the concatenate with <span class=\"tool\" data-tool=\"Count1\" title=\"Count occurrences of each record tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Count occurrences of each record</strong></span>\nand following parameters :\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“from dataset”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Concatenated data file</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Count occurrences of values in column(s)”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 1</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Delimited by”</em>: <code class=\"language-plaintext highlighter-rouge\">Tab</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“How should the results be sorted?”</em>: <code class=\"language-plaintext highlighter-rouge\">With the rarest value first</code> so multiple occurences can be seen directly at first lines of the resulting file</li>\n      </ul>\n    </li>\n    <li>If the value <code class=\"language-plaintext highlighter-rouge\">Survey</code> has more than <code class=\"language-plaintext highlighter-rouge\">1</code> occurrence use <span class=\"tool\" data-tool=\"Filter1\" title=\"Filter data on any column using simple expressions tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Filter data on any column using simple expressions</strong></span>\nwith following parameters :\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Filter”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Concatenated data file</li>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“With following condition”</em>: <code class=\"language-plaintext highlighter-rouge\">c1!='Survey'</code></li>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Number of header lines to skip”</em>: <code class=\"language-plaintext highlighter-rouge\">1</code></li>\n      </ul>\n\n      <blockquote class=\"question\">\n        <question-title></question-title>\n        <p>How many header line(s) is left?</p>\n\n        <p>Use <span class=\"tool\" data-tool=\"Count1\" title=\"Count occurrences of each record tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Count occurrences of each record</strong></span> and following parameters :</p>\n        <ul>\n          <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“from dataset”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Filtered data file</li>\n          <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Count occurrences of values in column(s)”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 1</code></li>\n          <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Delimited by”</em>: <code class=\"language-plaintext highlighter-rouge\">Tab</code></li>\n          <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“How should the results be sorted?”</em>: <code class=\"language-plaintext highlighter-rouge\">With the rarest value first</code></li>\n        </ul>\n\n        <p><strong>Tip:</strong> Hit the rerun button <i class=\"fas fa-redo\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-refresh</span> on the output of the previous run of <span class=\"tool\" data-tool=\"Count1\" title=\"Count occurrences of each record tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Count occurrences of each record</strong></span>,\nand change the input dataset.</p>\n\n        <blockquote class=\"solution\">\n          <solution-title></solution-title>\n          <p>One header line is left as the value <code class=\"language-plaintext highlighter-rouge\">Survey</code> has only <code class=\"language-plaintext highlighter-rouge\">1</code> occurrence in the first column.</p>\n\n        </blockquote>\n\n      </blockquote>\n    </li>\n  </ol>\n\n</blockquote>\n\n<h3 id=\"formating-of-data-files\">Formating of data files</h3>\n\n<p>Here we have data from the three surveys in one datatable (Filtered data file) with the following fields <code class=\"language-plaintext highlighter-rouge\">\"Survey\",\n\"Year\",\"Quarter\",\"Area\", \"AphiaID\",\"Species\",\"LngtClass\",\"CPUE_number_per_hour\"</code>. We now need to define the proper\ncolumns needed for the PAMPA workflow considering there is no primary key close to “observation.unit” :</p>\n<ul>\n  <li>“location” from “Area” associated with “Survey” to avoid mixing up areas from different surveys</li>\n  <li><code class=\"language-plaintext highlighter-rouge\">'year'</code> from “Year”</li>\n  <li>“species.code” from “Species”</li>\n  <li><code class=\"language-plaintext highlighter-rouge\">'number'</code> from “CPUE_number_per_hour”</li>\n</ul>\n\n<p>This <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Filtered data file containing the three surveys will be used to create the observation unit data file and\ncompute Community metrics as the Community analysis can be automatically processed on each survey separately.\nHowever, this file can’t be used as it is to compute Population metrics as it may contain data for several\npopulations of the same species that do not interact with each other. Therefore, we have to work on the three\n<code class=\"language-plaintext highlighter-rouge\">#BITS</code>, <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> original tabular files for the Population analysis.</p>\n\n<p>Hence, the following manipulations will be applied not only on <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Filtered data file but also on\nthe three <code class=\"language-plaintext highlighter-rouge\">#BITS</code>, <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> original tabular files used for the concatenation.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Create the \"location\" field</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.0\" title=\"Column Regex Find And Replace tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Column Regex Find And Replace</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.0.0)</span> with following parameters:\n      <ul>\n        <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Select cells from”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Filtered data file +\nthree <code class=\"language-plaintext highlighter-rouge\">#BITS</code>, <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> tabular data files</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“using column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 1</code></li>\n        <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> Click <em>”+ Insert Check”</em>:\n          <ul>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">([A-Z]{3}[A-Z]+)</code></li>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">\\1-</code></li>\n          </ul>\n        </li>\n      </ul>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-select-multiple-datasets-1\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-select-multiple-datasets-1\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Select multiple datasets</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ol>   <li>Click on <i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <strong>Multiple datasets</strong></li>   <li>Select several files by keeping the <kbd>Ctrl</kbd> (or <kbd>COMMAND</kbd>) key pressed and clicking on the files of interest</li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n\n      <blockquote class=\"question\">\n        <question-title></question-title>\n        <p>What did we do with this tool?</p>\n        <blockquote class=\"solution\">\n          <solution-title></solution-title>\n          <p>We searched for every character chain matching the extended regular expression (Regex) <code class=\"language-plaintext highlighter-rouge\">([A-Z]{3}[A-Z]+)</code>\nin the first column “Survey” meaning every character chain of 4 or more capital letters. With the replacement <code class=\"language-plaintext highlighter-rouge\">\\1-</code>\nwe indicated to add <code class=\"language-plaintext highlighter-rouge\">-</code> after the bracketed character chain. This manipulation is made in order to merge\nproperly columns “Area” and “Survey” with a separation.</p>\n\n        </blockquote>\n\n      </blockquote>\n    </li>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/devteam/merge_cols/mergeCols1/1.0.2\" title=\"Merge Columns tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Merge Columns</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.0.2)</span> with following parameters :\n      <ul>\n        <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Select data”</em>: four <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code>, <code class=\"language-plaintext highlighter-rouge\">#BITS</code>, <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code>\nColumn Regex Find And Replace data files</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Merge column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 1</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“with column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 4</code></li>\n      </ul>\n\n      <p>Check if the output data files has a supplementary column called “SurveyArea” and values with the survey ID and area ID\nseparated with <code class=\"language-plaintext highlighter-rouge\">-</code>.</p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Change column names</hands-on-title>\n\n  <p><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regex1/1.0.0\" title=\"Regex Find And Replace tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Regex Find And Replace</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.0.0)</span> with following parameters :</p>\n  <ul>\n    <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Select lines from”</em>: four <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code>, <code class=\"language-plaintext highlighter-rouge\">#BITS</code>, <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> Merged data files</li>\n    <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> Click <em>”+ Insert Check”</em>:\n      <ul>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">Year</code></li>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">year</code></li>\n      </ul>\n    </li>\n    <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> Click <em>”+ Insert Check”</em>:\n      <ul>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">Species</code></li>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">species.code</code></li>\n      </ul>\n    </li>\n    <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> Click <em>”+ Insert Check”</em>:\n      <ul>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">CPUE_number_per_hour</code></li>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">number</code></li>\n      </ul>\n    </li>\n    <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> Click <em>”+ Insert Check”</em>:\n      <ul>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">SurveyArea</code></li>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">location</code></li>\n      </ul>\n    </li>\n  </ul>\n\n  <p>Check if the columns are corresponding to <code class=\"language-plaintext highlighter-rouge\">\"Survey\",\"year\",\"Quarter\",\"Area\",\"AphiaID\",\"species.code\",\"LngtClass\",\n\"number\",\"location\"</code> (pay attention to case).</p>\n\n</blockquote>\n\n<blockquote class=\"details\">\n  <details-title>Other tools that could be useful to pre-process data</details-title>\n\n  <p><span><strong>Add input name as column</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>; <span><strong>Compute an expression on every row</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>\n; <span><strong>Table Compute</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>; <span><strong>Join two files on column allowing a small difference</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>\n; <span><strong>Join two files</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>; <span><strong>Filter Tabular</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>; <span><strong>melt</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>\n; <span><strong>Unfold columns from a table</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>; <span><strong>Remove columns by heading</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>\n; <span><strong>Cut columns from a table</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>; <span><strong>Filter data on any column using simple expressions</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>\n; <span><strong>Transpose rows/columns in a tabular file</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i></span>; …</p>\n\n</blockquote>\n\n<h1 id=\"compute-community-and-population-metrics\">Compute Community and Population metrics</h1>\n\n<p>In this part of the tutorial, we’re starting to use tools from the PAMPA toolsuite to compute Community\nand Population metrics. Then, we’ll be creating the observation unit file.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Compute Community metrics</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_communitymetrics/pampa_communitymetrics/0.0.2\" title=\"Calculate community metrics tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Calculate community metrics</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span> with following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Input file”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Regex Find And Replace data file</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Choose the community metrics you want to compute”</em>: <code class=\"language-plaintext highlighter-rouge\">All</code></li>\n      </ul>\n\n      <p>Check if the output Community metrics data file has the following column names <code class=\"language-plaintext highlighter-rouge\">\"year\",\"location\",\"number\",\n\"species_richness\",\"simpson\",\"simpson_l\",\"shannon\",\"pielou\",\"hill\",\"observation.unit\"</code>.</p>\n    </li>\n    <li>Tag the output Community metrics with <code class=\"language-plaintext highlighter-rouge\">#Community</code></li>\n  </ol>\n\n</blockquote>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Compute Population metrics</hands-on-title>\n\n  <p><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_presabs/pampa_presabs/0.0.2\" title=\"Calculate presence absence table tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Calculate presence absence table</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span> with <i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Input file”</em>: <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code>, <code class=\"language-plaintext highlighter-rouge\">#BITS</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> Regex Find And Replace data files</p>\n\n  <p>Check if the outputs Population metrics data files has the following column names <code class=\"language-plaintext highlighter-rouge\">\"year\",\"location\",\n\"species.code\",\"number\",\"presence_absence\",\"observation.unit\"</code>.</p>\n\n</blockquote>\n\n<h2 id=\"creation-of-the-observation-unit-file\">Creation of the observation unit file</h2>\n\n<p>Now that we have the “observation.unit” fields automatically created in the Community and Population\nmetrics files we can create the observation unit file from the <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Regex Find And Replace data file with the same\nnomenclature for the “observation.unit” fields, namely:</p>\n\n<p><code class=\"language-plaintext highlighter-rouge\">['year' in four numbers]_[Identifier of the precise sampled location in any character chain]</code></p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Create the observation unit file</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.0\" title=\"Column Regex Find And Replace tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Column Regex Find And Replace</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.0.0)</span> with following parameters:\n      <ul>\n        <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Select cells from”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Regex Find And Replace data file</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“using column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 2</code></li>\n        <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> Click <em>”+ Insert Check”</em>:\n          <ul>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">([0-9]{4})</code></li>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">\\1_</code></li>\n          </ul>\n        </li>\n      </ul>\n    </li>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/devteam/merge_cols/mergeCols1/1.0.2\" title=\"Merge Columns tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Merge Columns</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.0.2)</span> with following parameters :\n      <ul>\n        <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Select data”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Column Regex Find And Replace data file</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Merge column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 2</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“with column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 9</code></li>\n      </ul>\n\n      <p>Check if the output data file has a supplementary column called “yearlocation” and values with the <code class=\"language-plaintext highlighter-rouge\">'year'</code> and “location” ID\nseparated with <code class=\"language-plaintext highlighter-rouge\">_</code>.</p>\n    </li>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.0\" title=\"Column Regex Find And Replace tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Column Regex Find And Replace</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.0.0)</span> with following parameters:\n      <ul>\n        <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Select cells from”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Merge Columns data file</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“using column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 2</code></li>\n        <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> Click <em>”+ Insert Check”</em>:\n          <ul>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">([0-9]{4})_</code></li>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">\\1</code></li>\n          </ul>\n        </li>\n      </ul>\n\n      <blockquote class=\"question\">\n        <question-title></question-title>\n        <p>What did we do with this tool?</p>\n\n        <blockquote class=\"solution\">\n          <solution-title></solution-title>\n          <p>We removed the <code class=\"language-plaintext highlighter-rouge\">_</code> we added in the first part of this “Hands_on” from the values of the second column\n<code class=\"language-plaintext highlighter-rouge\">'year'</code> to get proper numeric values back.</p>\n\n        </blockquote>\n\n      </blockquote>\n    </li>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0\" title=\"Cut columns from a table (cut) tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Cut columns from a table (cut)</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.1.0)</span>\nwith following parameters :\n      <ul>\n        <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“File to cut”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Column Regex Find And Replace data file</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Operation”</em>: <code class=\"language-plaintext highlighter-rouge\">Keep</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Delimited by”</em>: <code class=\"language-plaintext highlighter-rouge\">Tab</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Cut by”</em>: <code class=\"language-plaintext highlighter-rouge\">fields</code>\n          <ul>\n            <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“List of Fields”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 1</code> <code class=\"language-plaintext highlighter-rouge\">Column: 2</code> <code class=\"language-plaintext highlighter-rouge\">Column: 3</code> <code class=\"language-plaintext highlighter-rouge\">Column: 4</code> <code class=\"language-plaintext highlighter-rouge\">Column: 9</code> <code class=\"language-plaintext highlighter-rouge\">Column: 10</code></li>\n          </ul>\n        </li>\n      </ul>\n\n      <p>Check if the output <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Advanced Cut data file has the following column names <code class=\"language-plaintext highlighter-rouge\">\"Survey\",\"year\",\"Quarter\",\n\"Area\",\"location\",\"yearlocation\"</code>.</p>\n    </li>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1\" title=\"Sort data in ascending or descending order tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Sort data in ascending or descending order</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.1.1)</span>\n with following parameters :\n      <ul>\n        <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Sort Query”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Advanced Cut data file</li>\n        <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Number of header lines”</em>: <code class=\"language-plaintext highlighter-rouge\">1</code></li>\n        <li><em>“1: Column selections”</em>\n          <ul>\n            <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“on column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 6</code></li>\n            <li><i class=\"far fa-check-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-check</span> <em>“in”</em>: <code class=\"language-plaintext highlighter-rouge\">Ascending order</code></li>\n            <li><i class=\"far fa-check-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-check</span> <em>“Flavor”</em>: <code class=\"language-plaintext highlighter-rouge\">Alphabetical sort</code></li>\n          </ul>\n        </li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Output unique values”</em>: <code class=\"language-plaintext highlighter-rouge\">Yes</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Ignore case”</em>: <code class=\"language-plaintext highlighter-rouge\">No</code></li>\n      </ul>\n\n      <p>The output <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Sort data file must have fewer lines than the <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Advanced Cut data file.</p>\n    </li>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regex1/1.0.0\" title=\"Regex Find And Replace tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Regex Find And Replace</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.0.0)</span> with following parameters :\n      <ul>\n        <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Select lines from”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Sort data file</li>\n        <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> Click <em>”+ Insert Check”</em>:\n          <ul>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">yearlocation</code></li>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">observation.unit</code></li>\n          </ul>\n        </li>\n        <li><i class=\"far fa-plus-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-repeat</span> Click <em>”+ Insert Check”</em>:\n          <ul>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Find Regex”</em>: <code class=\"language-plaintext highlighter-rouge\">location</code></li>\n            <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Replacement”</em>: <code class=\"language-plaintext highlighter-rouge\">site</code></li>\n          </ul>\n        </li>\n      </ul>\n\n      <p>Here, we define <code class=\"language-plaintext highlighter-rouge\">'site'</code> represents the same geographical level as “location”.</p>\n    </li>\n    <li>\n      <p>Tag the output <code class=\"language-plaintext highlighter-rouge\">#Concatenate</code> Regex Find And Replace data file with <code class=\"language-plaintext highlighter-rouge\">#unitobs</code></p>\n\n      <p>Check if the output <code class=\"language-plaintext highlighter-rouge\">#Concatenate #unitobs</code> data file has the following column names <code class=\"language-plaintext highlighter-rouge\">\"Survey\",\"year\",\"Quarter\",\n\"Area\",\"site\",\"observation.unit\"</code>.</p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<h1 id=\"glmms-and-plots-on-community-and-population-metrics\">GLMMs and plots on Community and Population metrics</h1>\n\n<p>Now that we have all our input files for GLM(M) tools ready, we can start computing statistical models to make\nconclusions on our surveys. But before starting to use the <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_glmcomm/pampa_glmcomm/0.0.2\" title=\"Compute GLM on community data tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Compute GLM on community data</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span>\nand the <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_glmsp/pampa_glmsp/0.0.2\" title=\"Compute GLM on population data tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Compute GLM on population data</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span> tools, we have to think about the model we want to compute.\nThe tools allows to test the effects <code class=\"language-plaintext highlighter-rouge\">Year'</code>, <code class=\"language-plaintext highlighter-rouge\">Site</code> and/or <code class=\"language-plaintext highlighter-rouge\">Habitat</code> on one interest variable at a time.\nAs we don’t have data about the <code class=\"language-plaintext highlighter-rouge\">Habitat</code> we can’t test its effect. It is always better to take a temporal and a\ngeographical variable into account in an ecological model so we’ll test the effect of <code class=\"language-plaintext highlighter-rouge\">Year</code> and <code class=\"language-plaintext highlighter-rouge\">Site</code> with\na random effect of <code class=\"language-plaintext highlighter-rouge\">Site</code> to take geographical pseudo-replication into account.</p>\n\n<h2 id=\"compute-glmms-and-create-plots-on-community-metrics\">Compute GLMMs and create plots on Community metrics</h2>\n\n<p>For the Community analysis we have the choice to test the effect of <code class=\"language-plaintext highlighter-rouge\">Year</code> and <code class=\"language-plaintext highlighter-rouge\">Site</code> on:</p>\n<ul>\n  <li>“Total abundance”</li>\n  <li>or “Species richness”</li>\n  <li>or “Simpson index”</li>\n  <li>or “1 - Simpson index”</li>\n  <li>or “Shannon index”</li>\n  <li>or “Pielou index”</li>\n  <li>or “Hill index”</li>\n</ul>\n\n<p>As a GLM(M) permits to take into account only one interest variable at a time, we choose to take “Species richness”\nas the interest variable, namely the quantity of different species at a given time and location.\nThis metric is located on the fourth column of the <code class=\"language-plaintext highlighter-rouge\">#Concatenate #Community</code> metrics data file.</p>\n\n<p>However, if you’re interested to test the effects of <code class=\"language-plaintext highlighter-rouge\">Year</code> and <code class=\"language-plaintext highlighter-rouge\">Site</code> on another metric you may compute\nthe GLM(M) tool again and choose any column of the <code class=\"language-plaintext highlighter-rouge\">#Concatenate #Community</code> metrics data file containing one of\nthe metrics cited above.</p>\n\n<p>As said above, analyses will be separated by the field “Survey” (first column) to avoid bias.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Compute GLMM on Community metrics</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_glmcomm/pampa_glmcomm/0.0.2\" title=\"Compute GLM on community data tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Compute GLM on community data</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span> with following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Input metrics file”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate #Community</code> metrics data file</li>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Unitobs informations file”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate #unitobs</code> data file</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Interest variable from metrics file”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 4</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Separation factor of your analysis from unitobs file”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 1</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Response variables”</em>: <code class=\"language-plaintext highlighter-rouge\">Year</code> <code class=\"language-plaintext highlighter-rouge\">Site</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Random effect?”</em>: <code class=\"language-plaintext highlighter-rouge\">Site</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Specify advanced parameters”</em>: <code class=\"language-plaintext highlighter-rouge\">No, use program defaults</code></li>\n      </ul>\n    </li>\n  </ol>\n\n  <p>The three outputs must have three tags <code class=\"language-plaintext highlighter-rouge\">#Concatenate #Community #unitobs</code> and the first one named ‘GLM - results\nfrom your community analysis’ must contain five lines. This file is formated to have one line per GLM processed,\nit has been formated this way to make GLM results easier to represent and modify if needed. However, this format is\noften not suited to read directly the results on Galaxy as Galaxy handles better tabular files with a lot of lines\nrather than files with a lot of columns. So, if your file doesn’t display properly on Galaxy as a data table, we advise\nto do the following optional step.</p>\n\n  <ol>\n    <li>(optional) <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/iuc/datamash_transpose/datamash_transpose/1.1.0\" title=\"Transpose rows/columns in a tabular file tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Transpose rows/columns in a tabular file</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.1.0)</span> with <code class=\"language-plaintext highlighter-rouge\">#Concatenate #Community #unitobs</code> ‘GLM - results from your community analysis’ data file</li>\n  </ol>\n\n</blockquote>\n\n<blockquote class=\"details\">\n  <details-title>Details on advanced parameters of GLM tools</details-title>\n\n  <p>For now, there are two advanced parameters you can setup in the GLM tools:</p>\n  <ul>\n    <li>\n      <p><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Distribution for model”</em> permits you to choose a probability distribution for your\nmodel. When <code class=\"language-plaintext highlighter-rouge\">Auto</code> is selected, the tool will automatically set the distribution on <code class=\"language-plaintext highlighter-rouge\">Gaussian</code>, <code class=\"language-plaintext highlighter-rouge\">Binomial</code>\nor <code class=\"language-plaintext highlighter-rouge\">Poisson</code> depending on the type of your interest variable but it may exist a better probability distribution\nto fit your model. Mind that if you choose to use a random effect, “quasi” distribution can’t be used for your model.</p>\n    </li>\n    <li>\n      <p><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“GLM object(s) as .Rdata output?”</em> permits you to get .Rdata file of your GLM(M)s if you\nwant to use it in your own R console.</p>\n    </li>\n  </ul>\n\n</blockquote>\n\n<blockquote class=\"details\">\n  <details-title>How to choose a proper distribution family for your model?</details-title>\n\n  <p>The distribution family for a model is mainly selected by looking at the interest variable of the model:</p>\n  <ul>\n    <li>If your interest variable is a continuous numeric variable (weigth, size, mean, …) it follows a\n<code class=\"language-plaintext highlighter-rouge\">Gaussian</code> distribution so you should select <code class=\"language-plaintext highlighter-rouge\">Gaussian</code>.</li>\n    <li>If your interest variable is a discrete numeric variable (count) it follows a <code class=\"language-plaintext highlighter-rouge\">Poisson</code> distribution\nso you should select <code class=\"language-plaintext highlighter-rouge\">Poisson</code>.</li>\n    <li>If your interest variable is a binary variable (0-1, presence-absence) it follows a <code class=\"language-plaintext highlighter-rouge\">Binomial</code> distribution\nso you should select <code class=\"language-plaintext highlighter-rouge\">Binomial</code>.</li>\n  </ul>\n\n  <p>These three distributions are the most commonly used, the other distributions are used when the interest variable\n, the data and/or the model has specifics:</p>\n  <ul>\n    <li>When the model is over-dispersed, use a <code class=\"language-plaintext highlighter-rouge\">Quasi-Poisson</code> (when interest variable is discrete) or a <code class=\"language-plaintext highlighter-rouge\">Quasi-Binomial</code>\n(when interest variable is binary) distribution.</li>\n    <li>If your model doesn’t fit well and your interest variable is a <strong>positive</strong> continuous variable, you may try\nwith <code class=\"language-plaintext highlighter-rouge\">Gamma</code> or <code class=\"language-plaintext highlighter-rouge\">Inverse-Gaussian</code> distribution.</li>\n  </ul>\n\n</blockquote>\n\n<h3 id=\"read-and-interpret-raw-glmm-outputs\">Read and interpret raw GLMM outputs</h3>\n\n<p>The GLM tool has three outputs:</p>\n<ul>\n  <li>The first output, ‘GLM - results from your community analysis’ data file, contains the summary of each GLMMs\non each lines.</li>\n  <li>The second output, ‘Simple statistics on chosen variables’ file, contains descriptive statistics (mean, median, …)\nof the interest variable for the whole input data table and for each selected factor levels combinations.\nHere, each <code class=\"language-plaintext highlighter-rouge\">Site</code> at each <code class=\"language-plaintext highlighter-rouge\">Year</code>.</li>\n  <li>The third output, ‘Your analysis rating file’, contains a notation for all analyses performed and notations for\neach GLMMs processed. This rate is based on nine criterias commonly used in ecology to estimate wether a Linear\nModel has been constructed properly or not. At the end of the file, red flags and advices to improve your model\nare displayed also depending on the same criterias. This file is really useful to look at the bigger picture</li>\n</ul>\n\n<blockquote class=\"details\">\n  <details-title>Details on criterias used in 'Your analysis rating file'</details-title>\n\n  <p>For now, there are nine criterias taken into account to rate GLM(M)s in the Galaxy tools:</p>\n  <ul>\n    <li><em>Plan completeness</em>: If part of factor levels combinations are inexistant, bias can be induced. (0.5)</li>\n    <li><em>Plan balance</em>: If factor levels combinations aren’t present in same quantity, bias can be induced. (0.5)</li>\n    <li><em>NA proportion</em>: Lines with one or more NA value are ignored in Linear Models. If many NA values, there are\nless observations taken in account in the model than expected. (1)</li>\n    <li><em>Residuals dispersion</em> (DHARMa package): If the dispersion of residuals isn’t regular, the model is either under- or\nover-dispersed. The distribution selected for the model isn’t right. (1.5)\nTo know if it is under- or over-dispersion, compute <em>“deviance”</em>/<em>“df.resid”</em> : if the result is &gt; 1 it is\nover-dispersion, if the result is &lt; 1 it is under-dispersion.</li>\n    <li><em>Residuals uniformity</em> (DHARMa package): If the residuals aren’t uniform, the distribution selected for the model\nisn’t right. (1)</li>\n    <li><em>Outliers proportion</em> (DHARMa package): If too much outliers, the distribution selected for the model isn’t right\nor data is biased. (0.5)</li>\n    <li><em>Zero-inflation</em> (DHARMa package): If too much zeros in data, bias can be induced. (1)</li>\n    <li><em>Observations / factors ratio</em>: If the number of factors taken into account in the model exceeds 10% of the number\nof observations (ex: 10 factors for 90 observations), bias can be induced. (1)</li>\n    <li><em>Number of levels of the random effect</em>: If no random effect in the model or if the factor selected as random effect\nhas less than 10 levels. (1)</li>\n  </ul>\n\n</blockquote>\n\n<h4 id=\"first-output-glm---results-from-your-community-analysis\">First output: ‘GLM - results from your community analysis’</h4>\n\n<p>First, on the ‘GLM - results from your community analysis’ data file, we see four analyses: <code class=\"language-plaintext highlighter-rouge\">global</code> on the whole dataset\nand one analysis for each of the three surveys <code class=\"language-plaintext highlighter-rouge\">BITS</code>, <code class=\"language-plaintext highlighter-rouge\">EVHOE</code> and <code class=\"language-plaintext highlighter-rouge\">SWC-IBTS</code>. We also see the <code class=\"language-plaintext highlighter-rouge\">Poisson</code> distribution has been\nautomatically selected by the tool. It seems right as the interest variable “Species richness” is a count.</p>\n\n<p>Then, we see five fields that gives indexes to evaluate the quality of a model in comparison to another model performed\non the same data, so they can’t be used to compare the four models performed here :</p>\n<ul>\n  <li><em>“AIC”</em> Akaike information criterion. It is based on the number of factors. The lower AIC is better.</li>\n  <li><em>“BIC”</em> Bayesian information criterion, is a derivate of AIC. It is based on the number of factors selected and on the\nsample size. The lower BIC is better.</li>\n  <li><em>“logLik”</em> log-likelihood, is an index that estimates the likelihood of obtaining the sample of observations used\nfor the model in the selected distribution. The higher logLik is better.</li>\n  <li><em>“deviance”</em>, evaluates the model’s goodness of fit. The lower deviance is better.</li>\n  <li><em>“df.resid”</em>, degrees of freedom in residuals used to calculate the adjusted R-square that indicates the fit quality.</li>\n</ul>\n\n<p>Three statistics about the random effect <code class=\"language-plaintext highlighter-rouge\">Site</code> are given in this first file: standard deviation, number of observations taken\ninto account in the model and number of levels in the random effect.\nAs <code class=\"language-plaintext highlighter-rouge\">Site</code> have been set as a random effect, pseudo-replication caused by the factor <code class=\"language-plaintext highlighter-rouge\">Site</code> variable is taken into account to\nfit the model as well as its effects on the interest variable but it is not tested so we can’t make any conclusion regarding\nits effects on species richness.</p>\n\n<p>At this point on, elements on fixed effects are displayed :</p>\n<ul>\n  <li><em>“Estimate”</em> is the mean value of the interest variable estimated by the model for a given factor.</li>\n  <li><em>“Std.Err”</em> standard error, is the standard deviation of the <em>“Estimate”</em>. It measures uncertainty of the <em>“Estimate”</em>.</li>\n  <li><em>“Zvalue”</em> (or <em>“Tvalue”</em> depending on the distribution) is the <em>“Estimate”</em> divided by the <em>“Std.Err”</em>.</li>\n  <li><em>“Pvalue”</em> is the probability that the interest variable is not impacted by a given factor. If this probability is under a\ncertain value (commonly 5% in ecology so a p-value under 0.05), we determine the factor has a significant effect on the\ninterest variable.</li>\n  <li><em>“IC_up”</em> and <em>“IC_inf”</em> are the upper and lower values of the confidence interval at 95% of the <em>“Estimate”</em>. The confidence\ninterval is the range of values that your <em>“Estimate”</em> may take 95% of the time if you re-sample your data.</li>\n  <li><em>“signif”</em> significativity, “yes” if the <em>“Pvalue”</em> is inferior to 0.05. Tells you wether the tested factor has a significant\neffect on your interest variable.</li>\n</ul>\n\n<p>If the factor used as fixed effect is defined as a qualitative variable, those seven fields will be provided for each factor’s level\nand if it is a continuous variable they will be provided only once for the whole factor.</p>\n\n<p>Here, the factor <code class=\"language-plaintext highlighter-rouge\">'year'</code> may be considered a continuous variable as well as a qualitative variable. Only, it doesn’t provide the same\ninformations :</p>\n<ul>\n  <li>If we consider <code class=\"language-plaintext highlighter-rouge\">'year'</code> as a continuous variable the model will inform on the trend of the interest variable on the whole time-series.\nMaking it more interesting to know about the global behaviour of the interest variable over time.</li>\n  <li>If we consider <code class=\"language-plaintext highlighter-rouge\">'year'</code> as a qualitative variable the model will inform on the relative mean of interest variable for each year\nindividually. Making it more interesting to know about each year individually and plot a detailed curve.</li>\n</ul>\n\n<p>As both these solutions are interesting, the tool is computing two GLMMs when <code class=\"language-plaintext highlighter-rouge\">Year</code> is selected as a fixed effect:</p>\n<ul>\n  <li>one GLMM with <code class=\"language-plaintext highlighter-rouge\">Year</code> as a continuous variable with results on fields <em>“year Estimate”</em>, <em>“year Std.Err”</em>, <em>“year Zvalue”</em>,\n<em>“year Pvalue”</em>, <em>“year IC_up”</em>, <em>“year IC_inf”</em> and <em>“year signif”</em>.</li>\n  <li>one GLMM with <code class=\"language-plaintext highlighter-rouge\">Year</code> as a qualitative variable in the same fields with each <code class=\"language-plaintext highlighter-rouge\">Year</code>’s levels as <em>“YYYY Estimate”</em>,\n<em>“YYYY Std.Err”</em>, <em>“YYYY Zvalue”</em>, <em>“YYYY Pvalue”</em>, <em>“YYYY IC_up”</em>, <em>“YYYY IC_inf”</em> and <em>“YYYY signif”</em>.</li>\n</ul>\n\n<p>The <em>“(Intercept)”</em> value represents the reference value, it is rarely used for interpretations.\nWe see no significant effect on the ‘global’ model which seems logical as it considers the three surveys that are in\nthree geographical areas so three distinct communities. However, we observe the same thing with models on each of\nthe three surveys separately.</p>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n  <p>What does this result with no significant effect found mean? How can we explain it?</p>\n\n  <blockquote class=\"solution\">\n    <solution-title></solution-title>\n    <p>This result would mean that the communities sampled in this dataset haven’t change in the whole\ntime series. However, this result can’t be really trusted because the interest variable we selected is\nthe species richness and for the need of this tutorial we downloaded only part of the dataset with\na limited number of species. Hence, this dataset isn’t really suited to perform a community analysis\nas only a little part of the community is considered.</p>\n\n  </blockquote>\n\n</blockquote>\n\n<h4 id=\"second-output-simple-statistics-on-chosen-variables\">Second output: ‘Simple statistics on chosen variables’</h4>\n\n<p>The second output file doesn’t tell much about the statistic models, it contains details for you to have an outlook on\nthe interest variable of the input data file containing the community metrics. We can see in the ‘Base statistics’\npart that the maximum species richness in the data file is 7 which is very low for trawl surveys and confirms this dataset\nisn’t suited to perform community analyses.</p>\n\n<h4 id=\"third-output-your-analysis-rating-file\">Third output: ‘Your analysis rating file’</h4>\n\n<p>Here, we already pointed out a major issue with the original data file for community analyses and we know they\naren’t robust. The third output will help us get a supplementary layer of understanding and take a step back on\nthe quality of the models performed.\nWe see the global rate is 3.5 out of 10 so it seems the analyses aren’t of good quality but we need to see\neach analysis individually to make real conclusions. The best rate is for the analysis on <code class=\"language-plaintext highlighter-rouge\">EVHOE</code> survey 4 out\nof 8 which is a medium rate, the model isn’t necessarily bad but it can be improved. Indeed, data for this model\ncontains few NA values and it has a complete plan but not balanced. However, two very important criterias aren’t\nchecked: residuals haven’t a regular dispersion and aren’t uniform so it seems Poisson distribution doesn’t fit.\nBesides, there isn’t enough factor’s levels in <code class=\"language-plaintext highlighter-rouge\">'site'</code> to use it as a random effect. To get a relevant model we\nshould redo the model without <code class=\"language-plaintext highlighter-rouge\">Site</code> as a random effect but in order to shorten this tutorial we won’t develop this\nmanipulation here.</p>\n\n<p>You can see in the last part of the file ‘Red flags - advice’, some advices to improve your models but the issues\ndetected in models can come from different reasons (like here, the data isn’t representative enough of the whole\ncommunity) and may be hard to correct. Hence, you can try with another probability distribution but this issue may\ncome from the fact that the data isn’t suited to make an analysis on species richness.\nOverall, the four models aren’t really trust-worthy.</p>\n\n<h4 id=\"summary\">Summary</h4>\n\n<p>With all this interpretation made from raw results, we still don’t really visualize these results clearly. For this, it\ncould be nice to get a graphical representation of the GLMMs results and the interest variable.\nHere, for these models, we know these plots won’t be trust-worthy but it can still be interesting.</p>\n\n<h3 id=\"create-and-read-plots\">Create and read plots</h3>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Create plots from Community metrics file and GLMM results</hands-on-title>\n\n  <p><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_plotglm/pampa_plotglm/0.0.2\" title=\"Create a plot from GLM data tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Create a plot from GLM data</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span> with following parameters:</p>\n  <ul>\n    <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Input glm results file”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate #Community #unitobs</code> ‘GLM - results\nfrom your community analysis’ data file</li>\n    <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Data table used for glm”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate #Community</code> metrics data file</li>\n    <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Unitobs table used for glm”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate #unitobs</code> data file</li>\n  </ul>\n\n  <p>The output must be a data collection with four PNG files.</p>\n\n</blockquote>\n\n<figure id=\"figure-2\" style=\"max-width: 90%;\"><img src=\"../../images/PAMPA-toolsuite-tutorial/Community.png\" alt=\"Community analysis plots. \" width=\"2401\" height=\"2243\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/PAMPA-toolsuite-tutorial/Community.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 2</strong>:</span> Community analysis plots</figcaption></figure>\n\n<p>Each PNG file contains two plots :</p>\n<ul>\n  <li>In the upper plot (blue), the line represents the <em>“Estimate”</em> values for each year and the confidence interval\nis the light blue ribbon. There is no significantly different year here but, usually, it is represented by a white\ndot inside the blue point of the <em>“Estimate”</em> value of the year. The writing on top of the plot is the <em>“Estimate”</em>\nvalue for the whole time-series (year as continuous variable), if nothing else is written it isn’t significant.</li>\n  <li>In the lower plot (purple), the line represents the observed mean of the species richness for each year (calculated\ndirectly from the input metrics data table). If the interest variable had been a presence-absence, it would have been\na presence proportion and if it had been an abundance it would have been a raw abundance (sum of all abundances each year).</li>\n</ul>\n\n<p>We’ll ignore the ‘global’ analysis plot as it associate data from different communities. We see on both plots of each of the\nthree surveys that, as predicted, species richness haven’t varied much as few species are taken into account in the analysed\ndata set and these species are very commonly found as we selected only ‘Standard species’ when downloading the datasets.\nHence, mean species richness are globally around the maximum number of species taken into account in the surveys (7 for\n<code class=\"language-plaintext highlighter-rouge\">SWC-IBTS</code>, 6 for <code class=\"language-plaintext highlighter-rouge\">EVHOE</code> and 3 for <code class=\"language-plaintext highlighter-rouge\">BITS</code>). Moreover, confidence intervals are very wide and global trends are around 1.</p>\n\n<h2 id=\"compute-glmms-and-create-plots-on-population-metrics\">Compute GLMMs and create plots on Population metrics</h2>\n\n<p>For the Population analysis we have the choice to test the effect of <code class=\"language-plaintext highlighter-rouge\">Year</code> and <code class=\"language-plaintext highlighter-rouge\">Site</code> on:</p>\n<ul>\n  <li>“Abundance”</li>\n  <li>or “Presence-absence”</li>\n</ul>\n\n<p>As a GLM(M) permits to take into account only one interest variable at a time, we choose to take\n“Abundance” as the interest variable, namely the quantity of a given species at a given time and location.\nThis metric is located on the fourth column of the <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code>, <code class=\"language-plaintext highlighter-rouge\">#BITS</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> Population metrics data files.</p>\n\n<p>However, if you’re interested to test the effects of <code class=\"language-plaintext highlighter-rouge\">Year</code> and <code class=\"language-plaintext highlighter-rouge\">Site</code> on “Presence-absence” you may compute\nthe GLM(M) tool again and choose the fifth column of the <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code>, <code class=\"language-plaintext highlighter-rouge\">#BITS</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> Population metrics data\nfiles.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Compute GLMM on Population metrics</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_glmsp/pampa_glmsp/0.0.2\" title=\"Compute GLM on population data tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Compute GLM on population data</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span> with following parameters:\n      <ul>\n        <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Input metrics file”</em>: <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code>, <code class=\"language-plaintext highlighter-rouge\">#BITS</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> metrics (here presence absence) data files</li>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Unitobs informations file”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate #unitobs</code> data file</li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Interest variable from metrics file”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 4</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Response variables”</em>: <code class=\"language-plaintext highlighter-rouge\">Year</code> <code class=\"language-plaintext highlighter-rouge\">Site</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Random effect?”</em>: <code class=\"language-plaintext highlighter-rouge\">Site</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Specify advanced parameters”</em>: <code class=\"language-plaintext highlighter-rouge\">No, use program defaults</code></li>\n      </ul>\n\n      <p>The three outputs for each survey must have three tags <code class=\"language-plaintext highlighter-rouge\">#Concatenate #SurveyID #unitobs</code>.</p>\n\n      <p>The first files of each survey named ‘GLM - results from your population analysis’ must contain one line\nper GLM processed, it has been formated this way to make GLM results easier to represent and modify if needed.\nHowever, this format is often not suited to read directly the results on Galaxy as Galaxy handles better tabular\nfiles with a lot of lines rather than files with a lot of columns. So, if your files doesn’t display properly\non Galaxy as a data table, we advise to do the following optional step.</p>\n    </li>\n    <li>(optional) <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/iuc/datamash_transpose/datamash_transpose/1.1.0\" title=\"Transpose rows/columns in a tabular file tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Transpose rows/columns in a tabular file</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.1.0)</span>\nwith <code class=\"language-plaintext highlighter-rouge\">#Concatenate #EVHOE #unitobs</code> <code class=\"language-plaintext highlighter-rouge\">#BITS #Concatenate #unitobs</code> <code class=\"language-plaintext highlighter-rouge\">#Concatenate #SWCIBTS #unitobs</code>\n‘GLM - results from your population analysis’ data files</li>\n  </ol>\n\n</blockquote>\n\n<h3 id=\"read-and-interpret-raw-glm-outputs\">Read and interpret raw GLM outputs</h3>\n\n<p>The three outputs for each time the population GLM tool runs are the same as in the community GLM tool described in\nthe previous part 3. 1. 1. Read and interpret raw GLM outputs.\nFor the need of this tutorial, we’ll be analyzing only the <code class=\"language-plaintext highlighter-rouge\">BITS</code> survey analysis results.</p>\n\n<h4 id=\"first-output-glm---results-from-your-population-analysis\">First output: ‘GLM - results from your population analysis’</h4>\n\n<p>First, on the <code class=\"language-plaintext highlighter-rouge\">#BITS #Concatenate #unitobs</code> ‘GLM - results from your population analysis’ data file, we see three analyses\none for each species in the <code class=\"language-plaintext highlighter-rouge\">BITS</code> survey: <code class=\"language-plaintext highlighter-rouge\">Gadus morhua</code> (Atlantic cod), <code class=\"language-plaintext highlighter-rouge\">Platichthys flesus</code> (European flounder) and\n<code class=\"language-plaintext highlighter-rouge\">Pleuronectes platessa</code> (European plaice).</p>\n\n<figure id=\"figure-3\" style=\"max-width: 90%;\"><img src=\"../../images/PAMPA-toolsuite-tutorial/Fish-BITS.png\" alt=\"BITS survey standard fish species. \" width=\"955\" height=\"233\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/PAMPA-toolsuite-tutorial/Fish-BITS.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 3</strong>:</span> BITS survey standard fish species</figcaption></figure>\n\n<p>We also see the <code class=\"language-plaintext highlighter-rouge\">Gaussian</code> distribution has been automatically selected by the tool. It seems right even if the interest variable\n“Abundance” is usually a count, here it is a Catch Per Unit Effort abundance so it isn’t a round value.</p>\n\n<p>Then, the details of what contains each field in this file has been developped in the previous part on community analyses 3. 1. 1. 1. First output: ‘GLM - results from your community analysis’.</p>\n\n<p>Three statistics about the random effect <code class=\"language-plaintext highlighter-rouge\">Site</code> are given in this first file: standard deviation, number of observations taken\ninto account in the model and number of levels in the random effect.\nAs <code class=\"language-plaintext highlighter-rouge\">'site'</code> have been set as a random effect, pseudo-replication caused by the factor <code class=\"language-plaintext highlighter-rouge\">Site</code> variable is taken into account to\nfit the model as well as its effects on the “Abundance” but it is not tested so we can’t make any conclusion regarding\nits effects on CPUE abundance.</p>\n\n<p>As said above, the tool is computing two GLMMs when <code class=\"language-plaintext highlighter-rouge\">Year</code> is selected as a fixed effect:</p>\n<ul>\n  <li>one GLMM with <code class=\"language-plaintext highlighter-rouge\">Year</code> as a continuous variable with results on fields <em>“year Estimate”</em>, <em>“year Std.Err”</em>, <em>“year Zvalue”</em>,\n<em>“year Pvalue”</em>, <em>“year IC_up”</em>, <em>“year IC_inf”</em> and <em>“year signif”</em>.</li>\n  <li>one GLMM with <code class=\"language-plaintext highlighter-rouge\">Year</code> as a qualitative variable in the same fields with each <code class=\"language-plaintext highlighter-rouge\">Year</code>’s levels as <em>“YYYY Estimate”</em>,\n<em>“YYYY Std.Err”</em>, <em>“YYYY Zvalue”</em>, <em>“YYYY Pvalue”</em>, <em>“YYYY IC_up”</em>, <em>“YYYY IC_inf”</em> and <em>“YYYY signif”</em>.</li>\n</ul>\n\n<p>The <em>“(Intercept)”</em> value represents the reference value, it is rarely used for interpretations.</p>\n\n<p>Regarding the significance of the effect <code class=\"language-plaintext highlighter-rouge\">Year</code> as continuous variable:</p>\n<ul>\n  <li>It isn’t significant in the <code class=\"language-plaintext highlighter-rouge\">Gadus morhua</code> model.</li>\n  <li>It is significant in the <code class=\"language-plaintext highlighter-rouge\">Platichthys flesus</code> model.</li>\n  <li>It is significant in the <code class=\"language-plaintext highlighter-rouge\">Pleuronectes platessa</code> model.</li>\n</ul>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n  <p>What does these results on the effect <code class=\"language-plaintext highlighter-rouge\">Year</code> as continuous variable mean?</p>\n\n  <blockquote class=\"solution\">\n    <solution-title></solution-title>\n    <p>The question behind the test of this effect is: “Is the global temporal trend different from 1?”\nWhen it isn’t significant as in the <code class=\"language-plaintext highlighter-rouge\">Gadus morhua</code> model, it means the <em>“year Estimate”</em> value isn’t\nsignificantly different from 1 so the interest variable “Abundance” hasn’t varied much through time.\nWhen it is significant as in the two other models, the <em>“year Estimate”</em> value is significantly different\nfrom 1 so the interest variable “Abundance” has varied through time.</p>\n\n  </blockquote>\n\n</blockquote>\n\n<p>These results are consistent with the results on the significance of the effects <code class=\"language-plaintext highlighter-rouge\">Year</code> as qualitative variable:</p>\n<ul>\n  <li>Only one year out of 30 considered significantly different in the <code class=\"language-plaintext highlighter-rouge\">Gadus morhua</code> model. On year 1995.</li>\n  <li>14 years out of 30 considered significantly different in the <code class=\"language-plaintext highlighter-rouge\">Platichthys flesus</code> model. On years 2001, 2002, 2005,\n2007, 2008, 2010 to 2017 and 2019.</li>\n  <li>8 years out of 30 considered significantly different in the <code class=\"language-plaintext highlighter-rouge\">Pleuronectes platessa</code> model. From year 2012 to 2019.</li>\n</ul>\n\n<h4 id=\"second-output-simple-statistics-on-chosen-variables-1\">Second output: ‘Simple statistics on chosen variables’</h4>\n\n<p>The second output file doesn’t tell much about the statistic models, it contains details for you to have an outlook on\nthe interest variable of the input data file containing the population metrics. We can see for example in the ‘Statistics\nper combination of factor levels’ part that the median value for the CPUE abundance in the location “22” in 1991 is 6.862473.</p>\n\n<h4 id=\"third-output-your-analysis-rating-file-1\">Third output: ‘Your analysis rating file’</h4>\n\n<p>The third output will help us get a supplementary layer of understanding and take a step back on the quality of\nthe models performed.\nWe see the global rate is 5.5 out of 10 so it seems the analyses are of better quality than the community analysis but\nwe need to see each analysis individually to make real conclusions.\nThe best rates are for the analyses on <code class=\"language-plaintext highlighter-rouge\">Gadus morhua</code> and <code class=\"language-plaintext highlighter-rouge\">Platichthys flesus</code> 5.5 out of 8 which is a nice rate. However,\nthe models can still be improved by removing the random effect. As residuals aren’t uniform, we could select another\ndistribution but dispersion of residuals and residuals outliers are regular so we don’t advise it.\nAll analyses checked an important critera: the dispersion of residuals is regular so, more broadly we don’t\nadvise changing the distribution for any of these models.</p>\n\n<p>You can see in the last part of the file ‘Red flags - advice’, some advices to improve your models but the issues\ndetected in models can come from different reasons and may be hard to correct. Hence, if you really want to improve\nyour models, you can try to get a tighter geographical resolution in order to get more locations and sites to keep\nthe random effect on <code class=\"language-plaintext highlighter-rouge\">'site'</code>. You can also try to remove biased observations from your original dataset by finding out\nmore about the sampling methods used (years with different methods or different fleet for example).</p>\n\n<h4 id=\"summary-1\">Summary</h4>\n\n<p>With all this interpretation made from raw results, we still don’t really visualize these results clearly. For this, it\ncould be nice to get a graphical representation of the GLMMs results and the interest variable.\nHere, for these models, the plots we’ll create will certainly be more trust-worthy than the previous Community analyses.\nHence, more interesting to look at.</p>\n\n<h3 id=\"create-and-read-plots-1\">Create and read plots</h3>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Create plots from Population metrics file and GLMM results</hands-on-title>\n\n  <p><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/ecology/pampa_plotglm/pampa_plotglm/0.0.2\" title=\"Create a plot from GLM data tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Create a plot from GLM data</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.2)</span> with following parameters:</p>\n  <ul>\n    <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Input glm results file”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate #EVHOE #unitobs</code> <code class=\"language-plaintext highlighter-rouge\">#BITS #Concatenate #unitobs</code>\n<code class=\"language-plaintext highlighter-rouge\">#Concatenate #SWCIBTS #unitobs</code> ‘GLM - results from your population analysis’ data files</li>\n    <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Data table used for glm”</em>: <code class=\"language-plaintext highlighter-rouge\">#EVHOE</code>, <code class=\"language-plaintext highlighter-rouge\">#BITS</code> and <code class=\"language-plaintext highlighter-rouge\">#SWCIBTS</code> metrics data files</li>\n    <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Unitobs table used for glm”</em>: <code class=\"language-plaintext highlighter-rouge\">#Concatenate #unitobs</code> data file</li>\n  </ul>\n\n  <p>The three outputs must be a data collection.</p>\n\n</blockquote>\n\n<p>See the previous part 3. 1. 2. Create and read plots to get details on output PNG files.\nAs the interest variable is “Abundance”, the plot with a purple line represents raw abundance: the sum of\nall abundances of the studied species for one year.</p>\n\n<figure id=\"figure-4\" style=\"max-width: 90%;\"><img src=\"../../images/PAMPA-toolsuite-tutorial/BITS.png\" alt=\"BITS population analysis plots. \" width=\"2354\" height=\"2243\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/PAMPA-toolsuite-tutorial/BITS.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 4</strong>:</span> BITS population analysis plots</figcaption></figure>\n\n<p>On the <code class=\"language-plaintext highlighter-rouge\">Gadus morhua</code> plots, only small variations of the abundance occured between 1991 and 2020 apart for year 1995\nwhere we see a huge augmentation for the estimated value and the raw abundance (value almost tripled). As the values\nare coming back to an average range of values the following year, there should be some bias or even a count or\ntyping mistake in the dataset.</p>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n  <p>How can we see if there is a mistake in the dataframe? How can we deal with it?</p>\n\n  <blockquote class=\"solution\">\n    <solution-title></solution-title>\n    <p>To see if there is an abnormal value in the <code class=\"language-plaintext highlighter-rouge\">'number'</code> field representing the CPUE abundance we’ll use\nthe <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1\" title=\"Sort data in ascending or descending order tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Sort data in ascending or descending order</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.1.1)</span>\ntool in the “Text Manipulation” tool collection with following parameters :</p>\n    <ul>\n      <li><i class=\"far fa-copy\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-files</span> <em>“Sort Query”</em>: <code class=\"language-plaintext highlighter-rouge\">#BITS</code> ‘Calculate presence absence table’ data file</li>\n      <li><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-text</span> <em>“Number of header lines”</em>: <code class=\"language-plaintext highlighter-rouge\">1</code></li>\n      <li><em>“1: Column selections”</em>\n        <ul>\n          <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“on column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 4</code></li>\n          <li><i class=\"far fa-check-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-check</span> <em>“in”</em>: <code class=\"language-plaintext highlighter-rouge\">Descending order</code></li>\n          <li><i class=\"far fa-check-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-check</span> <em>“Flavor”</em>: <code class=\"language-plaintext highlighter-rouge\">Fast numeric sort (-n)</code></li>\n          <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Output unique values”</em>: <code class=\"language-plaintext highlighter-rouge\">No</code></li>\n          <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Ignore case”</em>: <code class=\"language-plaintext highlighter-rouge\">No</code></li>\n        </ul>\n      </li>\n    </ul>\n\n    <p>The first value should be a measure of <code class=\"language-plaintext highlighter-rouge\">Gadus morhua</code> on year “1995” and location “BITS-23”, this\nvalue is of <em>‘13253.12023’</em> which is way higher than the next biggest value <em>‘4709.504184’</em>.\nThis value may create bias in the statistical model so, even if we won’t develop it here, you can\nremove this line from the <code class=\"language-plaintext highlighter-rouge\">#BITS</code> ‘Calculate presence absence table’ data file and re-run the model.</p>\n\n  </blockquote>\n\n</blockquote>\n\n<p>We see on both plots of <code class=\"language-plaintext highlighter-rouge\">Platichthys flesus</code> and <code class=\"language-plaintext highlighter-rouge\">Pleuronectes platessa</code> that CPUE abundance has significantly increased\nsince 30 years. Both species had a first CPUE abundance increase around 2000 that can be explained by a fleet change in\nthe trawl survey around this time. Then, for <code class=\"language-plaintext highlighter-rouge\">Platichthys flesus</code>, after a decrease in 2003 had a more or less stable\nCPUE abundance. For <code class=\"language-plaintext highlighter-rouge\">Pleuronectes platessa</code> a second wave of increase occured between 2008 and 2013 to decrease after 2018.</p>\n\n<figure id=\"figure-5\" style=\"max-width: 90%;\"><img src=\"../../images/PAMPA-toolsuite-tutorial/EVHOE.png\" alt=\"EVHOE population analysis plots. \" width=\"3177\" height=\"1515\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/PAMPA-toolsuite-tutorial/EVHOE.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 5</strong>:</span> EVHOE population analysis plots</figcaption></figure>\n<figure id=\"figure-6\" style=\"max-width: 90%;\"><img src=\"../../images/PAMPA-toolsuite-tutorial/SWCIBTS.png\" alt=\"SWCIBTS population analysis plots. \" width=\"3177\" height=\"1991\" loading=\"lazy\" /><a target=\"_blank\" href=\"../../images/PAMPA-toolsuite-tutorial/SWCIBTS.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 6</strong>:</span> SWCIBTS population analysis plots</figcaption></figure>\n\n<h1 id=\"conclusion\">Conclusion</h1>\n\n<p>In this tutorial, you analyzed abundance data from three trawl surveys with an ecological analysis workflow.\nYou learned how to pre-process abundance data with Galaxy and compute Community and Population metrics.\nYou know now how to construct a proper GL(M)M easily and interpret its results. The construction of a Generalized\nLinear (Mixed) Model has to be well thought out and may need corrections a posteriori by the use of common tests\nthat helps evaluate the quality of your GL(M)M (found in the rating file).</p>\n"],"ref_slides":[],"hands_on":true,"slides":false,"mod_date":"2024-05-29 14:28:52 +0000","pub_date":"2020-11-19 16:31:09 +0000","version":50,"workflows":[{"workflow":"Galaxy-Workflow-Compute_and_analyze_biodiversity_metrics_with_PAMPA_toolsuite.ga","tests":false,"url":"https://training.galaxyproject.org/training-material/topics/ecology/tutorials/PAMPA-toolsuite-tutorial/workflows/Galaxy-Workflow-Compute_and_analyze_biodiversity_metrics_with_PAMPA_toolsuite.ga","path":"topics/ecology/tutorials/PAMPA-toolsuite-tutorial/workflows/Galaxy-Workflow-Compute_and_analyze_biodiversity_metrics_with_PAMPA_toolsuite.ga","wfid":"ecology-PAMPA-toolsuite-tutorial","wfname":"galaxy-workflow-compute_and_analyze_biodiversity_metrics_with_pampa_toolsuite","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/ecology-PAMPA-toolsuite-tutorial/versions/galaxy-workflow-compute_and_analyze_biodiversity_metrics_with_pampa_toolsuite","license":null,"creators":[],"name":"Compute and analyze biodiversity metrics with PAMPA toolsuite","title":"Compute and analyze biodiversity metrics with PAMPA toolsuite","test_results":null,"modified":"2024-06-17 12:36:39 +0000","mermaid":"flowchart TD\n  0[\"ℹ️ Input Dataset\\nInput dataset\"];\n  style 0 stroke:#2c3143,stroke-width:4px;\n  1[\"ℹ️ Input Dataset\\nInput dataset\"];\n  style 1 stroke:#2c3143,stroke-width:4px;\n  2[\"ℹ️ Input Dataset\\nInput dataset\"];\n  style 2 stroke:#2c3143,stroke-width:4px;\n  3[\"Column Regex Find And Replace\"];\n  0 -->|output| 3;\n  4[\"Column Regex Find And Replace\"];\n  1 -->|output| 4;\n  5[\"Concatenate datasets\"];\n  2 -->|output| 5;\n  1 -->|output| 5;\n  0 -->|output| 5;\n  6[\"Column Regex Find And Replace\"];\n  2 -->|output| 6;\n  7[\"Merge Columns\"];\n  3 -->|out_file1| 7;\n  8[\"Merge Columns\"];\n  4 -->|out_file1| 8;\n  9[\"Count\"];\n  5 -->|out_file1| 9;\n  10[\"Filter\"];\n  5 -->|out_file1| 10;\n  11[\"Merge Columns\"];\n  6 -->|out_file1| 11;\n  12[\"Regex Find And Replace\"];\n  7 -->|out_file1| 12;\n  13[\"Regex Find And Replace\"];\n  8 -->|out_file1| 13;\n  14[\"Column Regex Find And Replace\"];\n  10 -->|out_file1| 14;\n  15[\"Regex Find And Replace\"];\n  11 -->|out_file1| 15;\n  16[\"Calculate presence absence table\"];\n  12 -->|out_file1| 16;\n  17[\"Calculate presence absence table\"];\n  13 -->|out_file1| 17;\n  18[\"Merge Columns\"];\n  14 -->|out_file1| 18;\n  19[\"Calculate presence absence table\"];\n  15 -->|out_file1| 19;\n  20[\"Regex Find And Replace\"];\n  18 -->|out_file1| 20;\n  21[\"Calculate community metrics\"];\n  20 -->|out_file1| 21;\n  22[\"Column Regex Find And Replace\"];\n  20 -->|out_file1| 22;\n  23[\"Merge Columns\"];\n  22 -->|out_file1| 23;\n  24[\"Column Regex Find And Replace\"];\n  23 -->|out_file1| 24;\n  25[\"Advanced Cut\"];\n  24 -->|out_file1| 25;\n  26[\"Sort\"];\n  25 -->|output| 26;\n  27[\"Regex Find And Replace\"];\n  26 -->|outfile| 27;\n  28[\"Compute GLM on community data\"];\n  21 -->|output_community| 28;\n  27 -->|out_file1| 28;\n  29[\"Compute GLM on population data\"];\n  16 -->|output_presabs| 29;\n  27 -->|out_file1| 29;\n  30[\"Compute GLM on population data\"];\n  17 -->|output_presabs| 30;\n  27 -->|out_file1| 30;\n  31[\"Compute GLM on population data\"];\n  19 -->|output_presabs| 31;\n  27 -->|out_file1| 31;\n  32[\"Transpose\"];\n  28 -->|output_summary| 32;\n  33[\"Create a plot from GLM data\"];\n  21 -->|output_community| 33;\n  28 -->|output_summary| 33;\n  27 -->|out_file1| 33;\n  34[\"Transpose\"];\n  29 -->|output_summary| 34;\n  35[\"Create a plot from GLM data\"];\n  16 -->|output_presabs| 35;\n  29 -->|output_summary| 35;\n  27 -->|out_file1| 35;\n  36[\"Transpose\"];\n  30 -->|output_summary| 36;\n  37[\"Create a plot from GLM data\"];\n  17 -->|output_presabs| 37;\n  30 -->|output_summary| 37;\n  27 -->|out_file1| 37;\n  38[\"Transpose\"];\n  31 -->|output_summary| 38;\n  39[\"Create a plot from GLM data\"];\n  19 -->|output_presabs| 39;\n  31 -->|output_summary| 39;\n  27 -->|out_file1| 39;"}],"api":"https://training.galaxyproject.org/training-material/api/topics/ecology/tutorials/PAMPA-toolsuite-tutorial/tutorial.json","tools":["Count1","Filter1","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_easyjoin_tool/1.1.2","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1","toolshed.g2.bx.psu.edu/repos/devteam/merge_cols/mergeCols1/1.0.2","toolshed.g2.bx.psu.edu/repos/ecology/pampa_communitymetrics/pampa_communitymetrics/0.0.2","toolshed.g2.bx.psu.edu/repos/ecology/pampa_glmcomm/pampa_glmcomm/0.0.2","toolshed.g2.bx.psu.edu/repos/ecology/pampa_glmsp/pampa_glmsp/0.0.2","toolshed.g2.bx.psu.edu/repos/ecology/pampa_plotglm/pampa_plotglm/0.0.2","toolshed.g2.bx.psu.edu/repos/ecology/pampa_presabs/pampa_presabs/0.0.2","toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regex1/1.0.0","toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.0","toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1","toolshed.g2.bx.psu.edu/repos/iuc/datamash_transpose/datamash_transpose/1.1.0"],"supported_servers":{"exact":[{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true}],"inexact":[{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.fr/","name":"UseGalaxy.fr","usegalaxy":false},{"url":"https://usegalaxy.org.au","name":"UseGalaxy.org.au","usegalaxy":true}]},"topic_name_human":"Ecology","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"text_processing","owner":"bgruening","revisions":"ddf54b12c295","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"merge_cols","owner":"devteam","revisions":"dd40b1e9eebe","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"pampa_communitymetrics","owner":"ecology","revisions":"c67ece97d4b1","tool_panel_section_label":"Species abundance","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"pampa_glmcomm","owner":"ecology","revisions":"b40fecef616b","tool_panel_section_label":"Species abundance","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"pampa_glmsp","owner":"ecology","revisions":"7a69e1c8ba46","tool_panel_section_label":"Species abundance","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"pampa_plotglm","owner":"ecology","revisions":"c448e026f122","tool_panel_section_label":"Species abundance","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"pampa_presabs","owner":"ecology","revisions":"1ebb70b59037","tool_panel_section_label":"Species abundance","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"regex_find_replace","owner":"galaxyp","revisions":"209b7c5ee9d7","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"regex_find_replace","owner":"galaxyp","revisions":"209b7c5ee9d7","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"regex_find_replace","owner":"galaxyp","revisions":"ae8c4b2488e7","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"datamash_transpose","owner":"iuc","revisions":"22c2a1ac7ae3","tool_panel_section_label":"Join, Subtract and Group","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: text_processing\n  owner: bgruening\n  revisions: ddf54b12c295\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: merge_cols\n  owner: devteam\n  revisions: dd40b1e9eebe\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: pampa_communitymetrics\n  owner: ecology\n  revisions: c67ece97d4b1\n  tool_panel_section_label: Species abundance\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: pampa_glmcomm\n  owner: ecology\n  revisions: b40fecef616b\n  tool_panel_section_label: Species abundance\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: pampa_glmsp\n  owner: ecology\n  revisions: 7a69e1c8ba46\n  tool_panel_section_label: Species abundance\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: pampa_plotglm\n  owner: ecology\n  revisions: c448e026f122\n  tool_panel_section_label: Species abundance\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: pampa_presabs\n  owner: ecology\n  revisions: 1ebb70b59037\n  tool_panel_section_label: Species abundance\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: regex_find_replace\n  owner: galaxyp\n  revisions: 209b7c5ee9d7\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: regex_find_replace\n  owner: galaxyp\n  revisions: 209b7c5ee9d7\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: regex_find_replace\n  owner: galaxyp\n  revisions: ae8c4b2488e7\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: datamash_transpose\n  owner: iuc\n  revisions: 22c2a1ac7ae3\n  tool_panel_section_label: Join, Subtract and Group\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Coline Royaux","email":"coline.royaux@mnhn.fr","twitter":"ColineRoyaux","orcid":"0000-0003-4308-5617","joined":"2020-11","elixir_node":"fr","affiliations":["pndb","gallantries","elixir-europe"],"id":"colineroyaux","url":"https://training.galaxyproject.org/training-material/api/contributors/colineroyaux.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/colineroyaux/"},{"name":"Yvan Le Bras","email":"yvan.le-bras@mnhn.fr","twitter":"Yvan2935","matrix":"yvanlebras:matrix.org","orcid":"0000-0002-8504-068X","joined":"2017-09","elixir_node":"fr","affiliations":["pndb","gallantries","fairease","fnso2019","elixir-europe"],"id":"yvanlebras","url":"https://training.galaxyproject.org/training-material/api/contributors/yvanlebras.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/yvanlebras/"},{"name":"Dominique Pelletier","joined":"2022-03","id":"dpelletier","url":"https://training.galaxyproject.org/training-material/api/contributors/dpelletier.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/dpelletier/"},{"name":"Jean-Baptiste Mihoub","email":"jean-baptiste.mihoub@mnhn.fr","joined":"2022-03","id":"jbmihoub","url":"https://training.galaxyproject.org/training-material/api/contributors/jbmihoub.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/jbmihoub/"},{"name":"Gallantries: Bridging Training Communities in Life Science, Environment and Health","short_name":"Gallantries","start_date":"2020-09-01","end_date":"2023-09-30","joined":"2020-09","avatar":"https://gallantries.github.io/assets/images/gallantries-logo.png","github":false,"funder":true,"url":"https://training.galaxyproject.org/training-material/api/funders/gallantries.json","funder_name":"Erasmus+ Programme","funding_id":"2020-1-NL01-KA203-064717","funding_system":"erasmusplus","funding_statement":"This project (<a href=\"https://erasmus-plus.ec.europa.eu/projects/search/details/2020-1-NL01-KA203-064717\"><code class=\"language-plaintext highlighter-rouge\">2020-1-NL01-KA203-064717</code></a>) is funded with the support of the Erasmus+ programme of the European Union. Their funding has supported a large number of tutorials within the GTN across a wide array of topics.\n<img src=\"https://gallantries.github.io/assets/images/logosbeneficaireserasmusright_en.jpg\" alt=\"eu flag with the text: with the support of the erasmus programme of the european union\" />\n<img src=\"https://www.erasmusplus.nl/assets/images/logo.png\" alt=\"erasmus plus logo\" />","members":["abretaud","bebatut","colineroyaux","fpsom","hexylena","shiltemann","yvanlebras"],"id":"gallantries","page":"https://training.galaxyproject.org/training-material/hall-of-fame/gallantries/"},{"name":"Pôle National de Données de Biodiversité","url":"https://training.galaxyproject.org/training-material/api/organisations/pndb.json","avatar":"/training-material/shared/images/PNDB_sub.png","github":false,"members":["colineroyaux","Marie59","yvanlebras","ThibaudGlinez"],"id":"pndb","page":"https://training.galaxyproject.org/training-material/hall-of-fame/pndb/"}]}