{"layout":"tutorial_hands_on","title":"NCBI BLAST+ against the MAdLand","zenodo_link":"https://zenodo.org/records/7524427","questions":["What is MAdLand DB?","How can we perform Blast analysis on Galaxy?"],"objectives":["Load FASTA sequence into Galaxy","Perform NCBI-Blast+ analysis against MAdLandDB"],"time_estimation":"15m","key_points":["Blast tool searches a database of sequences for similar sequences to a query sequence.","Diamond  quickly aligns large-scale data sets using a compressed version of the reference sequences called a \"database diamond\".","MAdLand is a database of fully sequenced plant and algal genomes, with an emphasis on non-seed plants and streptophyte algae that can be use for sequence similarity search."],"contributors":[{"name":"Deepti Varshney","joined":"2022-12","affiliations":["uni-freiburg","elixir-europe"],"id":"deeptivarshney","url":"https://training.galaxyproject.org/training-material/api/contributors/deeptivarshney.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/deeptivarshney/"}],"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00238","url":"/topics/sequence-analysis/tutorials/ncbi-blast-against-the-madland/tutorial.html","topic_name":"sequence-analysis","tutorial_name":"ncbi-blast-against-the-madland","dir":"topics/sequence-analysis/tutorials/ncbi-blast-against-the-madland","symlink":null,"id":"sequence-analysis/ncbi-blast-against-the-madland","ref_tutorials":["<p>MAdLandDB is a protein database comprising of a comprehensive collection of fully sequenced plant and algal genomes, with a particular emphasis on non-seed plants and streptophyte algae. Additionally, for comparative analysis, the database also includes genomes from various other organisms such as fungi, animals, the SAR group, bacteria, and archaea. The database is actively developed and maintained by the <a href=\"http://plantco.de\">Rensing lab</a> and released in the <a href=\"https://madland.science/\">MAdLand</a> setting. It employs a system of species abbreviation using a 5 letter code, which is constructed using the first three letters of the genus and the first two letters of the species name, for example, CHABR for <em>Chara braunii</em>. Furthermore, the database provides gene identification through the addition of gene ID’s and supplementary information such as the encoding source of the gene, whether it is plastome encoded (pt) or transcriptome-based (tr) in cases when a genome is not yet available. The key advantage of this database is its non-redundant nature, and the fact that all sequences are predominantly from genome projects, thereby increasing their reliability.</p>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n  <p>In this tutorial, we will deal with:</p>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#get-data\" id=\"markdown-toc-get-data\">Get data</a></li>\n  <li><a href=\"#perform-ncbi-blast-on-galaxy\" id=\"markdown-toc-perform-ncbi-blast-on-galaxy\">Perform NCBI Blast+ on Galaxy</a></li>\n  <li><a href=\"#blast-output\" id=\"markdown-toc-blast-output\">Blast output</a></li>\n  <li><a href=\"#more-similarity-search-tools-on-galaxy\" id=\"markdown-toc-more-similarity-search-tools-on-galaxy\">More Similarity Search Tools on Galaxy</a></li>\n</ol>\n\n</blockquote>\n\n<h2 id=\"get-data\">Get data</h2>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title> Data Upload </hands-on-title>\n\n  <ol>\n    <li>\n      <p>Create a new history for this tutorial and give it a proper name</p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-creating-a-new-history\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-creating-a-new-history\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Creating a new history</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <p>Click the <i class=\"fas fa-plus\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">new-history</span> icon at the top of the history panel:</p>   <p><img src=\"/training-material/shared/images/history_create_new.svg\" alt=\"UI for creating new history\" /></p>   <!-- the original drawing can be found here https://docs.google.com/drawings/d/1cCBrLAo4kDGic5QyB70rRiWJAKTenTU8STsKDaLcVU8/edit?usp=sharing --> </blockquote>\n      <p><!--END_SNIPPET--></p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-renaming-a-history\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-renaming-a-history\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Renaming a history</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ol>   <li>Click on <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> (<strong>Edit</strong>) next to the history name (which by default is “Unnamed history”)</li>   <li>Type the new name</li>   <li>Click on <strong>Save</strong></li> </ol>   <p>If you do not have the <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> (<strong>Edit</strong>) next to the history name:</p>   <ol>   <li>Click on <strong>Unnamed history</strong> (or the current name of the history) (<strong>Click to rename history</strong>) at the top of your history panel</li>   <li>Type the new name</li>   <li>Press <kbd>Enter</kbd></li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n    <li>\n      <p>Import the file <code class=\"language-plaintext highlighter-rouge\">query.faa</code> from <a href=\"https://zenodo.org/records/7524427\">Zenodo</a></p>\n\n      <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>https://zenodo.org/records/7524427/files/query.faa\n</code></pre></div>      </div>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-importing-via-links\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-importing-via-links\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Importing via links</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Copy the link location</li>   <li>     <p>Click <i class=\"fas fa-upload\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-upload</span> <strong>Upload Data</strong> at the top of the tool panel</p>   </li>   <li>Select <i class=\"fa fa-edit\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-wf-edit</span> <strong>Paste/Fetch Data</strong></li>   <li>     <p>Paste the link(s) into the text field</p>   </li>   <li>     <p>Press <strong>Start</strong></p>   </li>   <li><strong>Close</strong> the window</li> </ul> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>We just imported a FASTA file into Galaxy. Now, the next would be to perfrom the BLAST analysis against MAdLandDB.</p>\n\n<h2 id=\"perform-ncbi-blast-on-galaxy\">Perform NCBI Blast+ on Galaxy</h2>\n\n<p>Since MAdLandDB is the collection of protein sequences, You can perform <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastp_wrapper/2.10.1+galaxy2\" title=\"BLASTp tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>BLASTp</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 2.10.1+galaxy2)</span> and <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastx_wrapper/2.10.1+galaxy2\" title=\"BLASTx tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>BLASTx</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 2.10.1+galaxy2)</span> tools.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title> Similarity search against MAdLand Database </hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastp_wrapper/2.10.1+galaxy2\" title=\"BLASTp tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>BLASTp</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 2.10.1+galaxy2)</span> OR <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastx_wrapper/2.10.1+galaxy2\" title=\"BLASTx tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>BLASTx</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 2.10.1+galaxy2)</span> with the following parameters:\n      <ul>\n        <li><em>“Protein query sequence(s)”</em>: <code class=\"language-plaintext highlighter-rouge\">Amino acid input sequence</code> (In case of BLASTp) <em>OR</em></li>\n        <li><em>“Translated nucleotide query sequence(s)”</em>: <code class=\"language-plaintext highlighter-rouge\">Translated nucleotide input sequence</code> (In case of BLASTx)</li>\n        <li><em>“Subject database/sequences”</em>: <code class=\"language-plaintext highlighter-rouge\">Locally installed BLAST database</code></li>\n        <li><em>“Protein BLAST database”</em>: <code class=\"language-plaintext highlighter-rouge\">MadLandDB (Genome zoo) plant and algal genomes with a focus on non-seed plants and streptophyte algae (22 Dec 2022)</code></li>\n        <li><em>“Set expectation value cutoff”</em>: <code class=\"language-plaintext highlighter-rouge\">0.001</code></li>\n        <li><em>“Output format”</em>:</li>\n        <li>In <em>“Output Options”</em>: <code class=\"language-plaintext highlighter-rouge\">Tabular (extended 25 columns)</code> \n<img src=\"../../images/ncbi-blast-against-the-madland/blast-example.png\" alt=\"blast against madland\" width=\"80%\" /></li>\n      </ul>\n    </li>\n  </ol>\n\n</blockquote>\n\n<h2 id=\"blast-output\">Blast output</h2>\n\n<p><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span> The BLAST output will be in tabular format (you can select the desired output format from the drop down menu) and include the following fields :</p>\n\n<table>\n  <thead>\n    <tr>\n      <th>Column</th>\n      <th>NCBI name</th>\n      <th>Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>1</td>\n      <td>qseqid</td>\n      <td>Query Seq-id (ID of your sequence)</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>sseqid</td>\n      <td>Subject Seq-id (ID of the database hit)</td>\n    </tr>\n    <tr>\n      <td>3</td>\n      <td>pident</td>\n      <td>Percentage of identical matches</td>\n    </tr>\n    <tr>\n      <td>4</td>\n      <td>length</td>\n      <td>Alignment length</td>\n    </tr>\n    <tr>\n      <td>5</td>\n      <td>mismatch</td>\n      <td>Number of mismatches</td>\n    </tr>\n    <tr>\n      <td>6</td>\n      <td>gapopen</td>\n      <td>Number of gap openings</td>\n    </tr>\n    <tr>\n      <td>7</td>\n      <td>qstart</td>\n      <td>Start of alignment in query</td>\n    </tr>\n    <tr>\n      <td>8</td>\n      <td>qend</td>\n      <td>End of alignment in query</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>sstart</td>\n      <td>Start of alignment in subject (database hit)</td>\n    </tr>\n    <tr>\n      <td>10</td>\n      <td>send</td>\n      <td>End of alignment in subject (database hit)</td>\n    </tr>\n    <tr>\n      <td>11</td>\n      <td>evalue</td>\n      <td>Expectation value (E-value)</td>\n    </tr>\n    <tr>\n      <td>12</td>\n      <td>bitscore</td>\n      <td>Bit score</td>\n    </tr>\n  </tbody>\n</table>\n\n<p>The fields are separated by tabs, and each row represents a single hit. For more details for BLAST analysis and output, we recommand you to follow the <a href=\"/training-material/topics/genome-annotation/tutorials/genome-annotation/tutorial.html#similarity-searches-blast\">Similarity-searches-blast</a> tutorial.</p>\n\n<blockquote class=\"details\">\n  <details-title>Further Reading about BLAST Tools in Galaxy</details-title>\n\n  <p>See <span class=\"citation\"><a href=\"#Cock2015\">Cock <i>et al.</i> 2015</a></span> and <span class=\"citation\"><a href=\"#Cock2013\">Cock <i>et al.</i> 2013</a></span></p>\n\n</blockquote>\n\n<h2 id=\"more-similarity-search-tools-on-galaxy\">More Similarity Search Tools on Galaxy</h2>\n\n<ul>\n  <li><strong>Diamond</strong>: <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/diamond/bg_diamond/2.0.15+galaxy0\" title=\"Diamond tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Diamond</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 2.0.15+galaxy0)</span> is a high-throughput program for alignment of  large-scale data sets. It aligns sequences to the reference database using a compressed version of the reference sequences called a “database diamond” which is faster to read and can save computational time (~20,000 times the speed of Blastx, with high sensitivity).</li>\n</ul>\n\n<blockquote class=\"details\">\n  <details-title>Diamond in depth</details-title>\n\n  <p>See <span class=\"citation\"><a href=\"#Buchfink2014\">Buchfink <i>et al.</i> 2014</a></span> for more discussion.</p>\n</blockquote>\n"],"ref_slides":[],"video_library":{"tutorial":null,"slides":null,"demo":null,"both":null,"session":null},"hands_on":true,"slides":false,"mod_date":"2023-11-03 14:30:27 +0000","pub_date":"2023-01-16 08:13:56 +0000","version":24,"api":"https://training.galaxyproject.org/training-material/api/topics/sequence-analysis/tutorials/ncbi-blast-against-the-madland/tutorial.json","tools":["toolshed.g2.bx.psu.edu/repos/bgruening/diamond/bg_diamond/2.0.15+galaxy0","toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastp_wrapper/2.10.1+galaxy2","toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastx_wrapper/2.10.1+galaxy2"],"supported_servers":{"exact":[{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true},{"url":"https://usegalaxy.fr/","name":"UseGalaxy.fr","usegalaxy":false},{"url":"https://usegalaxy.org","name":"UseGalaxy.org (Main)","usegalaxy":true},{"url":"https://usegalaxy.org.au","name":"UseGalaxy.org.au","usegalaxy":true}],"inexact":[{"url":"https://cpt.tamu.edu/galaxy-public/","name":"Center for Phage Technology (CPT)","usegalaxy":false},{"url":"https://galaxy.mesocentre.uca.fr","name":"Galaxy@AuBi","usegalaxy":false},{"url":"https://galaxytrakr.org/","name":"GalaxyTrakr","usegalaxy":false},{"url":"https://usegalaxy.no/","name":"UseGalaxy.no","usegalaxy":false}]},"topic_name_human":"Sequence analysis","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"diamond","owner":"bgruening","revisions":"e8ac2b53f262","tool_panel_section_label":"NCBI Blast","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"ncbi_blast_plus","owner":"devteam","revisions":"0e3cf9594bb7","tool_panel_section_label":"NCBI Blast","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"ncbi_blast_plus","owner":"devteam","revisions":"0e3cf9594bb7","tool_panel_section_label":"NCBI Blast","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: diamond\n  owner: bgruening\n  revisions: e8ac2b53f262\n  tool_panel_section_label: NCBI Blast\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: ncbi_blast_plus\n  owner: devteam\n  revisions: 0e3cf9594bb7\n  tool_panel_section_label: NCBI Blast\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: ncbi_blast_plus\n  owner: devteam\n  revisions: 0e3cf9594bb7\n  tool_panel_section_label: NCBI Blast\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial"}