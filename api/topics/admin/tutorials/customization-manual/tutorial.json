{"layout":"tutorial_hands_on","title":"Customizing the look of Galaxy (Manual)","questions":["How do I change Galaxy's front page?","How do I set a custom brand text?","How can I configure theming?"],"objectives":["Set a brand text for your Galaxy instance","Add a custom welcome page to Galaxy","Activate and customize themes"],"time_estimation":"45m","key_points":["Set your Galaxy instance apart from others","Communicate what your Galaxy instance is about","Offer users more customization options using themes"],"contributions":{"authorship":["ElectronicBlueberry"],"editing":["hexylena"]},"requirements":[],"subtopic":"maintenance","js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00328","url":"/topics/admin/tutorials/customization-manual/tutorial.html","topic_name":"admin","tutorial_name":"customization-manual","dir":"topics/admin/tutorials/customization-manual","symlink":null,"id":"admin/customization-manual","ref_tutorials":["<p>Customizing your Galaxy instance makes it more recognizable at a glance, and can help communicate its purpose to its users.\nThis tutorial will teach you three basic customizations you can make to Galaxy:</p>\n\n<ul>\n  <li>Setting a brand text</li>\n  <li>Adding a custom welcome page</li>\n  <li>Customizing the masthead using themes</li>\n</ul>\n\n<p>For this tutorial we will be setting up a fictional instance called “Galaxy Mars”.\nFeel free to use the included material in the hands-on sections, or provide your own.</p>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#custom-branding\" id=\"markdown-toc-custom-branding\">Custom Branding</a></li>\n  <li><a href=\"#custom-welcome-page\" id=\"markdown-toc-custom-welcome-page\">Custom Welcome Page</a></li>\n  <li><a href=\"#custom-masthead-theme\" id=\"markdown-toc-custom-masthead-theme\">Custom Masthead Theme</a></li>\n</ol>\n\n</blockquote>\n\n<h2 id=\"custom-branding\">Custom Branding</h2>\n\n<p>The brand text in Galaxy refers to the text you can see in the masthead of some Galaxy instances.\nThis text will appear in the masthead, as well as the sites title.\nIt is an easy way to set your instance apart, and make it more identifiable.</p>\n\n<figure id=\"figure-1\" style=\"max-width: 90%;\"><img src=\"images/galaxy-europe.png\" alt=\"screenshot of the start page of Galaxy Europe. \" width=\"1450\" height=\"687\" loading=\"lazy\" /><a target=\"_blank\" href=\"images/galaxy-europe.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 1</strong>:</span> Galaxy Europe uses the brand text \\\"Europe\\\"</figcaption></figure>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Customising the Branding</hands-on-title>\n\n  <ol>\n    <li>\n      <p>Open your galaxy config file <code class=\"language-plaintext highlighter-rouge\">config/galaxy.yml</code> and add the following option under <code class=\"language-plaintext highlighter-rouge\">galaxy:</code></p>\n\n      <div class=\"language-yaml highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"na\">brand</span><span class=\"pi\">:</span> <span class=\"s\">Mars</span>\n<span class=\"na\">logo_src</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">https://training.galaxyproject.org/training-material/topics/admin/tutorials/customization/images/logo.png\"</span>\n</code></pre></div>      </div>\n    </li>\n    <li>\n      <p>Start your galaxy server using <code class=\"language-plaintext highlighter-rouge\">sh run.sh</code></p>\n    </li>\n    <li>\n      <p>Navigate to <code class=\"language-plaintext highlighter-rouge\">https://localhost:8080</code></p>\n\n      <figure id=\"figure-2\" style=\"max-width: 90%;\"><img src=\"images/galaxy-mars-brand.png\" alt=\"screenshot of fictional &quot;Galaxy Mars&quot; start page, with the brand text set to &quot;Mars&quot;. \" width=\"1281\" height=\"573\" loading=\"lazy\" /><a target=\"_blank\" href=\"images/galaxy-mars-brand.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 2</strong>:</span> Your Galaxy start page should now look like this</figcaption></figure>\n    </li>\n  </ol>\n</blockquote>\n\n<h2 id=\"custom-welcome-page\">Custom Welcome Page</h2>\n\n<p>The welcome page is an html document embedded in Galaxy’s start page.\nIt is what users see when first navigating to your instance.\nThis page can be used to communicate what your instance is about, and share news and updates with your users.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Creating a custom welcome page</hands-on-title>\n\n  <ol>\n    <li>\n      <p>(optional) Set the location of your welcome page in <code class=\"language-plaintext highlighter-rouge\">galaxy.yml</code></p>\n\n      <p>Under <code class=\"language-plaintext highlighter-rouge\">galaxy:</code> add the following option:</p>\n\n      <div class=\"language-yaml highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"na\">welcome_url</span><span class=\"pi\">:</span> <span class=\"s\">/static/your-welcome-page.html</span>\n</code></pre></div>      </div>\n\n      <p>Not setting this will cause the url to default to <code class=\"language-plaintext highlighter-rouge\">/static/welcome.html</code></p>\n    </li>\n    <li>\n      <p>Open <code class=\"language-plaintext highlighter-rouge\">/static/welcome.html</code>, or create a new html file at the location set in Step 0</p>\n\n      <p>It is advisable to keep a copy of the default <code class=\"language-plaintext highlighter-rouge\">welcome.html</code>, as it can serve as a useful reference.</p>\n    </li>\n    <li>\n      <p>Add some Content</p>\n\n      <p>Let’s add a title and some text to our welcome page:</p>\n\n      <div class=\"language-html highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"cp\">&lt;!DOCTYPE html&gt;</span>\n<span class=\"nt\">&lt;html</span> <span class=\"na\">lang=</span><span class=\"s\">\"en\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;head&gt;</span>\n        <span class=\"nt\">&lt;meta</span> <span class=\"na\">charset=</span><span class=\"s\">\"utf-8\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;/head&gt;</span>\n    <span class=\"nt\">&lt;body&gt;</span>\n        <span class=\"nt\">&lt;h1&gt;</span>Welcome to the Galaxy Mars instance!<span class=\"nt\">&lt;/h1&gt;</span>\n        <span class=\"nt\">&lt;p&gt;</span>The only Galaxy instance on mars.<span class=\"nt\">&lt;/p&gt;</span>\n    <span class=\"nt\">&lt;/body&gt;</span>\n<span class=\"nt\">&lt;/html&gt;</span>\n</code></pre></div>      </div>\n\n      <p>This works the same as any other html page. You can add styles in the head, or import some scripts.</p>\n\n      <p>Make sure your welcome page has exactly one <code class=\"language-plaintext highlighter-rouge\">h1</code> element, which describes the page.\nThis will act as the heading for your start-page, which can help assistive technologies.</p>\n    </li>\n  </ol>\n</blockquote>\n\n<blockquote class=\"tip\">\n  <tip-title>Use an IFrame!</tip-title>\n  <p>A lot of the UseGalaxy.* instances choose to use their <code class=\"language-plaintext highlighter-rouge\">welcome.html</code> to display an IFrame to a different site,\ne.g. the GalaxyProject.org site, or a sub-site thereof.</p>\n\n  <p>This makes it easier for non-administrators to keep the homepage’s contents\nup to date. By embedding (for example) a Wordpress blog in the center,\nnon-technical contributors can still publish articles and announcements\nwithout having to re-deploy Galaxy every time.</p>\n</blockquote>\n\n<blockquote class=\"tip\">\n  <tip-title>Styling your Welcome</tip-title>\n  <p>As in our example welcome.html, we’ve loaded the default Galaxy CSS to keep\nit consistent with the surrounding material. If you wish to load a different\nCSS file, or set a different font for the main panel, you can easily do that\nby adding whatever CSS you like.</p>\n</blockquote>\n\n<h2 id=\"custom-masthead-theme\">Custom Masthead Theme</h2>\n\n<p>Galaxy’s theming system allows you to easily change the color of your Masthead, to give your instance an even more distinct look.\nYou can even offer several options, to allow users to switch to the default if they prefer it, or another look all together.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Configuring Themes</hands-on-title>\n\n  <ol>\n    <li>\n      <p>(optional) Set the location of the themes configuration <code class=\"language-plaintext highlighter-rouge\">galaxy.yml</code></p>\n\n      <p>Under <code class=\"language-plaintext highlighter-rouge\">galaxy:</code> add the following option:</p>\n\n      <div class=\"language-yaml highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"na\">themes_config_file</span><span class=\"pi\">:</span> <span class=\"s\">your-themes-file.yml</span>\n</code></pre></div>      </div>\n\n      <p>This location is relative to the config directory.\nIf unset, the default file <code class=\"language-plaintext highlighter-rouge\">themes_conf.yml</code> will be used, if present.</p>\n    </li>\n    <li>\n      <p>Create your themes config file.</p>\n\n      <p>Open <code class=\"language-plaintext highlighter-rouge\">themes_conf.yml.sample</code>, and copy its contents into a new file, either called <code class=\"language-plaintext highlighter-rouge\">themes_conf.yml</code>, or the custom path you set in step 0.\nDo not copy the conf file and remove the ending, as this file is a symbolic link.\nCopying it copies a reference to the source file, not its contents.</p>\n    </li>\n    <li>\n      <p>Understanding Themes</p>\n\n      <p>The themes file can contain several themes.\nEach theme is identified by its id, eg <code class=\"language-plaintext highlighter-rouge\">blue</code>, and followed by a set of rules, which style the client.\nThe first theme in your theme file will be used as the default theme, which users see when visiting your instance,\nand which users who haven’t logged in will see.</p>\n\n      <p>At the time of writing, themes only support styling the masthead, but this is subject to change.\nThe first example theme should contain all available values you can change.</p>\n    </li>\n    <li>\n      <p>Creating our own Theme</p>\n\n      <p>Let’s create a theme more fitting for our Mars instance.</p>\n\n      <p>Create a new theme, by adding <code class=\"language-plaintext highlighter-rouge\">mars:</code> to the top of the themes config file.\nNow add <code class=\"language-plaintext highlighter-rouge\">masthead:</code> underneath, and then <code class=\"language-plaintext highlighter-rouge\">color:</code>.\nSet color to <code class=\"language-plaintext highlighter-rouge\">\"#e03e1d\"</code>, a nice deep martian red.</p>\n\n      <p>Your theme file should now begin with:</p>\n\n      <div class=\"language-yaml highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"na\">mars</span><span class=\"pi\">:</span>\n  <span class=\"na\">masthead</span><span class=\"pi\">:</span>\n    <span class=\"na\">color</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">#e03e1d\"</span>\n</code></pre></div>      </div>\n\n      <p>Restart your instance, and look at the masthead. It should be colored red.</p>\n    </li>\n    <li>\n      <p>You can also try logging in, and changing your theme under <code class=\"language-plaintext highlighter-rouge\">Preferences</code></p>\n    </li>\n  </ol>\n</blockquote>\n"],"ref_slides":[],"video_library":{"tutorial":null,"slides":null,"demo":null,"both":null,"session":null},"hands_on":true,"slides":false,"mod_date":"2023-04-15 12:28:03 +0000","pub_date":"2023-04-16 09:02:56 +0000","version":5,"api":"https://training.galaxyproject.org/training-material/api/topics/admin/tutorials/customization-manual/tutorial.json","tools":[],"supported_servers":[],"topic_name_human":"Galaxy Server administration","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools: []\n","tours":false,"video":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Laila Los","joined":"2023-04","elixir_node":"de","orcid":"0000-0002-2362-9720","affiliations":["uni-freiburg","elixir-europe"],"id":"ElectronicBlueberry","url":"https://training.galaxyproject.org/training-material/api/contributors/ElectronicBlueberry.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/ElectronicBlueberry/"},{"name":"Helena Rasche","orcid":"0000-0001-9760-8992","maintainer_contact":"gitter","matrix":"hexylena:matrix.org","joined":"2017-09","elixir_node":"nl","affiliations":["gallantries","by-covid","erasmusmc","elixir-europe","elixir-converge"],"former_affiliations":["deNBI","avans-atgm","uni-freiburg"],"contact_for_training":false,"location":{"country":"NL","lat":51.91,"lon":4.46},"id":"hexylena","url":"https://training.galaxyproject.org/training-material/api/contributors/hexylena.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/hexylena/"}]}