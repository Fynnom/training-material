{
  "layout": "tutorial_hands_on",
  "title": "M. tuberculosis Variant Analysis",
  "subtopic": "one-health",
  "zenodo_link": "https://doi.org/10.5281/zenodo.3496437",
  "questions": [
    "How do we detect differences between a set of reads from *M. tuberculosis* (Mtb) and the Mtb reference genome"
  ],
  "objectives": [
    "How should we filter those variants",
    "How can we predict drug resistance from those variants",
    "How do we annotate those variants"
  ],
  "time_estimation": "2h",
  "level": "Intermediate",
  "key_points": [
    "variants in *M. tuberculosis* sequencing data can be discovered using common microbial bioinformatics tools",
    "it is not enough to just call variants, variant calling involves multiple quality control steps",
    "the choice of reference genome and some quality control procedures are species specific, and require knowledge of the organism in question"
  ],
  "contributors": [
    {
      "name": "Peter van Heusden",
      "twitter": "pvanheus",
      "orcid": "0000-0001-6553-5274",
      "joined": "2017-09",
      "bio": "Research at the South African National Bioinformatics Institute",
      "id": "pvanheus",
      "url": "https://training.galaxyproject.org/training-material/api/contributors/pvanheus.json",
      "page": "https://training.galaxyproject.org/training-material/hall-of-fame/pvanheus/"
    },
    {
      "name": "Simon Gladman",
      "email": "simon.gladman@unimelb.edu.au",
      "joined": "2017-09",
      "elixir_node": "au",
      "orcid": "0000-0002-6100-4385",
      "in_memoriam": "<a href=\"https://www.biocommons.org.au/news/simon-gladman\">Simon Gladman, system administrator of UseGalaxy.org.au, passed away on November 26, 2022</a>\n\n<a href=\"https://galaxyproject.org/news/2022-11-28-simon-gladman/\">He was a fantastic teacher, tutorial author, system administrator, and warm and welcoming friend.</a> He contributed heavily to the Galaxy Training Network and especially the Galaxy Administration community over the years, we will miss him dearly. The GTN and GAT would not be what they are today, without him.\n\n“Have I told you about my watch?”",
      "id": "slugger70",
      "url": "https://training.galaxyproject.org/training-material/api/contributors/slugger70.json",
      "page": "https://training.galaxyproject.org/training-material/hall-of-fame/slugger70/"
    },
    {
      "name": "Thoba Lose",
      "joined": "2019-11",
      "id": "thobalose",
      "url": "https://training.galaxyproject.org/training-material/api/contributors/thobalose.json",
      "page": "https://training.galaxyproject.org/training-material/hall-of-fame/thobalose/"
    }
  ],
  "tags": [
    "prokaryote",
    "one-health",
    "microgalaxy"
  ],
  "edam_ontology": [
    "topic_0622",
    "topic_3301",
    "topic_0196",
    "topic_0199",
    "topic_3305",
    "topic_3324"
  ],
  "js_requirements": {
    "mathjax": null,
    "mermaid": false
  },
  "short_id": "T00319",
  "url": "/topics/variant-analysis/tutorials/tb-variant-analysis/tutorial.html",
  "topic_name": "variant-analysis",
  "tutorial_name": "tb-variant-analysis",
  "dir": "topics/variant-analysis/tutorials/tb-variant-analysis",
  "symlink": null,
  "id": "variant-analysis/tb-variant-analysis",
  "video_library": {
    "tutorial": {
      "description": "Variation in the genome of M. tuberculosis (Mtb) is associated with changes in phenotype, for example drug resistance and virulence. It is also useful for outbreak investigation as the single nucleotide polymorphisms (SNPs) in a sample can be used to build a phylogeny.",
      "materials": [
        {
          "link": "topics/variant-analysis/tutorials/tb-variant-analysis/tutorial.html",
          "type": "Tutorial"
        }
      ],
      "tags": [
        "variant-analysis",
        "tuberculosis"
      ],
      "type": "Tutorial",
      "versions": [
        {
          "captions": [
            "pvanheus",
            "nagoue",
            "hexylena"
          ],
          "date": "2021-02-15",
          "galaxy_version": "21.01",
          "length": "40M",
          "link": "G1DmquX6Wh8",
          "speakers": [
            "pvanheus"
          ]
        }
      ],
      "gtn_id": "variant-analysis/tb-variant-analysis",
      "title": "M. tuberculosis Variant Analysis",
      "captioned": true
    },
    "slides": {
      "description": "Tuberculosis (TB) is an infectious disease caused by the bacterium Mycobacterium tuberculosis. According to the WHO, in 2018 there were 10.0 million new cases of TB worldwide and 1.4 million deaths due to the disease, making TB the world’s most deadly infectious disease.",
      "materials": [
        {
          "external": true,
          "link": "https://docs.google.com/presentation/d/16XTMh2fRrl73WVaezNAFWET0IIMXBv0MCI2engFtdQs/edit#slide=id.g6231f48ea2_0_34",
          "type": "Slides"
        }
      ],
      "tags": [
        "variant-analysis"
      ],
      "type": "Lecture",
      "versions": [
        {
          "captions": [
            "shiltemann"
          ],
          "date": "2021-02-15",
          "galaxy_version": "21.01",
          "length": "20M",
          "link": "yCC9EmLuyJg",
          "speakers": [
            "pvanheus"
          ]
        }
      ],
      "gtn_id": "variant-analysis/tb-variant-analysis",
      "title": "M. tuberculosis Variant Analysis",
      "captioned": true
    },
    "demo": null,
    "both": null,
    "session": {
      "title": "Tuberculosis Variant Analysis",
      "description": "Variation in the genome of M. tuberculosis (Mtb) is associated with changes in phenotype, for example drug resistance and virulence. It is also useful for outbreak investigation as the single nucleotide polymorphisms (SNPs) in a sample can be used to build a phylogeny.",
      "videos": [
        "variant-analysis/tb-variant-analysis/slides",
        "variant-analysis/tb-variant-analysis/tutorial"
      ]
    }
  },
  "hands_on": true,
  "slides": false,
  "mod_date": "2024-03-14 16:51:53 +0000",
  "pub_date": "2020-07-25 20:58:54 +0000",
  "version": 62,
  "workflows": [
    {
      "workflow": "tb-variant-analysis.ga",
      "tests": true,
      "url": "https://training.galaxyproject.org/training-material/topics/variant-analysis/tutorials/tb-variant-analysis/workflows/tb-variant-analysis.ga",
      "path": "topics/variant-analysis/tutorials/tb-variant-analysis/workflows/tb-variant-analysis.ga",
      "wfid": "variant-analysis-tb-variant-analysis",
      "wfname": "tb-variant-analysis",
      "trs_endpoint": "https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/variant-analysis-tb-variant-analysis/versions/tb-variant-analysis",
      "license": "MIT",
      "creators": [
        {
          "class": "Person",
          "identifier": "https://orcid.org/0000-0001-6553-5274",
          "name": "Peter van Heusden"
        }
      ],
      "name": "M. tuberculosis Variant Analysis tutorial",
      "title": "M. tuberculosis Variant Analysis tutorial",
      "test_results": null,
      "modified": "2024-03-28 21:42:31 +0000",
      "mermaid": "flowchart TD\n  0[\"ℹ️ Input Dataset\\nRead 1\"];\n  style 0 stroke:#2c3143,stroke-width:4px;\n  1[\"ℹ️ Input Dataset\\nRead 2\"];\n  style 1 stroke:#2c3143,stroke-width:4px;\n  2[\"ℹ️ Input Dataset\\nGenbank reference genome\"];\n  style 2 stroke:#2c3143,stroke-width:4px;\n  3[\"ℹ️ Input Dataset\\nGenome annotation GFF3\"];\n  style 3 stroke:#2c3143,stroke-width:4px;\n  4[\"ℹ️ Input Dataset\\nFASTA reference genome\"];\n  style 4 stroke:#2c3143,stroke-width:4px;\n  5[\"FastQC\"];\n  0 -->|output| 5;\n  6[\"FastQC\"];\n  1 -->|output| 6;\n  7[\"Trimmomatic\"];\n  0 -->|output| 7;\n  1 -->|output| 7;\n  8[\"MultiQC\"];\n  6 -->|text_file| 8;\n  5 -->|text_file| 8;\n  8b6d9b61-619b-4509-b8ff-b89a3c37c528[\"Output\\nmtbva_multiqc_webpage\"];\n  8 --> 8b6d9b61-619b-4509-b8ff-b89a3c37c528;\n  style 8b6d9b61-619b-4509-b8ff-b89a3c37c528 stroke:#2c3143,stroke-width:4px;\n  9[\"snippy\"];\n  7 -->|fastq_out_r1_paired| 9;\n  7 -->|fastq_out_r2_paired| 9;\n  2 -->|output| 9;\n  f08867c3-1ef9-4b60-b3bc-50c54355729e[\"Output\\nmtbva_snippy_vcf\"];\n  9 --> f08867c3-1ef9-4b60-b3bc-50c54355729e;\n  style f08867c3-1ef9-4b60-b3bc-50c54355729e stroke:#2c3143,stroke-width:4px;\n  fbd56a0e-978f-4dad-ad65-7e6a04df871a[\"Output\\nmtbva_snippy_variants_table\"];\n  9 --> fbd56a0e-978f-4dad-ad65-7e6a04df871a;\n  style fbd56a0e-978f-4dad-ad65-7e6a04df871a stroke:#2c3143,stroke-width:4px;\n  10[\"Kraken2\"];\n  7 -->|fastq_out_r1_paired| 10;\n  7 -->|fastq_out_r2_paired| 10;\n  bbb7a59f-a352-4780-a77f-5e1127ae1f31[\"Output\\nmtbva_kraken_report\"];\n  10 --> bbb7a59f-a352-4780-a77f-5e1127ae1f31;\n  style bbb7a59f-a352-4780-a77f-5e1127ae1f31 stroke:#2c3143,stroke-width:4px;\n  11[\"TB Variant Filter\"];\n  9 -->|snpvcf| 11;\n  12[\"TB-Profiler Profile\"];\n  9 -->|snpsbam| 12;\n  13[\"JBrowse\"];\n  4 -->|output| 13;\n  9 -->|snpsbam| 13;\n  11 -->|output1| 13;\n  3 -->|output| 13;\n  cebc6e6d-5fc8-4e28-9a0b-f2f5717f0ec1[\"Output\\nmtbva_jbrowse\"];\n  13 --> cebc6e6d-5fc8-4e28-9a0b-f2f5717f0ec1;\n  style cebc6e6d-5fc8-4e28-9a0b-f2f5717f0ec1 stroke:#2c3143,stroke-width:4px;\n  14[\"TB Variant Report\"];\n  9 -->|snpvcf| 14;\n  12 -->|results_json| 14;\n  5b51f4fb-4f8f-4b20-a411-a4d9ac60652b[\"Output\\nmtbva_tb_variant_dr_report_html\"];\n  14 --> 5b51f4fb-4f8f-4b20-a411-a4d9ac60652b;\n  style 5b51f4fb-4f8f-4b20-a411-a4d9ac60652b stroke:#2c3143,stroke-width:4px;\n  98e3dd70-7d44-41b1-ae57-c21aa975dad5[\"Output\\nmtbva_tb_variant_report_html\"];\n  14 --> 98e3dd70-7d44-41b1-ae57-c21aa975dad5;\n  style 98e3dd70-7d44-41b1-ae57-c21aa975dad5 stroke:#2c3143,stroke-width:4px;"
    }
  ],
  "api": "https://training.galaxyproject.org/training-material/api/topics/variant-analysis/tutorials/tb-variant-analysis/tutorial.json",
  "tools": [
    "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1",
    "toolshed.g2.bx.psu.edu/repos/devteam/emboss_5/EMBOSS:%20seqret84/5.0.0",
    "toolshed.g2.bx.psu.edu/repos/devteam/fastqc/fastqc/0.73+galaxy0",
    "toolshed.g2.bx.psu.edu/repos/devteam/samtools_stats/samtools_stats/2.0.4",
    "toolshed.g2.bx.psu.edu/repos/iuc/jbrowse/jbrowse/1.16.11+galaxy1",
    "toolshed.g2.bx.psu.edu/repos/iuc/jvarkit_wgscoverageplotter/jvarkit_wgscoverageplotter/20201223+galaxy0",
    "toolshed.g2.bx.psu.edu/repos/iuc/kraken2/kraken2/2.1.1+galaxy1",
    "toolshed.g2.bx.psu.edu/repos/iuc/multiqc/multiqc/1.11+galaxy0",
    "toolshed.g2.bx.psu.edu/repos/iuc/multiqc/multiqc/1.11+galaxy1",
    "toolshed.g2.bx.psu.edu/repos/iuc/snippy/snippy/4.6.0+galaxy0",
    "toolshed.g2.bx.psu.edu/repos/iuc/tb_variant_filter/tb_variant_filter/0.3.6+galaxy0",
    "toolshed.g2.bx.psu.edu/repos/iuc/tb_variant_filter/tb_variant_filter/0.4.0+galaxy0",
    "toolshed.g2.bx.psu.edu/repos/iuc/tbprofiler/tb_profiler_profile/4.4.1+galaxy0",
    "toolshed.g2.bx.psu.edu/repos/iuc/tbvcfreport/tbvcfreport/0.1.10+galaxy0",
    "toolshed.g2.bx.psu.edu/repos/pjbriggs/trimmomatic/trimmomatic/0.38.1",
    "upload1"
  ],
  "supported_servers": {
    "exact": [

    ],
    "inexact": [

    ]
  },
  "topic_name_human": "Variant Analysis",
  "admin_install": {
    "install_tool_dependencies": true,
    "install_repository_dependencies": true,
    "install_resolver_dependencies": true,
    "tools": [
      {
        "name": "text_processing",
        "owner": "bgruening",
        "revisions": "d698c222f354",
        "tool_panel_section_label": "Text Manipulation",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "fastqc",
        "owner": "devteam",
        "revisions": "3d0c7bdf12f5",
        "tool_panel_section_label": "FASTA/FASTQ",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "samtools_stats",
        "owner": "devteam",
        "revisions": "3a0efe14891f",
        "tool_panel_section_label": "SAM/BAM",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "jbrowse",
        "owner": "iuc",
        "revisions": "a6e57ff585c0",
        "tool_panel_section_label": "Graph/Display Data",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "jvarkit_wgscoverageplotter",
        "owner": "iuc",
        "revisions": "ac048a34cac3",
        "tool_panel_section_label": "Graph/Display Data",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "kraken2",
        "owner": "iuc",
        "revisions": "20e2f64aa1fe",
        "tool_panel_section_label": "Metagenomic Analysis",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "multiqc",
        "owner": "iuc",
        "revisions": "9a913cdee30e",
        "tool_panel_section_label": "Quality Control",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "multiqc",
        "owner": "iuc",
        "revisions": "abfd8a6544d7",
        "tool_panel_section_label": "Quality Control",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "snippy",
        "owner": "iuc",
        "revisions": "d220115f882b",
        "tool_panel_section_label": "Variant Calling",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "tb_variant_filter",
        "owner": "iuc",
        "revisions": "ee4a90760848",
        "tool_panel_section_label": "Annotation",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "tb_variant_filter",
        "owner": "iuc",
        "revisions": "32f14a2723ec",
        "tool_panel_section_label": "Annotation",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "tbprofiler",
        "owner": "iuc",
        "revisions": "d03af1c7002c",
        "tool_panel_section_label": "Annotation",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "tbvcfreport",
        "owner": "iuc",
        "revisions": "4934c0ac6197",
        "tool_panel_section_label": "Annotation",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      },
      {
        "name": "trimmomatic",
        "owner": "pjbriggs",
        "revisions": "d94aff5ee623",
        "tool_panel_section_label": "FASTA/FASTQ",
        "tool_shed_url": "https://toolshed.g2.bx.psu.edu/"
      }
    ]
  },
  "admin_install_yaml": "---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: fastqc\n  owner: devteam\n  revisions: 3d0c7bdf12f5\n  tool_panel_section_label: FASTA/FASTQ\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: samtools_stats\n  owner: devteam\n  revisions: 3a0efe14891f\n  tool_panel_section_label: SAM/BAM\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: jbrowse\n  owner: iuc\n  revisions: a6e57ff585c0\n  tool_panel_section_label: Graph/Display Data\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: jvarkit_wgscoverageplotter\n  owner: iuc\n  revisions: ac048a34cac3\n  tool_panel_section_label: Graph/Display Data\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: kraken2\n  owner: iuc\n  revisions: 20e2f64aa1fe\n  tool_panel_section_label: Metagenomic Analysis\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: multiqc\n  owner: iuc\n  revisions: 9a913cdee30e\n  tool_panel_section_label: Quality Control\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: multiqc\n  owner: iuc\n  revisions: abfd8a6544d7\n  tool_panel_section_label: Quality Control\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: snippy\n  owner: iuc\n  revisions: d220115f882b\n  tool_panel_section_label: Variant Calling\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: tb_variant_filter\n  owner: iuc\n  revisions: ee4a90760848\n  tool_panel_section_label: Annotation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: tb_variant_filter\n  owner: iuc\n  revisions: 32f14a2723ec\n  tool_panel_section_label: Annotation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: tbprofiler\n  owner: iuc\n  revisions: d03af1c7002c\n  tool_panel_section_label: Annotation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: tbvcfreport\n  owner: iuc\n  revisions: 4934c0ac6197\n  tool_panel_section_label: Annotation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: trimmomatic\n  owner: pjbriggs\n  revisions: d94aff5ee623\n  tool_panel_section_label: FASTA/FASTQ\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n",
  "tours": false,
  "video": false,
  "translations": {
    "tutorial": [

    ],
    "slides": [

    ],
    "video": false
  },
  "license": "CC-BY-4.0",
  "type": "tutorial"
}