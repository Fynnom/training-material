{"layout":"tutorial_hands_on","title":"Creation of an interactive Galaxy tools table for your community","level":"Introductory","subtopic":"tooldev","questions":["Is it possible to have an overview of all Galaxy tools for a specific scientific domain?","How can I create a new overview for a specific Galaxy community or domain?"],"objectives":["Create a community reviewed table for Galaxy tools within a specific scientific domain","Embed an interactive table in a community page"],"time_estimation":"1H","key_points":["The Galaxy Tool Metadata Extractor extracts all Galaxy tools to create interactive tables","The tool tables can be filtered by ToolShed categories and community-reviewed lists of tools to keep or exclude","The community interactive Galaxy tools table can be embed into any website"],"tags":["Community","SIG"],"contributions":{"authorship":["bebatut"]},"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00426","url":"/topics/dev/tutorials/community-tool-table/tutorial.html","topic_name":"dev","tutorial_name":"community-tool-table","dir":"topics/dev/tutorials/community-tool-table","symlink":null,"id":"dev/community-tool-table","ref_tutorials":["<p>Galaxy offers thousands of tools. They are developed across various GitHub repositories. Furthermore, Galaxy also embraces granular implementation of software tools as sub-modules. In practice, this means that tool suites are separated into Galaxy tools, also known as wrappers, that capture their component operations. Some key examples of suites include <a href=\"https://bio.tools/mothur\">Mothur</a> and <a href=\"https://bio.tools/openms\">OpenMS</a>, which translate to tens and even hundreds of Galaxy tools.</p>\n\n<p>While granularity supports the composability of tools into rich domain-specific workflows, this decentralized development and sub-module architecture makes it <strong>difficult for Galaxy users to find and reuse tools</strong>. It may also result in Galaxy tool developers <strong>duplicating efforts</strong> by simultaneously wrapping the same software. This is further complicated by a lack of tool metadata, which prevents filtering for all tools in a specific research community or domain, and makes it all but impossible to employ advanced filtering with ontology terms and operations like <a href=\"https://edamontology.org/page\">EDAM ontology</a>.</p>\n\n<p>The final challenge is also an opportunity: the global nature of Galaxy means that it is a big community. Solving the visibility of tools across this ecosystem and the potential benefits are far-reaching for global collaboration on tool and workflow development.</p>\n\n<p>To provide the research community with a comprehensive list of available Galaxy tools, <a href=\"https://github.com/galaxyproject/galaxy_tool_metadata_extractor\">Galaxy Tool Metadata Extractor</a> was developed to collect Galaxy wrappers from a list of Git repositories and automatically extract their metadata (including Conda version, <a href=\"https://bio.tools/\">bio.tools</a> identifiers, and EDAM annotations). The workflow also queries the availability of the tools and usage statistics from the three main Galaxy servers (usegalaxy.*).</p>\n\n<figure id=\"figure-1\" style=\"max-width: 90%;\"><img src=\"./images/galaxy_tool_metadata_extractor_pipeline.png\" alt=\"A diagram illustrating the Galaxy Tool Metadata Extractor pipeline, showcasing the various steps involved in creating a community Galaxy tool table.\" width=\"834\" height=\"544\" loading=\"lazy\" /><a target=\"_blank\" href=\"./images/galaxy_tool_metadata_extractor_pipeline.png\" rel=\"noopener noreferrer\"><small>Open image in new tab</small></a><br /><br /><figcaption><span class=\"figcaption-prefix\"><strong>Figure 1</strong>:</span> Workflow of the Galaxy Tool Metadata Extractor pipeline. Tool wrappers are parsed from different repositories and additional metadata is retrieved from bio.tools, BioConda, and the main public Galaxy servers. Upon filtering and manual curation of the data for specific scientific communities, the data is transformed into interactive web tables and a tool usage statistic-base word cloud, that can be integrated into any website.</figcaption></figure>\n\n<p>The pipeline creates an <a href=\"https://galaxyproject.github.io/galaxy_tool_metadata_extractor/\">interactive table with all tools and their metadata</a>. This table can be <strong>filtered to only include tools that are relevant to a specific research community</strong>. Here is an example for the microbial related tools:</p>\n\n<iframe id=\"edam\" src=\"https://galaxyproject.github.io/galaxy_tool_metadata_extractor/microgalaxy/\" frameborder=\"0\" width=\"100%\" height=\"600px\"> <a href=\"./images/microgalaxy_tools.png\" rel=\"noopener noreferrer\"><img src=\"./images/microgalaxy_tools.png\" alt=\"Interactive table for microgalaxy tools. \" width=\"2056\" height=\"1142\" loading=\"lazy\" /></a> </iframe>\n\n<p>The generated community-specific interactive table can be used as it and/or embedded, e.g. into the respective Galaxy Hub page or Galaxy subdomain. This table allows further filtering and searching for fine-grained tool selection.</p>\n\n<p>The pipeline is <strong>fully automated</strong> and executes on a <strong>weekly</strong> basis. Any research community can apply the pipeline to create a table specific to their community.</p>\n\n<p>The aim is this tutorial is to create such table for a community.</p>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n  <p>In this tutorial, we will cover:</p>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#add-your-community-to-the-galaxy-tool-metadata-extractor-pipeline\" id=\"markdown-toc-add-your-community-to-the-galaxy-tool-metadata-extractor-pipeline\">Add your community to the Galaxy Tool Metadata Extractor pipeline</a></li>\n  <li><a href=\"#review-the-generated-interactive-table\" id=\"markdown-toc-review-the-generated-interactive-table\">Review the generated interactive table</a>    <ol>\n      <li><a href=\"#add-a-tools-status-list\" id=\"markdown-toc-add-a-tools-status-list\">Add a tools status list</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#embed-the-interactive-table-in-your-community-page-on-the-hub\" id=\"markdown-toc-embed-the-interactive-table-in-your-community-page-on-the-hub\">Embed the interactive table in your community page on the Hub</a></li>\n  <li><a href=\"#conclusion\" id=\"markdown-toc-conclusion\">Conclusion</a></li>\n</ol>\n\n</blockquote>\n\n<h1 id=\"add-your-community-to-the-galaxy-tool-metadata-extractor-pipeline\">Add your community to the Galaxy Tool Metadata Extractor pipeline</h1>\n\n<p>To create a table for a community, you first need to create a new folder in the <code class=\"language-plaintext highlighter-rouge\">data/community</code> folder within <a href=\"https://github.com/galaxyproject/galaxy_tool_metadata_extractor\">Galaxy Tool Metadata Extractor code source</a>.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Create a folder for your community</hands-on-title>\n\n  <ol>\n    <li>If not already done, fork the <a href=\"https://github.com/galaxyproject/galaxy_tool_metadata_extractor\">Galaxy Tool Metadata Extractor repository</a></li>\n    <li>Go to the <code class=\"language-plaintext highlighter-rouge\">data/communities</code> folder</li>\n    <li>Click on <strong>Add file</strong> in the drop-down menu at the top</li>\n    <li>Select <strong>Create a new file</strong></li>\n    <li>\n      <p>Fill in the <code class=\"language-plaintext highlighter-rouge\">Name of your file</code> field with:  name of your community + <code class=\"language-plaintext highlighter-rouge\">/categories</code></p>\n\n      <p>This will create a new folder for your community and add a categories file to this folder.</p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>One of the filters for the main community table is based on the tool categories on the <a href=\"https://toolshed.g2.bx.psu.edu/\">Galaxy ToolShed</a>. Only tools in the selected ToolShed categories will be added to the filtered table. As a result, it is recommended to include broad categories.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Select the ToolShed categories</hands-on-title>\n\n  <ol>\n    <li>Go to the <a href=\"https://toolshed.g2.bx.psu.edu/\">Galaxy ToolShed</a></li>\n    <li>On the main page, pick the most obvious categories that represent tools used by your community</li>\n    <li>\n      <p>Add the name of these categories in the <code class=\"language-plaintext highlighter-rouge\">categories</code> file you started above, with 1 ToolShed category per row</p>\n\n      <p>For example:</p>\n      <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>Assembly\nMetagenomics\n</code></pre></div>      </div>\n    </li>\n    <li>Search on the <a href=\"https://toolshed.g2.bx.psu.edu/\">Galaxy ToolShed</a> for some of the popular tools in your community</li>\n    <li>Open the tool entries on the ToolShed, and note their categories</li>\n    <li>Add any new categories to the <code class=\"language-plaintext highlighter-rouge\">categories</code> file</li>\n  </ol>\n</blockquote>\n\n<p>Once you have a list of the ToolShed categories that you wish to keep, you can submit this to Galaxy Tool Metadata Extractor.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Submit the new community to Galaxy Tool Metadata Extractor</hands-on-title>\n\n  <ol>\n    <li>Click on <strong>Commit changes</strong> at the top</li>\n    <li>Fill in the commit message with something like <code class=\"language-plaintext highlighter-rouge\">Add X community</code></li>\n    <li>Click on <code class=\"language-plaintext highlighter-rouge\">Create a new branch for this commit and start a pull request</code></li>\n    <li>Create the pull request by following the instructions</li>\n  </ol>\n\n</blockquote>\n\n<p>The Pull Request will be reviewed. Make sure to respond to any feedback.</p>\n\n<p>Once the Pull Request is merged, the interactive table will be created and made available online at <code class=\"language-plaintext highlighter-rouge\">https://galaxyproject.github.io/galaxy_tool_metadata_extractor/&lt;your community&gt;</code>.</p>\n\n<h1 id=\"review-the-generated-interactive-table\">Review the generated interactive table</h1>\n\n<p>The interactive table will contain all the tools associated with the ToolShed categories that you selected. However, not all of these tools might be interesting for your community.</p>\n\n<p>Galaxy Tool Metadata Extractor allows for an additional optional filter for tools, that can be defined by the community curator (maybe that is you !).</p>\n\n<p>The additional filter must be stored in a file called  <code class=\"language-plaintext highlighter-rouge\">tools_status.tsv</code> located in <code class=\"language-plaintext highlighter-rouge\">data/community/&lt;your community&gt;</code>. The file must include 3 columns (without header):</p>\n<ol>\n  <li>The <code class=\"language-plaintext highlighter-rouge\">Galaxy wrapper id</code> corresponding to the IDs in the <code class=\"language-plaintext highlighter-rouge\">tools.tsv</code> file in <code class=\"language-plaintext highlighter-rouge\">results/&lt;your community&gt;</code>.</li>\n  <li>Whether the tool should be included in the final table (TRUE/FALSE).</li>\n  <li>Whether the tool is deprecated (TRUE/FALSE).</li>\n</ol>\n\n<p>Example of the <code class=\"language-plaintext highlighter-rouge\">tools_status.tsv</code> file:</p>\n<div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>abacas\tTRUE\tFALSE\nabricate\tTRUE\tFALSE\nabritamr\tTRUE\tFALSE\n</code></pre></div></div>\n\n<p>Have a look on the <a href=\"https://github.com/galaxyproject/galaxy_tool_metadata_extractor/blob/main/data/communities/microgalaxy/tool_status.tsv\">microGalaxy tool stats TSV</a> for \nan example of the file that is used to manually filter the tools for a community.</p>\n\n<h2 id=\"add-a-tools-status-list\">Add a tools status list</h2>\n\n<blockquote>\n  <hands-on-title>Review tools in your community table</hands-on-title>\n\n  <ol>\n    <li>Download the <code class=\"language-plaintext highlighter-rouge\">tools.tsv</code> file in <code class=\"language-plaintext highlighter-rouge\">results/&lt;your community&gt;</code>.</li>\n    <li>Open <code class=\"language-plaintext highlighter-rouge\">tools.tsv</code> with a Spreadsheet Software.</li>\n    <li>Review each line corresponding to a tool</li>\n  </ol>\n</blockquote>\n\n<div class=\"language-plaintext hands_on highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>   You can also just review some tools. Those tools that are not reviewed will be have `FALSE` in the `Reviewed` columns the updated table. &gt;    1. Change the value in the `Reviewed` column from `FALSE` to `TRUE` (this will be done automatically if an entry of the tool in `tools_status.tsv` exists). &gt;    2. Add `TRUE` to the `To keep` column if the tool should be kept, and `FALSE` if not. &gt;    3. Add `TRUE` or `FALSE` also to the `Deprecated` column. &gt; 4. Copy paste the `Galaxy wrapper id`, `To keep`, `Deprecated` column in a new table (in that order).\n\n   This can also be done using the reference function of your Spreadsheet Software. &gt; 5. Export the new table as TSV (without header). &gt; 6. Submit the TSV as `tools_status.tsv` in your community folder. &gt; 7. Wait for the Pull Request to be merged &gt;\n</code></pre></div></div>\n\n<p>You should have now an interactive table reflecting the Galaxy tool landscape for your community. You can step-by-step review all tools in your community and update the <code class=\"language-plaintext highlighter-rouge\">tools_status.tsv</code> file. You could also share this file with your community members and discuss weather the tool should be kept or not. Collaborative work could be established using google spreadsheet.</p>\n\n<h1 id=\"embed-the-interactive-table-in-your-community-page-on-the-hub\">Embed the interactive table in your community page on the Hub</h1>\n\n<p>The interactive table you have created can be embedded in your community page on the Hub, e.g. <a href=\"https://galaxyproject.org/community/sig/microbial/#tools\">microGalaxy</a>.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Embed your table as an iframe</hands-on-title>\n\n  <ol>\n    <li>If not already done, fork the repository <a href=\"https://github.com/galaxyproject/galaxy-hub\">Galaxy Hub</a></li>\n    <li>Open or create your community page: <code class=\"language-plaintext highlighter-rouge\">content/community/sig/&lt;your community&gt;/index.md</code></li>\n    <li>\n      <p>Add an iframe to embed the interactive table</p>\n\n      <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>&lt;iframe\n  id=\"inlineFrameExample\"\n  title=\"Microbial related tools\"\n  width=\"100%\"\n  height=\"600\"\n  frameBorder=\"0\"\n  src=\"https://galaxyproject.github.io/galaxy_tool_metadata_extractor/&lt;your_community&gt;/\"&gt;\n&lt;/iframe&gt;\n</code></pre></div>      </div>\n    </li>\n    <li>Replace <code class=\"language-plaintext highlighter-rouge\">&lt;your_community&gt;</code> by the name of your community in <code class=\"language-plaintext highlighter-rouge\">src</code></li>\n    <li>Submit the changes</li>\n    <li>Wait for the Pull Request to be merged</li>\n  </ol>\n\n</blockquote>\n\n<h1 id=\"conclusion\">Conclusion</h1>\n\n<p>You now have an interactive table with Galaxy tools available for your community, and this table is embedded in a community page.</p>\n\n"],"ref_slides":[],"hands_on":true,"slides":false,"mod_date":"2024-06-20 10:15:46 +0000","pub_date":"2024-03-13 15:41:48 +0000","version":7,"api":"https://training.galaxyproject.org/training-material/api/topics/dev/tutorials/community-tool-table/tutorial.json","tools":[],"supported_servers":[],"topic_name_human":"Development in Galaxy","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools: []\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Bérénice Batut","email":"berenice.batut@gmail.com","twitter":"bebatut","linkedin":"berenicebatut","matrix":"bebatut:matrix.org","orcid":"0000-0001-9852-1987","joined":"2017-09","elixir_node":"fr","contact_for_training":true,"location":{"country":"FR","lat":45.77,"lon":3.08},"fediverse":"https://piaille.fr/@bebatut","fediverse_flavor":"mastodon","affiliations":["gallantries","ifb","elixir-europe"],"id":"bebatut","url":"https://training.galaxyproject.org/training-material/api/contributors/bebatut.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/bebatut/"}]}