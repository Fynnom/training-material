{"layout":"tutorial_hands_on","redirect_from":["/topics/galaxy-data-manipulation/tutorials/download-delete-data/tutorial","/short/galaxy-interface/download-delete-data","/short/T00147"],"title":"Downloading and Deleting Data in Galaxy","zenodo_link":"","level":"Introductory","questions":["How can I efficiently download my data from Galaxy once I've completed my analyses?","How do I delete old data to make more room in my quota?"],"objectives":["Have a greater knowledge of how Galaxy handles data downloads and deletions","Be able to successfully download and delete their own data"],"time_estimation":"20M","key_points":["There are three ways to download data - by individual files, collections of files or entire histories","Data deletion in Galaxy is a two step process, deletion followed by purging from disk"],"contributors":[{"name":"Simon Gladman","email":"simon.gladman@unimelb.edu.au","joined":"2017-09","elixir_node":"au","orcid":"0000-0002-6100-4385","in_memoriam":"<a href=\"https://www.biocommons.org.au/news/simon-gladman\">Simon Gladman, system administrator of UseGalaxy.org.au, passed away on November 26, 2022</a>\n\n<a href=\"https://galaxyproject.org/news/2022-11-28-simon-gladman/\">He was a fantastic teacher, tutorial author, system administrator, and warm and welcoming friend.</a> He contributed heavily to the Galaxy Training Network and especially the Galaxy Administration community over the years, we will miss him dearly. The GTN and GAT would not be what they are today, without him.\n\n“Have I told you about my watch?”","id":"slugger70","url":"https://training.galaxyproject.org/training-material/api/contributors/slugger70.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/slugger70/"},{"name":"Helena Rasche","orcid":"0000-0001-9760-8992","maintainer_contact":"gitter","matrix":"hexylena:matrix.org","joined":"2017-09","elixir_node":"nl","affiliations":["gallantries","by-covid","erasmusmc","elixir-europe","elixir-converge"],"former_affiliations":["deNBI","avans-atgm","uni-freiburg"],"contact_for_training":false,"location":{"country":"NL","lat":51.91,"lon":4.46},"id":"hexylena","url":"https://training.galaxyproject.org/training-material/api/contributors/hexylena.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/hexylena/"}],"subtopic":"cleanup","js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00147","url":"/topics/galaxy-interface/tutorials/download-delete-data/tutorial.html","topic_name":"galaxy-interface","tutorial_name":"download-delete-data","dir":"topics/galaxy-interface/tutorials/download-delete-data","symlink":null,"id":"galaxy-interface/download-delete-data","ref_tutorials":["<p>This tutorial outlines the process to get your data out of Galaxy and to delete it from Galaxy afterwards.</p>\n\n<p>After you have completed your analysis on a Galaxy server, you may need to download the results for use in reports, papers, or other requirements. Galaxy has a myriad of methods for downloading data from individual datasets to a collection of data to an entire history along with all of its metadata. The first section of this tutorial will walk you through all of these methods.</p>\n\n<p>On some Galaxy servers, user disk quotas have been enabled meaning that users are only able to store a certain amount of data on that particular Galaxy server. Quotas can differ on different servers. User disk quotas for the <code class=\"language-plaintext highlighter-rouge\">usegalaxy.*</code> servers are shown in the table below:</p>\n\n<table>\n  <thead>\n    <tr>\n      <th>Galaxy Server</th>\n      <th>Unregistered User</th>\n      <th>Registered User</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>usegalaxy.org</td>\n      <td>5 GB</td>\n      <td>250 GB</td>\n    </tr>\n    <tr>\n      <td>usegalaxy.eu</td>\n      <td>5 GB</td>\n      <td>250 GB or 500 GB for Elixir Members</td>\n    </tr>\n    <tr>\n      <td>usegalaxy.org.au</td>\n      <td>5 GB</td>\n      <td>100 GB or 600GB for Australian Users</td>\n    </tr>\n  </tbody>\n</table>\n\n<p>Other Galaxy servers may have different quota systems.</p>\n\n<p>As you use a Galaxy server and upload data, perform analyses etc. you will use up your quota. If you have filled your quota and you want to do some new work, you can download your old work and delete it off the Galaxy server to free up quota space. Galaxy uses a two step process to delete user data from disk. The first step is to delete the data - this marks the data as deleted but it can be undeleted for a certain time<sup id=\"fnref:1\" role=\"doc-noteref\"><a href=\"#fn:1\" class=\"footnote\" rel=\"footnote\">1</a></sup>. The second step is to purge the deleted data - this removes the deleted data from the disk and it is no longer recoverable. Note that any data that has been shared with another user will not be deleted from disk unless the other users also delete it.</p>\n\n<p>The second section of this tutorial will outline how to delete data from your user space and to purge it from disk if you so desire.</p>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n  <p>In this tutorial, we will cover:</p>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#downloading-data-from-galaxy\" id=\"markdown-toc-downloading-data-from-galaxy\">Downloading Data from Galaxy</a>    <ol>\n      <li><a href=\"#downloading-a-single-file-from-galaxy\" id=\"markdown-toc-downloading-a-single-file-from-galaxy\">Downloading a single file from Galaxy</a></li>\n      <li><a href=\"#download-multiple-datasets\" id=\"markdown-toc-download-multiple-datasets\">Download multiple datasets</a></li>\n      <li><a href=\"#download-export-an-entire-history-including-its-metadata\" id=\"markdown-toc-download-export-an-entire-history-including-its-metadata\">Download (export) an entire history including its metadata</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#deleting-data-from-galaxy\" id=\"markdown-toc-deleting-data-from-galaxy\">Deleting Data from Galaxy</a>    <ol>\n      <li><a href=\"#delete-a-single-dataset\" id=\"markdown-toc-delete-a-single-dataset\">Delete a single dataset</a></li>\n      <li><a href=\"#delete-an-entire-history\" id=\"markdown-toc-delete-an-entire-history\">Delete an entire History</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#conclusion\" id=\"markdown-toc-conclusion\">Conclusion</a></li>\n</ol>\n\n</blockquote>\n\n<h1 id=\"downloading-data-from-galaxy\">Downloading Data from Galaxy</h1>\n\n<p>There are multiple ways of downloading your data from Galaxy, the choice of which method to use depends on the amount of data you wish to download. You can download a single dataset, multiple datasets all the way to entire histories.</p>\n\n<h2 id=\"downloading-a-single-file-from-galaxy\">Downloading a single file from Galaxy</h2>\n\n<p>The easiest way to get your data is to download a single dataset from a history.</p>\n\n<p>The following example steps through the process using a generic history. The history pictured in the screenshots will most likely not appear in your Galaxy server but the process will be the same.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Download a single file</hands-on-title>\n\n  <ol>\n    <li>\n      <p>In the History pane, click on the name of the file you wish to download. This will expand the file in the History to show more details about it.</p>\n\n      <p><a href=\"../../images/download-delete/expanded_file_history.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/expanded_file_history.png\" alt=\"expanded file history. \" width=\"264\" height=\"600\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>Click the <i class=\"far fa-save\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-save</span> <strong>Download</strong> button. The dataset will now be downloaded to your computer.</p>\n\n      <p><a href=\"../../images/download-delete/file_download_button.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/file_download_button.png\" alt=\"download button. \" width=\"260\" height=\"369\" loading=\"lazy\" /></a></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>Repeat this for any other data file you want in this or other histories.</p>\n\n<h2 id=\"download-multiple-datasets\">Download multiple datasets</h2>\n\n<p>Sometimes you may want to download multiple datasets at once and doing them one by one can be a pain. Luckily, Galaxy has a mechanism for creating Collections. For more details about collections and how to create them, see <a href=\"/training-material/topics/galaxy-interface/tutorials/collections/tutorial.html\">this tutorial</a> from the Galaxy Training Network.</p>\n\n<p>The concept is very simple however, we are just going to lump together our files of interest and download them all at once.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Download multiple datasets</hands-on-title>\n\n  <p><strong>Create a collection of the files you want</strong></p>\n\n  <ol>\n    <li>\n      <p>Click on the <strong>Collections</strong> button at the top of the History pane (the little checkbox)</p>\n\n      <p><a href=\"../../images/download-delete/collections_button.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/collections_button.png\" alt=\"collections button. \" width=\"263\" height=\"260\" loading=\"lazy\" /></a></p>\n\n      <p>This shows a different view of the History. Each file now has a checkbox next to it and there are some new buttons in the header section of the History.</p>\n    </li>\n    <li>\n      <p>Select the files you want by clicking on their checkboxes, you can also select all or none of them.</p>\n\n      <p><a href=\"../../images/download-delete/collection_selection.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/collection_selection.png\" alt=\"collection selection. \" width=\"261\" height=\"363\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>Once you have selected everything you want, click the <strong>for all selected</strong> button and then <strong>Build Dataset List</strong></p>\n    </li>\n    <li>\n      <p>A new interface opens, showing you the files you have selected. Give the list a name in the appropriate box and click <strong>Create</strong></p>\n\n      <p><a href=\"../../images/download-delete/list_interface.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/list_interface.png\" alt=\"list interface. \" width=\"863\" height=\"392\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>A new collection item has now appeared in your History.</p>\n\n      <p><a href=\"../../images/download-delete/collection_in_history.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/collection_in_history.png\" alt=\"collection in history. \" width=\"263\" height=\"246\" loading=\"lazy\" /></a></p>\n    </li>\n  </ol>\n\n  <p><strong>Download the collection</strong></p>\n\n  <ol>\n    <li>Click on the name of the collection to show its contents</li>\n    <li>\n      <p>Click the <i class=\"far fa-save\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-save</span> <strong>Download Collection</strong> button to download the collection of files as a compressed archive to your computer.</p>\n\n      <p><a href=\"../../images/download-delete/collection_download.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/collection_download.png\" alt=\"collection_download. \" width=\"262\" height=\"317\" loading=\"lazy\" /></a></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>You can repeat this process for other sets of files you want to download in other histories.</p>\n\n<h2 id=\"download-export-an-entire-history-including-its-metadata\">Download (export) an entire history including its metadata</h2>\n\n<p>The third way to download data from Galaxy is by Exporting a history in its entirety. This will allow you to download all of the data in a history as well as all of the metadata associated with it such as the tools used, their versions, the parameters chosen etc. It is downloaded as a single file archive. Once downloaded, you can also Import this history into another Galaxy server.</p>\n\n<p>Depending on the size of the files and the complexity of the history, it can take quite some time to create the archive before download. For example it can take over 24 hours to create an archive file of a 50GB history. It may be simpler just to download the individual files of interest as outlined above.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Export an entire history</hands-on-title>\n\n  <ol>\n    <li>\n      <p>In the History pane, click on the <i class=\"fas fa-cog\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-gear</span> history menu, then select <strong>Export History to File</strong></p>\n\n      <p><a href=\"../../images/download-delete/history_export.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/history_export.png\" alt=\"history export. \" width=\"284\" height=\"572\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>Galaxy will now start archiving the history and making it available for download. In the main Galaxy pane, a message will appear with a download URL. Once the history has been completely archived, the URL can be used to download the history archive file.</p>\n\n      <p><a href=\"../../images/download-delete/history_export_link.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/history_export_link.png\" alt=\"history export link. \" width=\"869\" height=\"66\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>Click on the URL to start the download. If it isn’t ready yet, it will show you the following message. You will need to save the URL and try again later.</p>\n\n      <p><a href=\"../../images/download-delete/history_export_not_ready.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/history_export_not_ready.png\" alt=\"history export not ready. \" width=\"806\" height=\"51\" loading=\"lazy\" /></a></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<h1 id=\"deleting-data-from-galaxy\">Deleting Data from Galaxy</h1>\n\n<p>Once you have downloaded everything that you want to keep from your Galaxy account, you can delete the data and histories your no longer require.</p>\n\n<p>Deletion in Galaxy is a two stage process. If you delete something, it actually only gets marked as deleted and then is hidden. To actually delete an object you must purge it from disk. The instructions for how to delete datasets and histories follow.</p>\n\n<h2 id=\"delete-a-single-dataset\">Delete a single dataset</h2>\n\n<p>This section will show you how to delete and then purge a single dataset from a history. You can also delete multiple datasets and then purge them all at once.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Delete a single dataset</hands-on-title>\n\n  <ol>\n    <li>\n      <p>Click on the <i class=\"fas fa-trash\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-delete</span> <strong>Delete</strong> button of the dataset you wish to delete</p>\n\n      <p><a href=\"../../images/download-delete/delete_button.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/delete_button.png\" alt=\"delete button. \" width=\"259\" height=\"263\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>The dataset has now disappeared from the history pane and the text <code class=\"language-plaintext highlighter-rouge\">1 deleted</code> appears below the history name.</p>\n\n      <p><a href=\"../../images/download-delete/one_deleted.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/one_deleted.png\" alt=\"one deleted. \" width=\"259\" height=\"150\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>You can see all of the deleted datasets by clicking on the <code class=\"language-plaintext highlighter-rouge\">1 deleted</code> link at the top of the history pane. This will allow you to either: <code class=\"language-plaintext highlighter-rouge\">Undelete it</code> OR <code class=\"language-plaintext highlighter-rouge\">Permanently remove it from disk</code> by clicking on the appropriate link. <strong>Note: Once you click on the permanently remove it from disk link you CANNOT undo it.</strong></p>\n\n      <p><a href=\"../../images/download-delete/show_deleted.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/show_deleted.png\" alt=\"show deleted. \" width=\"260\" height=\"230\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>You can also delete and purge multiple datasets at a time by clicking on the <strong>delete</strong> button on all the datasets you want to remove and then purge them all at once by going to the history menu (the little cog wheel) and selecting <strong>Purge Deleted Datasets</strong></p>\n\n      <p><a href=\"../../images/download-delete/purge_deleted.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/purge_deleted.png\" alt=\"purge deleted. \" width=\"238\" height=\"562\" loading=\"lazy\" /></a></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<h2 id=\"delete-an-entire-history\">Delete an entire History</h2>\n\n<p>You can delete an entire history and purge it from disk.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Delete an entire History</hands-on-title>\n\n  <ol>\n    <li>\n      <p>Open the <strong>History List</strong> display by clicking on the <i class=\"fas fa-columns\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-columns</span> history list button</p>\n\n      <p><a href=\"../../images/download-delete/saved_histories.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/saved_histories.png\" alt=\"saved histories. \" width=\"287\" height=\"80\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>You will now see a list of all of your histories</p>\n\n      <p><a href=\"../../images/download-delete/all_histories.png\" rel=\"noopener noreferrer\"><img src=\"../../images/download-delete/all_histories.png\" alt=\"all_histories. \" width=\"645\" height=\"473\" loading=\"lazy\" /></a></p>\n    </li>\n    <li>\n      <p>You can now delete a history by clicking on the <i class=\"fas fa-caret-down\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-dropdown</span> dropdown arrow at the top of the history, and then selecting <strong>Delete</strong> OR <strong>Purge</strong>.</p>\n\n      <blockquote class=\"warning\">\n        <warning-title>You can lose data</warning-title>\n        <p><strong>NOTE: Selecting Delete Permanently will remove the entire history and all of its non shared datasets from disk. It CANNOT be undone.</strong></p>\n      </blockquote>\n    </li>\n    <li>\n      <p>If you only selected <strong>Delete</strong>, the history will be available to un-delete for a certain time<sup id=\"fnref:1:1\" role=\"doc-noteref\"><a href=\"#fn:1\" class=\"footnote\" rel=\"footnote\">1</a></sup></p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<h1 id=\"conclusion\">Conclusion</h1>\n\n<p>This tutorial should have explained to you how to manage your data on Galaxy. Different Galaxy servers will have different policies regarding storage quotas and storage times. You should check with the Galaxy server you are using.</p>\n\n<h5 id=\"footnotes\">Footnotes:</h5>\n\n<div class=\"footnotes\" role=\"doc-endnotes\">\n  <ol>\n    <li id=\"fn:1\" role=\"doc-endnote\">\n      <p>On some Galaxy servers, data and histories marked for deletion are periodically purged by the administrators. This period of time can vary between servers and you should check with the documentation or administrators of your server to know the exact amount of time. <a href=\"#fnref:1\" class=\"reversefootnote\" role=\"doc-backlink\">&#8617;</a> <a href=\"#fnref:1:1\" class=\"reversefootnote\" role=\"doc-backlink\">&#8617;<sup>2</sup></a></p>\n    </li>\n  </ol>\n</div>\n"],"ref_slides":[],"video_library":{"tutorial":null,"slides":null,"demo":null,"both":null,"session":null},"hands_on":true,"slides":false,"mod_date":"2023-11-03 14:30:27 +0000","pub_date":"2019-10-17 08:28:43 +0000","version":9,"api":"https://training.galaxyproject.org/training-material/api/topics/galaxy-interface/tutorials/download-delete-data/tutorial.json","tools":[],"supported_servers":{"exact":[],"inexact":[{"name":"UseGalaxy.eu","url":"https://usegalaxy.eu","id":"eu","human":"Galaxy Europe","usegalaxy":true},{"name":"UseGalaxy.org","url":"https://usegalaxy.org","id":"us","human":"Galaxy Main","usegalaxy":true},{"name":"UseGalaxy.org.au","url":"https://usegalaxy.org.au","id":"au","human":"Galaxy Australia","usegalaxy":true},{"name":"UseGalaxy.fr","url":"https://usegalaxy.fr","id":"fr","human":"Galaxy France","usegalaxy":true}]},"topic_name_human":"Using Galaxy and Managing your Data","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools: []\n","tours":false,"video":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial"}