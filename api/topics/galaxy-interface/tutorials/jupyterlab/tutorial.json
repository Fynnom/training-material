{"layout":"tutorial_hands_on","redirect_from":["/topics/galaxy-ui/tutorials/jupyterlab/tutorial","/short/galaxy-interface/jupyterlab","/short/T00153"],"title":"JupyterLab in Galaxy","zenodo_link":"","questions":["How can I manipulate data using JupyterLab in Galaxy?","How can I start a notebook in JupyterLab?","How can I import/export dataset from/to my history to/from the notebook?","How can I save my notebook to my history?"],"objectives":["Launch JupyterLab in Galaxy","Start a notebook","Import libraries","Use get() to import datasets from your history to the notebook","Use put() to export datasets from the notebook to your history","Save your notebook into your history"],"time_estimation":"1H","tags":["interactive-tools"],"key_points":["How to work with JupyterLab interactively within Galaxy"],"contributions":{"authorship":["annefou"],"editing":["hexylena"]},"subtopic":"analyse","js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00153","url":"/topics/galaxy-interface/tutorials/jupyterlab/tutorial.html","topic_name":"galaxy-interface","tutorial_name":"jupyterlab","dir":"topics/galaxy-interface/tutorials/jupyterlab","symlink":null,"id":"galaxy-interface/jupyterlab","ref_tutorials":["<p><a href=\"https://jupyterlab.readthedocs.io/en/stable\">JupyterLab</a> is an <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\">Integrated Development Environment (IDE)</a>.\nLike most IDEs, it provides a graphical interface for R/Python, making it more user-friendly, and providing dozens of useful features.\nWe will introduce additional benefits of using JupyterLab as you cover the lessons.</p>\n\n<blockquote class=\"comment\">\n  <comment-title></comment-title>\n\n  <p>This tutorial is significantly based on <a href=\"https://jupyterlab.readthedocs.io/en/stable/\">the JupyterLab documentation</a> <a href=\"https://jupyterlab.readthedocs.io/en/stable/user/interface.html\">“The JupyterLab Interface”</a> section.</p>\n\n</blockquote>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n  <p>In this tutorial, we will cover:</p>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#jupyterlab\" id=\"markdown-toc-jupyterlab\">JupyterLab</a>    <ol>\n      <li><a href=\"#start-your-first-notebook\" id=\"markdown-toc-start-your-first-notebook\">Start your first notebook</a></li>\n      <li><a href=\"#graph-display-in-jupyterlab-with-python\" id=\"markdown-toc-graph-display-in-jupyterlab-with-python\">Graph Display in JupyterLab with Python</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#interaction-between-jupyterlab-and-galaxy\" id=\"markdown-toc-interaction-between-jupyterlab-and-galaxy\">Interaction between JupyterLab and Galaxy</a>    <ol>\n      <li><a href=\"#import--export-data\" id=\"markdown-toc-import--export-data\">Import / export Data</a></li>\n      <li><a href=\"#save-the-notebook-in-your-history\" id=\"markdown-toc-save-the-notebook-in-your-history\">Save the Notebook in your history</a></li>\n    </ol>\n  </li>\n</ol>\n\n</blockquote>\n\n<h1 id=\"jupyterlab\">JupyterLab</h1>\n\n<p>Opening up <span class=\"tool\" data-tool=\"interactive_tool_jupyter_notebook\" title=\"JupyterLab tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>JupyterLab</strong></span> is quite easy:</p>\n\n<!--SNIPPET-->\n<blockquote class=\"hands_on\">   <div class=\"box-title hands_on-title\" id=\"hands-on-launch-jupyterlab\"><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i> Hands-on: Launch JupyterLab</div>   <blockquote class=\"tip\">   <tip-title>Launch JupyterLab in Galaxy</tip-title>   <p>Currently JupyterLab in Galaxy is available on <a href=\"https://live.usegalaxy.eu\">Live.useGalaxy.eu</a>, <a href=\"https://usegalaxy.org\">usegalaxy.org</a> and <a href=\"https://usegalaxy.eu\">usegalaxy.eu</a>.</p>   <blockquote class=\"hands_on\">     <hands-on-title>Run JupyterLab</hands-on-title>     <ol>       <li><span class=\"tool\" data-tool=\"interactive_tool_jupyter_notebook\" title=\"Interactive Jupyter Notebook tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Interactive Jupyter Notebook</strong></span>. Note that on some Galaxies this is called <span class=\"tool\" data-tool=\"interactive_tool_jupyter_notebook\" title=\"Interactive JupyTool and notebook tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Interactive JupyTool and notebook</strong></span>:</li>       <li>Click Run Tool</li>       <li>         <p>The tool will start running and will stay running permanently</p>         <p>This may take a moment, but once the <code class=\"language-plaintext highlighter-rouge\">Executed notebook</code> in your history is <strong>orange</strong>, you are up and running!</p>       </li>       <li>Click on the <strong>User</strong> menu at the top and go to <strong>Active Interactive Tools</strong> and locate the JupyterLab instance you started.</li>       <li>Click on your JupyterLab instance</li>     </ol>   </blockquote> </blockquote>   <blockquote class=\"tip\">   <tip-title>Launch Try JupyterLab if not available on Galaxy</tip-title>   <p>If JupyterLab is not available on the Galaxy instance:</p>   <ol>     <li>Start <a href=\"https://mybinder.org/v2/gh/jupyterlab/jupyterlab-demo/try.jupyter.org?urlpath=lab\">Try JupyterLab</a></li>   </ol> </blockquote> </blockquote>\n<p><!--END_SNIPPET--></p>\n\n<p>You should now be looking at a page with the JupyterLab interface:</p>\n\n<p><a href=\"../../images/jupyterlab_default_session.png\" rel=\"noopener noreferrer\"><img src=\"../../images/jupyterlab_default_session.png\" alt=\"Jupyterlab default session. \" width=\"1827\" height=\"835\" loading=\"lazy\" /></a></p>\n\n<p>As shown on the figure above, JupyterLab interface is made of 3 main areas:</p>\n<ul>\n  <li>The menu barat the top</li>\n  <li>The left side bar with in particular the <strong>File Browser</strong></li>\n  <li>The main work area in the central panel</li>\n</ul>\n\n<h2 id=\"start-your-first-notebook\">Start your first notebook</h2>\n\n<p>Now that we are ready to start exploring JupyterLab, we will want to keep a record of the commands we are using. To do this we can start a Notebook.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Start a notebook</hands-on-title>\n\n  <ol>\n    <li>On the left side bar, in the <strong>File Browser</strong>, double-click on the file called <strong>ipython_galaxy_notebook.ipynb</strong>. This will open the\ndefault notebook in the main work area.</li>\n    <li>If <strong>ipython_galaxy_notebook.ipynb</strong> does not exist (for instance on <em>Try JupyterLab</em>) then click on <strong>+</strong> (top left) to start <strong>The launcher</strong> and then <strong>Python</strong> icon in the <strong>Notebook</strong> section to create a new blank notebook.</li>\n  </ol>\n</blockquote>\n\n<p>A new notebook appears in the centre panel. Before we go any further, you should learn to save your script.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Save a Python notebook</hands-on-title>\n\n  <ol>\n    <li>Click the <strong>File</strong> menu and select **Save Notebook As…\nAlternatively, you can also:\n      <ul>\n        <li>Click the <i class=\"far fa-save\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-save</span> icon (<strong>Save the notebook contents and create checkpoint</strong>) in the bar above the first line in the script editor</li>\n        <li>Click the <strong>File</strong> menu and select <strong>Save Notebook</strong></li>\n        <li>Type <kbd>CTRL</kbd>+<kbd>S</kbd> (<kbd>CMD</kbd>+<kbd>S</kbd> on OSX)</li>\n      </ul>\n    </li>\n    <li>In the <strong>Save Notebook As</strong> window that opens, name your file <code class=\"language-plaintext highlighter-rouge\">ipython_galaxy_notebok</code>\nAlternatively, you can also rename your Jupyter Notbook:\n      <ul>\n        <li>Right click on the name (<code class=\"language-plaintext highlighter-rouge\">Untitled.ipynb</code>) in the bar above the first line in the script editor and select <strong>Rename Notebook</strong></li>\n      </ul>\n    </li>\n  </ol>\n</blockquote>\n\n<p>The new script <code class=\"language-plaintext highlighter-rouge\">ipython_galaxy_notebook.ipynb</code> should appear in the <strong>File Browser</strong>* in the left panel. By convention, Jupyter notebooks end with the file extension <code class=\"language-plaintext highlighter-rouge\">.ipynb</code> independently of the programming language (R, Python, Octave, Julia, etc.).</p>\n\n<p><a href=\"../../images/jupyterlab_session_default_notebook.png\" rel=\"noopener noreferrer\"><img src=\"../../images/jupyterlab_session_default_notebook.png\" alt=\"jupyterlab default notebook. \" width=\"1547\" height=\"676\" loading=\"lazy\" /></a></p>\n\n<blockquote class=\"comment\">\n  <comment-title>Note: supported programming languages</comment-title>\n\n  <p>Depending on your JupyterLab instance, the list of supported programming languages may vary.\nOn <a href=\"https://live.usegalaxy.eu\">Live.useGalaxy.eu</a>, the following programming languages are currently supported:</p>\n  <ul>\n    <li>Python 3</li>\n    <li>Julia</li>\n    <li>R</li>\n    <li>Octave</li>\n    <li>Ansible</li>\n    <li>Bash</li>\n    <li>SciJava</li>\n  </ul>\n</blockquote>\n\n<p>By default, a <strong>Python notebook</strong> is started. Don’t worry if you are not familiar with <em>Python</em> programming language, it is not necessary for this tutorial. The same functionalities applies for any available programming languages.</p>\n\n<blockquote class=\"comment\">\n  <comment-title>Note: switching to another programming language</comment-title>\n\n  <p>Once you have created a Notebook, you can switch to another available programming language (<strong>Switch kernel</strong>).</p>\n  <ol>\n    <li>On the top right of your running Notebook, click on <strong>Python 3</strong>. A new window pops up:\n<a href=\"../../images/jupyterlab_switch_kernel.png\" rel=\"noopener noreferrer\"><img src=\"../../images/jupyterlab_switch_kernel.png\" alt=\"jupyterlab switch kernel. \" width=\"1545\" height=\"678\" loading=\"lazy\" /></a></li>\n    <li>In this new window, click on <strong>Python 3</strong> to select an available programming language (R, octave, Julia, etc.).</li>\n    <li>Click on <strong>Select</strong> to activate your selection. The pop-up window closes and you are ready to use your notebook with the selected programming language.\nAlternatively, you can also:</li>\n    <li>Click on <strong>+</strong> (top left menu) to start the <strong>Launcher</strong>. The list of available programming language is given in the <strong>Notebook</strong> section.</li>\n    <li>Click on icon of your choice in the <strong>Notebook</strong> section.</li>\n    <li>A new notebook is created with the programming language of your choice.</li>\n  </ol>\n</blockquote>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Import Python libraries</hands-on-title>\n\n  <ol>\n    <li>Click on a cell of your notebook to edit it (verify that it is defined as a “Code” cell)</li>\n    <li>Enter the following lines:\n      <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kn\">import</span> <span class=\"n\">numpy</span> <span class=\"k\">as</span> <span class=\"n\">np</span>\n<span class=\"kn\">import</span> <span class=\"n\">matplotlib.pyplot</span> <span class=\"k\">as</span> <span class=\"n\">plt</span>\n</code></pre></div>      </div>\n    </li>\n    <li><kbd>Shift+Return</kbd> to run the cell or click on the run cell button.</li>\n  </ol>\n\n</blockquote>\n\n<h2 id=\"graph-display-in-jupyterlab-with-python\">Graph Display in JupyterLab with Python</h2>\n\n<p>In this tutorial we are going to simply plot a simple graph using generated data.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Draw a simple plot</hands-on-title>\n\n  <ol>\n    <li>\n      <p>Generate a simple dataset</p>\n\n      <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"p\">.</span><span class=\"nf\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">x</span><span class=\"o\">**</span><span class=\"mi\">2</span>\n</code></pre></div>      </div>\n    </li>\n    <li>\n      <p>Create your figure with the command:</p>\n\n      <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"n\">ax</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"p\">.</span><span class=\"nf\">subplots</span><span class=\"p\">(</span> <span class=\"n\">nrows</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">ncols</span><span class=\"o\">=</span><span class=\"mi\">1</span> <span class=\"p\">,</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">15</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"p\">)</span>\n</code></pre></div>      </div>\n\n      <ul>\n        <li><code class=\"language-plaintext highlighter-rouge\">nrows=1, ncols=1</code> means you will have one plot in your figure (one row and one column)</li>\n        <li><code class=\"language-plaintext highlighter-rouge\">figsize</code> parameter determine the size of the figure</li>\n      </ul>\n    </li>\n    <li>\n      <p>Draw the plot with the command</p>\n\n      <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">plt</span><span class=\"p\">.</span><span class=\"nf\">plot</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">);</span>\n</code></pre></div>      </div>\n\n      <p><a href=\"../../images/jupyterlab_plot.png\" rel=\"noopener noreferrer\"><img src=\"../../images/jupyterlab_plot.png\" alt=\"Simple plot in Jupyter. \" width=\"1161\" height=\"719\" loading=\"lazy\" /></a></p>\n    </li>\n  </ol>\n</blockquote>\n\n<h1 id=\"interaction-between-jupyterlab-and-galaxy\">Interaction between JupyterLab and Galaxy</h1>\n\n<h2 id=\"import--export-data\">Import / export Data</h2>\n\n<p>You can import data from Galaxy history using the <code class=\"language-plaintext highlighter-rouge\">get(12)</code> command, with the number of your dataset in the history (If you are working on a collection, unhide datasets to see their numbers).</p>\n\n<p>If you want to save a file you generated in your notebook, use the <code class=\"language-plaintext highlighter-rouge\">put(\"file_name\")</code> command. That is what we are going to do with our distribution plot.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Save an Jupyter generated image into a Galaxy History</hands-on-title>\n\n  <ol>\n    <li>Create an image file with the figure you just draw with the command <code class=\"language-plaintext highlighter-rouge\">fig.savefig('simpleplot.png')</code></li>\n    <li>Export your image into your history with the command  <code class=\"language-plaintext highlighter-rouge\">put('simpleplot.png')</code></li>\n  </ol>\n\n</blockquote>\n\n<h2 id=\"save-the-notebook-in-your-history\">Save the Notebook in your history</h2>\n\n<p>Once you are done with you analysis or anytime during the editing process, you can save the notebook into your history using the <code class=\"language-plaintext highlighter-rouge\">put(\"ipython_galaxy_notebook.ipynb\")</code>. If you create additional notebooks with different names, make sure you save them all before you quit JupyterLab.</p>\n\n<p>This will create a new notebook <code class=\"language-plaintext highlighter-rouge\">.pynb</code> file in your history every time you click on this icon.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Closing JupyterLab</hands-on-title>\n\n  <ol>\n    <li>\n      <p>Click <strong>User</strong>: <strong>Active Interactive Tools</strong></p>\n    </li>\n    <li>\n      <p>Tick <i class=\"far fa-check-square\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-selector</span> the box of your Jupyter Interactive Tool, and click <strong>Stop</strong></p>\n    </li>\n  </ol>\n\n</blockquote>\n"],"ref_slides":[],"video_library":{"tutorial":null,"slides":null,"demo":null,"both":null,"session":null},"hands_on":true,"slides":false,"mod_date":"2022-09-28 13:13:58 +0000","pub_date":"2020-03-05 20:21:54 +0000","version":11,"api":"https://training.galaxyproject.org/training-material/api/topics/galaxy-interface/tutorials/jupyterlab/tutorial.json","tools":["interactive_tool_jupyter_notebook"],"supported_servers":{"exact":[{"url":"https://usegalaxy.be/","name":"UseGalaxy.be","usegalaxy":false},{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true},{"url":"https://usegalaxy.fr/","name":"UseGalaxy.fr","usegalaxy":false},{"url":"https://usegalaxy.org","name":"UseGalaxy.org (Main)","usegalaxy":true}],"inexact":[]},"topic_name_human":"Using Galaxy and Managing your Data","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools: []\n","tours":false,"video":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Anne Fouilloux","twitter":"AnneFouilloux","joined":"2019-07","elixir_node":"no","orcid":"0000-0002-1784-2920","id":"annefou","url":"https://training.galaxyproject.org/training-material/api/contributors/annefou.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/annefou/"},{"name":"Helena Rasche","orcid":"0000-0001-9760-8992","maintainer_contact":"gitter","matrix":"hexylena:matrix.org","joined":"2017-09","elixir_node":"nl","affiliations":["gallantries","by-covid","erasmusmc","elixir-europe","elixir-converge"],"former_affiliations":["deNBI","avans-atgm","uni-freiburg"],"contact_for_training":false,"location":{"country":"NL","lat":51.91,"lon":4.46},"id":"hexylena","url":"https://training.galaxyproject.org/training-material/api/contributors/hexylena.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/hexylena/"}]}