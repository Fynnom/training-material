{"layout":"tutorial_hands_on","title":"InterMine integration with Galaxy","zenodo_link":"https://zenodo.org/record/3407174","questions":["How to export your query results from your InterMine of choice to Galaxy?","How to export a list of identifiers from Galaxy to your InterMine of choice?"],"objectives":["Learn how to import/export data from/to InterMine instances","Understand the InterMine Interchange Dataset"],"time_estimation":"1h","contributions":{"authorship":["danielabutano","yochannah"]},"tags":["gmod","intermine"],"subtopic":"analyse","js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00152","url":"/topics/galaxy-interface/tutorials/intermine/tutorial.html","topic_name":"galaxy-interface","tutorial_name":"intermine","dir":"topics/galaxy-interface/tutorials/intermine","symlink":null,"id":"galaxy-interface/intermine","ref_tutorials":["<p>InterMine (<span class=\"citation\"><a href=\"#Smith2012\">Smith <i>et al.</i> 2012</a></span>) is a well-establish platform to integrate and access life sciences data.\nIt provides the integrated data via a web interface and RESTful web services.</p>\n\n<p>Other organizations download and deploy InterMine on their servers:\nthere are more than 30 instances over the world (registered at <a href=\"http://registry.intermine.org\">registry.intermine.org</a>), covering many organism,\nincluding human data, model animals, plants and drug targets.</p>\n\n<p>InterMine has been integrated with Galaxy: the InterMine tool server in Galaxy allows\nto import the data returned by any InterMine search and viceversa, using the InterMine Interchange format\nit’s possible to export a list of identifiers from Galaxy into any InterMine instance of your choice.</p>\n\n<p>Learn more in this tutorial.</p>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n  <p>In this tutorial, we will cover:</p>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#import-data-from-intermine\" id=\"markdown-toc-import-data-from-intermine\">Import data from InterMine</a></li>\n  <li><a href=\"#export-identifiers-into-intermine\" id=\"markdown-toc-export-identifiers-into-intermine\">Export identifiers into InterMine</a>    <ol>\n      <li><a href=\"#get-data\" id=\"markdown-toc-get-data\">Get data</a></li>\n      <li><a href=\"#create-intermine-interchange-dataset\" id=\"markdown-toc-create-intermine-interchange-dataset\">Create InterMine Interchange dataset</a></li>\n      <li><a href=\"#send-identifiers-to-intermine\" id=\"markdown-toc-send-identifiers-to-intermine\">Send identifiers to InterMine</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#conclusion\" id=\"markdown-toc-conclusion\">Conclusion</a></li>\n</ol>\n\n</blockquote>\n\n<h1 id=\"import-data-from-intermine\">Import data from InterMine</h1>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Import</hands-on-title>\n  <p>Search Galaxy for <code class=\"language-plaintext highlighter-rouge\">InterMine</code> (not case sensitive; <code class=\"language-plaintext highlighter-rouge\">intermine</code> is fine too), and click on <strong>InterMine Server</strong> under <strong>Get Data</strong>.</p>\n\n  <ol>\n    <li>\n      <p><span class=\"tool\" data-tool=\"intermine\" title=\"InterMine Server tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>InterMine Server</strong></span></p>\n    </li>\n    <li>\n      <p>This will redirect you to the InterMine registry, which shows a full list of InterMines and the various organisms they support. Find an InterMine that has the organism type you’re working with, and click on it to redirect to that InterMine.</p>\n    </li>\n    <li>\n      <p>Once you arrive at your InterMine of choice, you can run a query as normal - this could be a search, a list results page, a template, or a query in the query builder. Eventually you’ll be presented with an InterMine results table.</p>\n    </li>\n    <li>Click on <strong>Export</strong> (top right). This will bring up a modal window.</li>\n    <li>Select <strong>Send to Galaxy</strong> and double-check the <em>“Galaxy Location”</em> is correct.</li>\n    <li>\n      <p>Click on the <strong>Send to Galaxy</strong> button on the bottom right of the pop-up window.</p>\n\n      <blockquote class=\"tip\">\n        <tip-title>Enable popups</tip-title>\n\n        <p>If you get an error when you click on the <strong>Send to Galaxy</strong> button, please make sure to allow popups and try again.</p>\n      </blockquote>\n    </li>\n  </ol>\n\n</blockquote>\n<p>You have now exported your query results from InterMine to Galaxy.</p>\n\n<h1 id=\"export-identifiers-into-intermine\">Export identifiers into InterMine</h1>\n\n<h2 id=\"get-data\">Get data</h2>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Data upload</hands-on-title>\n\n  <ol>\n    <li>\n      <p>Import some fly data from <a href=\"https://zenodo.org/record/3407174\">Zenodo</a> or from the data library</p>\n\n      <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>https://zenodo.org/record/3407174/files/GenesLocatedOnChromosome4.tsv\n</code></pre></div>      </div>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-importing-via-links\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-importing-via-links\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Importing via links</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Copy the link location</li>   <li>     <p>Click <i class=\"fas fa-upload\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-upload</span> <strong>Upload Data</strong> at the top of the tool panel</p>   </li>   <li>Select <i class=\"fa fa-edit\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-wf-edit</span> <strong>Paste/Fetch Data</strong></li>   <li>     <p>Paste the link(s) into the text field</p>   </li>   <li>     <p>Press <strong>Start</strong></p>   </li>   <li><strong>Close</strong> the window</li> </ul> </blockquote>\n      <p><!--END_SNIPPET--></p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-importing-data-from-a-data-library\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-importing-data-from-a-data-library\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Importing data from a data library</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <p>As an alternative to uploading the data from a URL or your computer, the files may also have been made available from a <em>shared data library</em>:</p>   <ol>   <li>Go into <strong>Shared data</strong> (top panel) then <strong>Data libraries</strong></li>   <li>Navigate to  the correct folder as indicated by your instructor.     <ul>       <li>On most Galaxies tutorial data will be provided in a folder named <strong>GTN - Material –&gt; Topic Name -&gt; Tutorial Name</strong>.</li>     </ul>   </li>   <li>Select the desired files</li>   <li>Click on <strong>Add to History</strong> <i class=\"fas fa-caret-down\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-dropdown</span> near the top and select <strong>as Datasets</strong> from the dropdown menu</li>   <li>     <p>In the pop-up window, choose</p>     <ul>       <li><em>“Select history”</em>: the history you want to import the data to (or create a new one)</li>     </ul>   </li>   <li>Click on <strong>Import</strong></li> </ol> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n    <li>\n      <p>Rename the dataset to <code class=\"language-plaintext highlighter-rouge\">GenesLocatedOnChromosome4</code></p>\n\n      <!--SNIPPET-->\n      <blockquote class=\"tip\">   <div class=\"box-title tip-title\" id=\"tip-renaming-a-dataset\"><button class=\"gtn-boxify-button tip\" type=\"button\" aria-controls=\"tip-renaming-a-dataset\" aria-expanded=\"true\"><i class=\"far fa-lightbulb\" aria-hidden=\"true\"></i> <span>Tip: Renaming a dataset</span><span class=\"fold-unfold fa fa-minus-square\"></span></button></div>   <ul>   <li>Click on the <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-pencil</span> <strong>pencil icon</strong> for the dataset to edit its attributes</li>   <li>In the central panel, change the <strong>Name</strong> field</li>   <li>Click the <strong>Save</strong> button</li> </ul> </blockquote>\n      <p><!--END_SNIPPET--></p>\n    </li>\n    <li>\n      <p>Inspect the data</p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<p>The dataset contains the secondary identifier and the symbol of the <em>Drosophila melanogaster</em> genes and their location on the chromosome 4</p>\n\n<blockquote class=\"question\">\n  <question-title></question-title>\n\n  <p>Do the data contain the type, e.g <code class=\"language-plaintext highlighter-rouge\">Protein</code> or <code class=\"language-plaintext highlighter-rouge\">Gene</code>?</p>\n\n  <blockquote class=\"solution\">\n    <solution-title></solution-title>\n\n    <p>No, they don’t. So we have to specify it, when we create the InterMine Interchange file</p>\n\n  </blockquote>\n\n</blockquote>\n\n<h2 id=\"create-intermine-interchange-dataset\">Create InterMine Interchange dataset</h2>\n\n<p>We will use <strong>Create InterMine Interchange Dataset</strong> <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span> in order to generate an intermediate file which will be used to send the identifiers (e.g. gene identifiers) to InterMine. This file requires the identifier’s type (e.g. <code class=\"language-plaintext highlighter-rouge\">Gene</code>), the identifier (e.g <code class=\"language-plaintext highlighter-rouge\">WBGene00007063</code>) and, optionally, the organims’s name.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Generate InterMine file</hands-on-title>\n\n  <ol>\n    <li><span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/iuc/intermine_galaxy_exchange/galaxy_intermine_exchange/0.0.1\" title=\"Create InterMine Interchange dateset tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Create InterMine Interchange dateset</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 0.0.1)</span> with the following parameters:\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Tabular file”</em>: select the <code class=\"language-plaintext highlighter-rouge\">GenesLocatedOnChromosome4</code> dataset which contains some fly’s genes</li>\n        <li><em>“Feature Type Column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 1</code></li>\n        <li><em>“Feature Type”</em>: <code class=\"language-plaintext highlighter-rouge\">Gene</code></li>\n        <li><em>“Feature Identifier column”</em>: <code class=\"language-plaintext highlighter-rouge\">Column: 2</code></li>\n      </ul>\n\n      <blockquote class=\"comment\">\n        <comment-title></comment-title>\n        <ul>\n          <li>In this example, because the <code class=\"language-plaintext highlighter-rouge\">GenesLocatedOnChromosome4</code> dataset does not contain the type we have to specify it, in the <em>“Feature Type”</em></li>\n          <li><em>“Feature Type”</em>: this is type of the identifiers you are exporting to InterMine, in this example <code class=\"language-plaintext highlighter-rouge\">Gene</code>. It must be a class in the InterMine data model.</li>\n          <li><em>“Feature Identifier column”</em>: select a column from the input file which contains the identifier. We have selected Column 2, which contains the gene symbol.</li>\n          <li><em>“Feature Identifier”</em>: This could be, as an example, a gene symbol like <code class=\"language-plaintext highlighter-rouge\">GATA1</code> or another other identifier, e.g. <code class=\"language-plaintext highlighter-rouge\">FBGN0000099</code> or perhaps a  protein accession. In our example we do not have to edit anything because the values for this field are contained in the <code class=\"language-plaintext highlighter-rouge\">GenesLocatedOnChromosome4</code> dataset, in <em>Column 2</em>.</li>\n          <li><em>“Organism Name column”</em>: select a column from the input file which contains the organism’s name, if you have multiple organisms in the same dataset.</li>\n          <li><em>“Organism Name”</em>: alternatively you can directly provide the organism’s name. The organims’ name is not mandatory, but is good to provide if it is known. It does not have to be precise</li>\n        </ul>\n      </blockquote>\n    </li>\n    <li>Click on <strong>Run Tool</strong></li>\n  </ol>\n\n</blockquote>\n\n<h2 id=\"send-identifiers-to-intermine\">Send identifiers to InterMine</h2>\n\n<p>Once the generation of the interchange dataset has been completed, open the green box related to <strong>Create InterMine Interchange on data</strong>.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Send data</hands-on-title>\n\n  <ol>\n    <li>Click on view intermine at <strong>Registry</strong> to be redirected to the InterMine registry, which shows a full list of InterMines and the various organisms they support.</li>\n    <li>Find an InterMine that has the organism type you’re working with, in our case FlyMine, and click on the <strong>Send to</strong> green button to export the identifiers to.\n      <ol>\n        <li>You are redirected to FlyMine, in the List Analysis page showing the identifiers you have just exported from Galaxy.</li>\n      </ol>\n    </li>\n  </ol>\n\n</blockquote>\n\n<h1 id=\"conclusion\">Conclusion</h1>\n\n<p>You have now exported your identifiers from Galaxy to InterMine.</p>\n"],"ref_slides":[],"hands_on":true,"slides":false,"mod_date":"2024-02-29 12:49:34 +0000","pub_date":"2020-12-09 14:45:02 +0000","version":14,"workflows":[{"workflow":"main_workflow.ga","tests":false,"url":"https://training.galaxyproject.org/training-material/topics/galaxy-interface/tutorials/intermine/workflows/main_workflow.ga","path":"topics/galaxy-interface/tutorials/intermine/workflows/main_workflow.ga","wfid":"galaxy-interface-intermine","wfname":"main_workflow","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/galaxy-interface-intermine/versions/main_workflow","license":null,"creators":[],"name":"Intermine import/export","title":"Intermine import/export","test_results":null,"modified":"2024-06-17 12:19:36 +0000","mermaid":"flowchart TD\n  0[\"ℹ️ Input Dataset\\nInput dataset\"];\n  style 0 stroke:#2c3143,stroke-width:4px;\n  1[\"Create InterMine Interchange\"];\n  0 -->|output| 1;"}],"api":"https://training.galaxyproject.org/training-material/api/topics/galaxy-interface/tutorials/intermine/tutorial.json","tools":["intermine","toolshed.g2.bx.psu.edu/repos/iuc/intermine_galaxy_exchange/galaxy_intermine_exchange/0.0.1"],"supported_servers":{"exact":[{"url":"https://usegalaxy.be/","name":"UseGalaxy.be","usegalaxy":false},{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true},{"url":"https://usegalaxy.no/","name":"UseGalaxy.no","usegalaxy":false},{"url":"https://usegalaxy.org","name":"UseGalaxy.org (Main)","usegalaxy":true},{"url":"https://usegalaxy.org.au","name":"UseGalaxy.org.au","usegalaxy":true}],"inexact":[]},"topic_name_human":"Using Galaxy and Managing your Data","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"intermine_galaxy_exchange","owner":"iuc","revisions":"c24014d80001","tool_panel_section_label":"Convert Formats","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: intermine_galaxy_exchange\n  owner: iuc\n  revisions: c24014d80001\n  tool_panel_section_label: Convert Formats\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Daniela Butano","joined":"2019-09","id":"danielabutano","url":"https://training.galaxyproject.org/training-material/api/contributors/danielabutano.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/danielabutano/"},{"name":"Yo Yehudi","joined":"2019-09","id":"yochannah","url":"https://training.galaxyproject.org/training-material/api/contributors/yochannah.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/yochannah/"}]}