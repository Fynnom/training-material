{"layout":"tutorial_hands_on","title":"Creating high resolution images of Galaxy Workflows","tags":["workflows"],"questions":["How can I print or screenshot my Workflow in high resolution for a poster or presentation?","How can I share high detail images of my Workflows?"],"objectives":["Create a high resolution image of your Workflow, ready for a poster","Learn how to utilize external tools to make high resolution images of your Workflow","Learn how to compress high resolution Workflow images to share them in the web"],"time_estimation":"30M","key_points":["Print ready screenshots","Basic image compression"],"contributions":{"authorship":["ElectronicBlueberry"],"editing":["hexylena"]},"level":"Introductory","subtopic":"workflows","requirements":[{"type":"external","link":"https://www.mozilla.org/en-US/firefox/new/","title":"The Firefox Browser (this will not work in Chrome)"}],"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00405","url":"/topics/galaxy-interface/tutorials/workflow-posters/tutorial.html","topic_name":"galaxy-interface","tutorial_name":"workflow-posters","dir":"topics/galaxy-interface/tutorials/workflow-posters","symlink":null,"id":"galaxy-interface/workflow-posters","ref_tutorials":["<p>Sometimes we want to share our workflows outside of Galaxy, like printing it on a poster.\nMaking screenshots of Workflows looses a lot of detail, often to an degree where information is lost.</p>\n\n<p>There are third party tools which can help us in making high resolution screenshots that preserve all details\nand produce pictures which are suitable for printing and sharing.</p>\n\n<blockquote class=\"notranslate hands_on gtn-cyoa\" id=\"gtn-cyoa\">\n\t<div class=\"box-title\" aria-label=\"hands-on box: choose your own tutorial\"><i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i><span class=\"visually-hidden\"></span> Hands-on: Choose Your Own Tutorial</div>\n\t<p>This is a \"Choose Your Own Tutorial\" section, where you can select between multiple paths. Click one of the buttons below to select how you want to follow the tutorial</p>\n\t\n\t<p>\n\t\tIf you want to print your Galaxy Workflow on a poster, choose \"Print\", otherwise \"Web\" is the better option.\n\t</p>\n\t\n\t\n\t\t<input id=\"cyoa-opt1\" type=\"radio\" name=\"cyoa\" value=\"Print\" onclick=\"cyoaChoice('Print', 'gtn-cyoa')\" />\n\t\t<label for=\"cyoa-opt1\" class=\"select btn btn-secondary\">Print</label>\n\t\n\t\n\t\t<input id=\"cyoa-opt2\" type=\"radio\" name=\"cyoa\" value=\"Web\" onclick=\"cyoaChoice('Web', 'gtn-cyoa')\" />\n\t\t<label for=\"cyoa-opt2\" class=\"select btn btn-secondary\">Web</label>\n\t\n\t\n\t\n\n\t\n\t<script>\n\t\tfunction ready(fn) {\n\t\t\tif (document.readyState != 'loading'){\n\t\t\t\tfn();\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener('DOMContentLoaded', fn);\n\t\t\t}\n\t\t}\n\t\tready(function() {\n\t\t\tcyoaDefault(\"Print\", \"gtn-cyoa\");\n\t\t})\n\t</script>\n\t\n</blockquote>\n\n<blockquote class=\"agenda\">\n  <agenda-title></agenda-title>\n\n  <p>In this tutorial we will cover:</p>\n\n<ol id=\"markdown-toc\">\n  <li><a href=\"#making-a-high-resolution-screenshot-of-a-galaxy-workflow\" id=\"markdown-toc-making-a-high-resolution-screenshot-of-a-galaxy-workflow\">Making a high-resolution Screenshot of a Galaxy Workflow</a>    <ol>\n      <li><a href=\"#hiding-the-galaxy-ui\" id=\"markdown-toc-hiding-the-galaxy-ui\">Hiding the Galaxy UI</a></li>\n      <li><a href=\"#exporting-high-res-screenshots\" id=\"markdown-toc-exporting-high-res-screenshots\">Exporting high-res screenshots</a></li>\n    </ol>\n  </li>\n  <li><a href=\"#compressing-workflow-screenshots\" id=\"markdown-toc-compressing-workflow-screenshots\">Compressing Workflow Screenshots</a>    <ol>\n      <li><a href=\"#palette-compression\" id=\"markdown-toc-palette-compression\">Palette Compression</a></li>\n    </ol>\n  </li>\n</ol>\n\n</blockquote>\n\n<h1 id=\"making-a-high-resolution-screenshot-of-a-galaxy-workflow\">Making a high-resolution Screenshot of a Galaxy Workflow</h1>\n\n<div class=\"Print\">\n  <p>In this section we will learn on how to make an image of a workflow which is suitable for printing on a poster.</p>\n</div>\n\n<div class=\"Web\">\n  <p>In this section we will learn on how to make a screenshot of a workflow which preserves as much details as possible.</p>\n</div>\n\n<p>We will be using a feature built into the <a href=\"https://www.mozilla.org/firefox/\">Firefox</a> web browser to make screenshots larger than our screen.\nThis only works in Firefox, so make sure you have it installed and are using it to follow the rest of this tutorial.</p>\n\n<h2 id=\"hiding-the-galaxy-ui\">Hiding the Galaxy UI</h2>\n\n<div class=\"Print\">\n  <p>For our Workflow poster, we will likely not want to print the rest of Galaxys user interface.</p>\n</div>\n\n<div class=\"Web\">\n  <p>For our screenshot, we may want to hide the rest of Galaxys user interface, so the focus is on the Workflow itself.</p>\n</div>\n\n<p>We could cut it out of the final image using image-manipulation tools, but this is slow and cumbersome, especially for high-res images.</p>\n\n<p>From Galaxy version 23.2 onwards there is a feature with which we can hide the Galaxy UI directly.\nIt is meant to be used for embedding workflows, but can be accessed directly, which is perfect for purpose.</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Hiding the Galaxy UI for a Workflow</hands-on-title>\n\n  <ol>\n    <li><strong>Opening the Workflow Preview</strong>\n      <ul>\n        <li>Navigate to your Workflows list</li>\n        <li>Press “<i class=\"far fa-eye\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-eye</span> View” on your desired Workflow</li>\n        <li>You should now see the preview page, which should look similar to this:\n<a href=\"./images/workflow-preview.png\" rel=\"noopener noreferrer\"><img src=\"./images/workflow-preview.png\" alt=\"Galaxys Workflow Preview page with the workflow being rendered next to an info-box. \" width=\"1773\" height=\"1004\" loading=\"lazy\" /></a></li>\n      </ul>\n    </li>\n    <li>\n      <p><strong>Add the following to the URL in your browser:</strong></p>\n\n      <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>&amp;embed=true&amp;buttons=false&amp;about=false&amp;heading=false&amp;minimap=false&amp;zoom_controls=false\n</code></pre></div>      </div>\n    </li>\n    <li>\n      <p><strong>You should now see your Workflow rendered as shown below:</strong></p>\n\n      <p><a href=\"./images/workflow-preview-embedded.png\" rel=\"noopener noreferrer\"><img src=\"./images/workflow-preview-embedded.png\" alt=\"Workflow preview page with all UI elements except for the Workflow itself hidden. \" width=\"1773\" height=\"1004\" loading=\"lazy\" /></a>\nIn this view, you can still zoom in and out using your mouse-wheel, and drag the canvas around.</p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<blockquote class=\"details\">\n  <details-title>What does the text in the URL do?</details-title>\n\n  <p>These are so called query-parameters. They are chained to the existing parameters with a <code class=\"language-plaintext highlighter-rouge\">&amp;</code> symbol. \nEach parameter tells galaxy to render the UI slightly differently.\nIf you’re curios at what they all do, try removing them individually and reloading the page.</p>\n\n</blockquote>\n\n<blockquote class=\"comment\">\n  <comment-title></comment-title>\n  <p>If you cannot see a preview page like in the first screenshot, or if the query parameters have no effect,\nyou are on a Galaxy version older than 23.2</p>\n\n  <p>You can still follow the rest of this tutorial to learn how to make high-resolution screenshots.</p>\n</blockquote>\n\n<h2 id=\"exporting-high-res-screenshots\">Exporting high-res screenshots</h2>\n\n<p>Now that we have a view of our Workflow without the Galaxy UI, let’s make a high-res screenshot using Firefox.</p>\n\n<div class=\"Print\">\n  <p>Firstly position your Workflow, so all of it is visible in the way you would like it to be on the poster.</p>\n</div>\n\n<div class=\"Web\">\n  <p>Firstly position your Workflow, so all of it is visible in the way you would like it to be on the screenshot.</p>\n</div>\n\n<blockquote class=\"tip\">\n  <tip-title>Can't fit your entire Workflow at once?</tip-title>\n\n  <p>If you zoomed out as far as possible, but can’t view all of your Workflow, try the following:</p>\n  <ul>\n    <li>Navigate back to the full Workflow preview page (without the UI hidden)</li>\n    <li>Click anywhere outside of the Workflow preview (e.g. on the about section)</li>\n    <li>Zoom out the entire browser window a bit, by using <kbd>Ctrl</kbd> + <kbd>Mouse Wheel</kbd>, or <kbd>Ctrl</kbd> + <kbd>-</kbd></li>\n    <li>Re-add the query parameters we added in the previous section</li>\n    <li>If you still can’t fit all of it, repeat the above steps</li>\n  </ul>\n</blockquote>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Creating a high-resolution screenshot</hands-on-title>\n\n  <ol>\n    <li><strong>Open the Firefox Javascript console.</strong> To do this, either:\n      <ul>\n        <li>Use the shortcut <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>K</kbd> (On OS X <kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>K</kbd>)</li>\n        <li>Or navigate to the console using your mouse:\n          <ul>\n            <li>Menu</li>\n            <li>More Tools</li>\n            <li>Web Developer Tools</li>\n            <li>Console Tab</li>\n          </ul>\n        </li>\n      </ul>\n    </li>\n    <li>\n      <p><strong>Resize or move the console</strong></p>\n\n      <p>The console may be in the way of your Workflow.</p>\n\n      <p>You can make it take up less space by dragging down the bar at the top.</p>\n\n      <p>You can also reposition it to the side, by selecting the three dots in the upper right corner of the console,\nand choosing a different position from: “Dock to Bottom”, “Dock to Right”, “Dock to Left”, “Separate Window”.</p>\n    </li>\n    <li>\n      <p><strong>Make the screenshot</strong></p>\n\n      <p>In the Javascript console type:</p>\n      <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>:screenshot --dpr 6\n</code></pre></div>      </div>\n      <p>After a short moment, a new screenshot should appear in your downloads folder.</p>\n\n      <p>The value “6” after the <code class=\"language-plaintext highlighter-rouge\">--dpr</code> option is just an example. Keep reading to learn how to choose the right dpr value.</p>\n    </li>\n  </ol>\n\n</blockquote>\n\n<div class=\"Print\">\n  <blockquote class=\"tip\">\n    <tip-title>Choosing the right dpr value for print</tip-title>\n\n    <p><code class=\"language-plaintext highlighter-rouge\">dpr</code> stands for <strong>D</strong>evice <strong>P</strong>ixel <strong>R</strong>atio.</p>\n\n    <p>This is how much Firefox will scale up your screenshot. A dpr of 2, will make your screenshot twice as wide and high as you browser window.</p>\n\n    <p>Always go higher than you think you need, when choosing a dpr for print.\nHere’s a rule-of thumb on how to determine the correct dpr:</p>\n\n    <ul>\n      <li>Think about how much bigger your poster is going to be than your browser window, in physical dimensions.\nIf unsure, round up.</li>\n      <li>Multiply that number by 2</li>\n    </ul>\n\n    <p>Example: If your poster will be roughly 4 times larger than your browser window, choose a dpr of 8.</p>\n\n  </blockquote>\n</div>\n\n<div class=\"Web\">\n  <blockquote class=\"tip\">\n    <tip-title>Choosing the right dpr value for your screenshot</tip-title>\n\n    <p><code class=\"language-plaintext highlighter-rouge\">dpr</code> stands for <strong>D</strong>evice <strong>P</strong>ixel <strong>R</strong>atio.</p>\n\n    <p>This is how much Firefox will scale up your screenshot. A dpr of 2, will make your screenshot twice as wide and high as you browser window.</p>\n\n    <p>Choosing the right dpr for a screenshot depends on how much you’ve zoomed out.\nIf you’ve zoomed out to about half the starting size, go with a dpr of two.\nIf you want your screenshot to be extra crisp, add 2.</p>\n\n    <p>Example: You zoomed out to 25%. Use a dpr of 4 (<code class=\"language-plaintext highlighter-rouge\">25% * 4 = 100%</code>), then add 2 for extra detail equals a dpr of 6.</p>\n\n    <p>To check if you’ve chosen an appropriate dpr, open the screenshot in firefox,\nclick it to zoom in to 100%, and check if all text is clearly readable.</p>\n\n  </blockquote>\n</div>\n\n<h1 id=\"compressing-workflow-screenshots\">Compressing Workflow Screenshots</h1>\n\n<div class=\"Print\">\n  <p>You may have noticed the file-size of your screenshot it very large.\nSome print services may have restrictions on file size, and you won’t be able to upload your screenshot for printing.</p>\n</div>\n\n<div class=\"Web\">\n  <p>You may have noticed the file-size of your screenshot it very large.\nYou will likely not be able to upload it anywhere, as it is larger than most services allow images to be.</p>\n</div>\n\n<p>In the following section, you will learn how to compress your screenshot to a smaller file-size.</p>\n\n<h2 id=\"palette-compression\">Palette Compression</h2>\n\n<p>There are many ways to compress an image.\nPalette compression is particularly well suited for workflows.\nIt can heavily reduce file size with minimal loss, if the amount of colors in an image is fairly low.</p>\n\n<p>To compress our image, we will be using a piece of software called <a href=\"http://www.graphicsmagick.org/\">GraphicsMagick</a></p>\n\n<p>This tool is known to be installed on <a href=\"https://usegalaxy.eu\">usegalaxy.eu</a>, we suggest you follow these steps there:</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Uploading Your Image</hands-on-title>\n\n  <ol>\n    <li>Open <a href=\"https://usegalaxy.eu\">usegalaxy.eu</a></li>\n    <li>At the top of the <i class=\"fas fa-wrench\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">tool</span> <strong>Tools</strong> panel (on the left), click <i class=\"fas fa-upload\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">galaxy-upload</span> <strong>Upload Data</strong></li>\n    <li>Select “Choose Local Files” from the bottom of the dialog</li>\n    <li>Select your saved screenshot, likely from your Downloads folder.</li>\n    <li>Click <strong>Start</strong></li>\n    <li>Click <strong>Close</strong></li>\n  </ol>\n\n</blockquote>\n\n<p>With the data on your Galaxy, we can start trying to compress it!</p>\n\n<blockquote class=\"hands_on\">\n  <hands-on-title>Compressing your screenshot</hands-on-title>\n  <ol>\n    <li>Run the <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/graphicsmagick_image_convert/graphicsmagick_image_convert/1.3.40+galaxy0\" title=\"Convert image format tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Convert image format</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.3.40+galaxy0)</span> tool\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Image to convert”</em>: <code class=\"language-plaintext highlighter-rouge\">screenshot.png</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Reduce Color Palette”</em>: <code class=\"language-plaintext highlighter-rouge\">Automatic</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Output Format”</em>: <code class=\"language-plaintext highlighter-rouge\">png</code></li>\n      </ul>\n\n      <p>This will have GraphicsMagick use automatic palette compression.\nThis command may take a while.</p>\n    </li>\n    <li>\n      <p><strong>Open the compressed image</strong> to check if everything is still clearly visible.</p>\n\n      <p>Also check if the file size is now small enough for your purposes. (Click the dataset in your history to expand it to see the file size.)</p>\n    </li>\n    <li>\n      <p>If you want more control over your output file, you can provide a number of colours, instead of using the automatic reduction. Let’s re-run the tool and provide a number of colours you want to keep in your output image. This number should be in powers of two (4, 8, 16, 32, 64 etc.).</p>\n\n      <p>Using smaller numbers will further reduce the file size at the cost of image quality.\nSmaller values do not always yield smaller files! Experiment a bit, or go with the option from step 4 for simplicity.</p>\n    </li>\n    <li>Run the <span class=\"tool\" data-tool=\"toolshed.g2.bx.psu.edu/repos/bgruening/graphicsmagick_image_convert/graphicsmagick_image_convert/1.3.40+galaxy0\" title=\"Convert image format tool\" aria-role=\"button\"><i class=\"fas fa-wrench\" aria-hidden=\"true\"></i> <strong>Convert image format</strong> (<i class=\"fas fa-cubes\" aria-hidden=\"true\"></i> Galaxy version 1.3.40+galaxy0)</span> tool\n      <ul>\n        <li><i class=\"far fa-file\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-file</span> <em>“Image to convert”</em>: <code class=\"language-plaintext highlighter-rouge\">screenshot.png</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Reduce Color Palette”</em>: <code class=\"language-plaintext highlighter-rouge\">Manual</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Color Palette Size”</em>: <code class=\"language-plaintext highlighter-rouge\">4</code></li>\n        <li><i class=\"fas fa-filter\" aria-hidden=\"true\"></i><span class=\"visually-hidden\">param-select</span> <em>“Output Format”</em>: <code class=\"language-plaintext highlighter-rouge\">png</code></li>\n      </ul>\n    </li>\n    <li>Try different values until you get a result you like! Did you manage to create a smaller result than the automatic palette compression?</li>\n  </ol>\n</blockquote>\n\n<blockquote class=\"tip\">\n  <tip-title>Tips for compressing images</tip-title>\n  <ol>\n    <li>JPEG is a naturally “lossy” format, you can try that instead of PNG</li>\n    <li>If the image is quite large, consider scaling it down with the “Resize %” parameter</li>\n    <li>Experiment with the colour palettes! You will likely be able to find one that is a good tradeoff between accuracy and file size for your use case.</li>\n  </ol>\n</blockquote>\n\n<p>Here’s an example workflow screenshot compressed from <code class=\"language-plaintext highlighter-rouge\">2.4mb</code> to <code class=\"language-plaintext highlighter-rouge\">830kb</code>. Click it to view it in full resolution.</p>\n\n<p><a href=\"./images/example-screenshot-compressed.png\" rel=\"noopener noreferrer\"><img src=\"./images/example-screenshot-compressed.png\" alt=\"high resolution screenshot of a Workflow. \" width=\"6528\" height=\"3680\" loading=\"lazy\" /></a></p>\n"],"ref_slides":[],"video_library":{"tutorial":null,"slides":null,"demo":null,"both":null,"session":null},"hands_on":true,"slides":false,"mod_date":"2024-01-23 10:55:00 +0000","pub_date":"2024-02-05 15:13:56 +0000","version":7,"api":"https://training.galaxyproject.org/training-material/api/topics/galaxy-interface/tutorials/workflow-posters/tutorial.json","tools":["toolshed.g2.bx.psu.edu/repos/bgruening/graphicsmagick_image_convert/graphicsmagick_image_convert/1.3.40+galaxy0"],"supported_servers":{"exact":[{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true}],"inexact":[{"url":"https://usegalaxy.be/","name":"UseGalaxy.be","usegalaxy":false},{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.no/","name":"UseGalaxy.no","usegalaxy":false}]},"topic_name_human":"Using Galaxy and Managing your Data","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"graphicsmagick_image_convert","owner":"bgruening","revisions":"5376a7767fb3","tool_panel_section_label":"Convert Formats","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: graphicsmagick_image_convert\n  owner: bgruening\n  revisions: 5376a7767fb3\n  tool_panel_section_label: Convert Formats\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Laila Los","joined":"2023-04","elixir_node":"de","orcid":"0000-0002-2362-9720","affiliations":["uni-freiburg","elixir-europe"],"id":"ElectronicBlueberry","url":"https://training.galaxyproject.org/training-material/api/contributors/ElectronicBlueberry.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/ElectronicBlueberry/"},{"name":"Helena Rasche","orcid":"0000-0001-9760-8992","maintainer_contact":"gitter","matrix":"hexylena:matrix.org","joined":"2017-09","elixir_node":"nl","affiliations":["gallantries","by-covid","erasmusmc","elixir-europe","elixir-converge"],"former_affiliations":["deNBI","avans-atgm","uni-freiburg"],"contact_for_training":false,"location":{"country":"NL","lat":51.91,"lon":4.46},"id":"hexylena","url":"https://training.galaxyproject.org/training-material/api/contributors/hexylena.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/hexylena/"}]}